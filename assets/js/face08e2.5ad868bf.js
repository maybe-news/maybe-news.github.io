"use strict";(self.webpackChunkmaybe_news_github_io=self.webpackChunkmaybe_news_github_io||[]).push([[455],{7466:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"/sp-1","metadata":{"permalink":"/issues/sp-1","source":"@site/blog/sp-1.md","title":"SP #1","description":"\u8fd9\u662f Maybe News \u7279\u522b\u7bc7\u7684\u7b2c\u4e8c\u671f\uff0c\u7075\u611f\u6765\u81ea\u6211\u6700\u8fd1\u770b\u7684\u4e00\u7cfb\u5217\u6f14\u8bb2\u3002\u5982\u679c\u4f60\u60f3\u56de\u987e\u7b2c\u4e00\u671f\u7279\u522b\u7bc7\uff0c\u8bf7\u70b9\u51fb\u8fd9\u91cc\u67e5\u770b\u3002","date":"2023-11-24T20:50:00.000Z","formattedDate":"November 24, 2023","tags":[{"label":"sp","permalink":"/issues/tags/sp"}],"readingTime":10.1,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SP #1","date":"2023-11-24 20:50:00 +0800","tags":["sp"]},"nextItem":{"title":"Issue #13","permalink":"/issues/13"}},"content":"> \u8fd9\u662f Maybe News \u7279\u522b\u7bc7\u7684\u7b2c\u4e8c\u671f\uff0c\u7075\u611f\u6765\u81ea\u6211\u6700\u8fd1\u770b\u7684\u4e00\u7cfb\u5217\u6f14\u8bb2\u3002\u5982\u679c\u4f60\u60f3\u56de\u987e\u7b2c\u4e00\u671f\u7279\u522b\u7bc7\uff0c\u8bf7\u70b9\u51fb[\u8fd9\u91cc](/issues/sp-0)\u67e5\u770b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Paul Graham: Before the Startup\\n\\n[\u300cBefore the Startup\u300d](https://startupclass.samaltman.com/courses/lec03)\u662f\u7845\u8c37\u8457\u540d\u6295\u8d44\u673a\u6784 Y Combinator\uff08\u7b80\u79f0 YC\uff09\u521b\u59cb\u4eba\u3001[\u300a\u9ed1\u5ba2\u4e0e\u753b\u5bb6\u300b](https://book.douban.com/subject/6021440)\u4f5c\u8005 Paul Graham 2014 \u5e74\u5728\u65af\u5766\u798f\u5927\u5b66\u7684\u4e00\u4e2a\u6f14\u8bb2\uff0c\u4e8b\u5b9e\u4e0a\u8fd9\u662f[\u300cHow to Start a Startup\u300d](https://startupclass.samaltman.com)\u7cfb\u5217\u8bfe\u7a0b\u4e2d\u7684\u5176\u4e2d\u4e00\u8282\u8bfe\uff0c\u800c\u8fd9\u4e2a\u7cfb\u5217\u8bfe\u7a0b\u7684\u53d1\u8d77\u4eba\u6b63\u662f\u8fd1\u671f\u5907\u53d7\u77a9\u76ee\u7684 OpenAI \u521b\u59cb\u4eba Sam Altman\u3002\u9664\u4e86\u89c6\u9891\u4ee5\u5916\uff0c\u4f60\u4e5f\u80fd\u5728 Paul Graham \u7684\u4e2a\u4eba\u7f51\u7ad9\u4e0a\u770b\u5230[\u6587\u5b57\u7248](http://paulgraham.com/before.html)\uff0c\u4f46\u662f\u6211\u5efa\u8bae\u4f60\u4e24\u4e2a\u90fd\u770b\u770b\uff08\u6f14\u8bb2\u65f6\u957f\u53ea\u6709 30 \u5206\u949f\uff09\u3002\u89c6\u9891\u91cc\u5305\u542b\u7684\u662f\u6700\u539f\u59cb\u7684\u5185\u5bb9\uff0c\u9664\u4e86\u6f14\u8bb2\u4e3b\u9898\u4ee5\u5916\u8fd8\u7a7f\u63d2\u4e86\u4e0d\u5c11 Graham \u548c\u73b0\u573a\u542c\u4f17\u7684\u4e92\u52a8\u3001\u4e00\u4e9b\u4e0d\u9002\u5408\u653e\u5230\u6587\u5b57\u7248\u4e2d\u7684\u300c\u73a9\u7b11\u300d\uff0c\u4ee5\u53ca\u6700\u540e\u957f\u8fbe 18 \u5206\u949f\u7684 Q&A\u3002\u800c\u6587\u5b57\u7248\u76f8\u6bd4\u89c6\u9891\u591a\u4e86\u4e00\u4e9b Graham \u540e\u671f\u52a0\u4e0a\u7684\u811a\u6ce8\uff0c\u4ee5\u53ca\u94fe\u63a5\u5230 Graham \u4ee5\u524d\u5199\u7684\u4e00\u4e9b\u6587\u7ae0\u7684\u5f15\u7528\uff08\u53ef\u4ee5\u4f5c\u4e3a\u5ef6\u4f38\u9605\u8bfb\uff09\u3002\\n\\n\u76f8\u6bd4\u300cHow to Start a Startup\u300d\u7684\u5176\u5b83\u8bfe\u7a0b\uff0cGraham \u7684\u8fd9\u4e2a\u6f14\u8bb2\u6ca1\u6709\u4efb\u4f55 slide\uff0c30 \u5206\u949f\u7684\u6f14\u8bb2\u5168\u7a0b\u90fd\u9760\u4ed6\u53e3\u8ff0\uff08\u4e5f\u57fa\u672c\u6ca1\u6709\u770b\u6f14\u8bb2\u7a3f\uff09\u3002\u5bf9\u4e8e\u4e4b\u524d\u53ea\u770b\u8fc7 Graham \u5199\u7684\u6587\u5b57\u7684\u6211\u6765\u8bf4\uff0c\u89c2\u770b\u8fd9\u4e2a\u89c6\u9891\u8fdb\u4e00\u6b65\u52a0\u6df1\u4e86 Graham \u5728\u6211\u5fc3\u76ee\u4e2d\u7684\u4e2a\u4eba\u9b45\u529b\u3002Graham \u7684\u8fd9\u4e2a\u6f14\u8bb2\u4e3b\u9898\u5728\u6574\u4e2a\u7cfb\u5217\u4e2d\u5176\u5b9e\u7b97\u662f\u76f8\u5bf9\u62bd\u8c61\u7684\u5185\u5bb9\uff0c\u5e76\u4e0d\u6d89\u53ca\u592a\u591a\u53ef\u4ee5\u76f4\u63a5\u62ff\u6765\u7528\u7684\u521b\u4e1a\u300c\u6700\u4f73\u5b9e\u8df5\u300d\u6216\u662f\u300c\u5947\u6280\u6deb\u5de7\u300d\uff0c\u6709\u7684\u53ea\u662f Graham \u591a\u5e74\u4ece\u4e8b VC \u603b\u7ed3\u7684\u4e00\u4e9b\u300c\u7ecf\u9a8c\u300d\uff0c\u4e2d\u5fc3\u601d\u60f3\u53ef\u4ee5\u603b\u7ed3\u4e3a\u4e00\u53e5\u8bdd\u2014\u2014**\u521d\u521b\u516c\u53f8\u662f\u975e\u5e38\u8fdd\u53cd\u76f4\u89c9\u7684\uff08Startups are very counterintuitive\uff09**\u3002\\n\\n\u56f4\u7ed5\u8fd9\u4e2a\u4e2d\u5fc3\u601d\u60f3 Graham \u5217\u4e3e\u4e86 6 \u4e2a\u53cd\u76f4\u89c9\u7684\u89c2\u70b9\uff1a\\n\\n1. \u5982\u679c\u4f60\u8ddf\u7740\u76f4\u89c9\u8d70\uff0c\u5b83\u4eec\u5c31\u4f1a\u628a\u4f60\u5f15\u5165\u6b67\u9014\uff1b\\n2. \u4e86\u89e3\u5f88\u591a\u5173\u4e8e\u521d\u521b\u516c\u53f8\u7684\u4fe1\u606f\u5e76\u4e0d\u90a3\u4e48\u91cd\u8981\uff1b\\n3. \u901a\u8fc7\u73a9\u5f04\u7cfb\u7edf\uff08gaming the system\uff09\u6765\u83b7\u5f97\u6210\u529f\u5728\u521d\u521b\u516c\u53f8\u4e2d\u5e76\u4e0d\u594f\u6548\uff1b\\n4. \u521d\u521b\u516c\u53f8\u9700\u8981\u5168\u529b\u4ee5\u8d74\uff1b\\n5. \u521b\u4e1a\u662f\u5426\u6210\u529f\u5f88\u96be\u9884\u6d4b\uff1b\\n6. \u83b7\u5f97\u521b\u4e1a\u60f3\u6cd5\u7684\u65b9\u6cd5\u4e0d\u662f\u5c1d\u8bd5\u601d\u8003\u521b\u4e1a\u60f3\u6cd5\u3002\\n\\n\u4ee5\u4e0a\u6bcf\u4e2a\u89c2\u70b9 Graham \u90fd\u505a\u4e86\u8be6\u5c3d\u89e3\u91ca\u548c\u4e3e\u4f8b\u8bf4\u660e\uff0c\u8fd9\u91cc\u6211\u5c31\u4e0d\u518d\u4e00\u4e00\u8f6c\u8ff0\u3002\\n\\n\u5728 30 \u5206\u949f\u7684\u6f14\u8bb2\u7ed3\u675f\u4ee5\u540e\uff0c\u6709\u4e00\u4e2a\u957f\u8fbe 18 \u5206\u949f\u7684 Q&A \u73af\u8282\u3002\u7531\u4e8e Graham \u4e2a\u4eba\u7f51\u7ad9\u7684\u6587\u5b57\u7248\u4e2d\u5e76\u4e0d\u5305\u542b Q&A \u7684\u5185\u5bb9\uff0c\u4e8e\u662f\u6211\u6574\u7406\u4e86\u51e0\u4e2a\u6211\u89c9\u5f97\u6709\u610f\u601d\u7684\u95ee\u9898\uff1a\\n\\n- **\u5982\u679c\u6211\u5bf9\u521b\u4e1a\u611f\u5174\u8da3\uff0c\u5546\u5b66\u9662\u8fd8\u6709\u4ef7\u503c\u5417\uff1f**\\n  - **\u57fa\u672c\u4e0a\u6ca1\u6709\u3002**\u5546\u5b66\u9662\u7684\u76ee\u7684\u662f\u6559\u4eba\u5982\u4f55\u7ba1\u7406\uff0c\u800c\u7ba1\u7406\u662f\u4e00\u4e2a\u53ea\u6709\u5728\u521d\u521b\u516c\u53f8\u53d6\u5f97\u8db3\u591f\u6210\u529f\u65f6\u624d\u4f1a\u9047\u5230\u7684\u95ee\u9898\u3002**\u8981\u60f3\u8ba9\u521d\u521b\u516c\u53f8\u53d6\u5f97\u6210\u529f\uff0c\u4f60\u9700\u8981\u5c3d\u65e9\u4e86\u89e3\u7684\u662f\u5982\u4f55\u5f00\u53d1\u4e00\u4e2a\u597d\u7684\u4ea7\u54c1\u3002**\\n  - \u6211\u65e9\u671f\u505a\u9519\u7684\u4e00\u4ef6\u4e8b\u662f\uff0c\u6211\u5efa\u8bae\u90a3\u4e9b\u6709\u610f\u521b\u529e\u521d\u521b\u516c\u53f8\u7684\u4eba\u5148\u53bb\u5176\u5b83\u516c\u53f8\u5de5\u4f5c\u51e0\u5e74\uff0c\u7136\u540e\u518d\u521b\u529e\u81ea\u5df1\u7684\u516c\u53f8\u3002\u4f46\u8001\u5b9e\u8bf4\uff0c**\u5b66\u4e60\u5982\u4f55\u521b\u529e\u521d\u521b\u516c\u53f8\u7684\u6700\u597d\u65b9\u6cd5\u5c31\u662f\u5c1d\u8bd5\u521b\u529e\u4e00\u5bb6\u521d\u521b\u516c\u53f8**\u3002\\n- **\u4f60\u7684\u6f14\u8bb2\u4e2d\u63d0\u5230\u53ea\u6709\u6210\u529f\u4e86\u4ee5\u540e\u7ba1\u7406\u624d\u662f\u4e2a\u95ee\u9898\uff0c\u90a3\u5bf9\u4e8e\u6700\u521d\u52a0\u5165\u7684\u4e24\u4e09\u4e2a\u4eba\u662f\u5426\u4f1a\u9047\u5230\u7ba1\u7406\u95ee\u9898\u5462\uff1f**\\n  - **\u521d\u521b\u516c\u53f8\u7684\u7b2c\u4e00\u6279\u5458\u5de5\u51e0\u4e4e\u5c31\u50cf\u521b\u59cb\u4eba\u4e00\u6837\u3002**\u4ed6\u4eec\u5e94\u8be5\u53d7\u5230\u540c\u6837\u7684\u6fc0\u52b1\uff0c\u4ed6\u4eec\u4e0d\u80fd\u662f\u4f60\u5fc5\u987b\u7ba1\u7406\u7684\u4eba\uff0c\u4f60\u4e0d\u5e94\u8be5\u8fc7\u591a\u5730\u7ba1\u7406\u4ed6\u4eec\u3002\\n  - \u4e00\u822c\u6765\u8bf4\uff0c\u4f60\u9700\u8981\u90a3\u4e9b\u5728\u65e9\u671f\u5c31\u80fd\u81ea\u6211\u6fc0\u52b1\u7684\u4eba\u3002**\u4ed6\u4eec\u5e94\u8be5\u50cf\u521b\u59cb\u4eba\u4e00\u6837\u3002**\\n- **\u5bf9\u4e8e\u6b63\u5728\u5bfb\u6c42\u8d44\u91d1\u7684\u5973\u6027\u8054\u5408\u521b\u59cb\u4eba\uff0c\u4f60\u6709\u4ec0\u4e48\u5efa\u8bae\uff1f**\\n  - **\u8ba9\u4f60\u7684\u521d\u521b\u516c\u53f8\u505a\u5f97\u8db3\u591f\u597d\u3002**\u5982\u679c\u4ece\u98ce\u9669\u6295\u8d44\u4eba\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4f60\u5728\u4efb\u4f55\u65b9\u9762\u90fd\u6ca1\u6709\u8fbe\u5230\u7406\u60f3\u76ee\u6807\uff0c\u90a3\u4e48\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u5c31\u662f\u8ba9\u521d\u521b\u516c\u53f8\u771f\u6b63\u505a\u597d\u3002\\n  - \u4e8b\u5b9e\u4e0a\u4e00\u4e24\u5e74\u524d\uff0c\u6211\u66fe\u5728 Twitter \u4e0a\u53d1\u5e03\u8fc7\u4e00\u5bb6\u516c\u53f8\u7684\u589e\u957f\u56fe\uff0c\u4f46\u6211\u6ca1\u6709\u8bf4\u5979\u4eec\u662f\u8c01\u3002\u8fd9\u5176\u5b9e\u662f\u4e00\u5bb6\u7531\u5973\u6027\u521b\u529e\u7684\u521d\u521b\u516c\u53f8\uff0c\u5979\u4eec\u5728\u878d\u8d44\u65b9\u9762\u9047\u5230\u4e86\u56f0\u96be\uff0c\u4f46\u5979\u4eec\u7684\u589e\u957f\u5374\u975e\u5e38\u60ca\u4eba\u3002\u4e8e\u662f\u6211\u5728 Twitter \u4e0a\u53d1\u5e03\u4e86\u8fd9\u6761\u6d88\u606f\uff0c\u56e0\u4e3a\u6211\u77e5\u9053\u6240\u6709\u7684\u98ce\u9669\u6295\u8d44\u4eba\u90fd\u4f1a\u5f00\u59cb\u95ee\u6211\u8fd9\u662f\u8c01\u3002**\u589e\u957f\u56fe\u8868\u6ca1\u6709\u6027\u522b\u4e4b\u5206\u3002**\\n- **\u5728\u4f60\u7684\u5de5\u4f5c\u548c\u4e2a\u4eba\u751f\u6d3b\u4e2d\uff0c\u6709\u54ea\u4e9b\u65b9\u5f0f\u6216\u8005\u6280\u5de7\u80fd\u8ba9\u4f60\u53d8\u5f97\u9ad8\u6548\uff1f**\\n  - ~~\u751f\u5b69\u5b50\u662f\u63d0\u9ad8\u6548\u7387\u7684\u597d\u529e\u6cd5\u3002\u56e0\u4e3a\u4f60\u6ca1\u6709\u65f6\u95f4\u4e86\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u60f3\u5b8c\u6210\u4efb\u4f55\u4e8b\u60c5\uff0c\u6bcf\u6b21\u5b8c\u6210\u7684\u91cf\u5c31\u4f1a\u5f88\u5927\u3002\u8fd9\u4f1a\u8ba9\u4f60\u96c6\u4e2d\u7cbe\u529b\uff0c\u56e0\u4e3a\u4f60\u522b\u65e0\u9009\u62e9\u3002~~\uff08\u8fd9\u53ea\u662f\u4e2a\u73a9\u7b11\uff09\\n  - \u6211\u4e0d\u8ba4\u4e3a\u6211\u662f\u4e00\u4e2a\u6548\u7387\u5f88\u9ad8\u7684\u4eba\uff0c\u6211\u6709\u4e24\u79cd\u5b8c\u6210\u5de5\u4f5c\u7684\u65b9\u6cd5\uff1a\\n    - \u65b9\u6cd5 1\uff0c\u88ab\u8feb\u5de5\u4f5c\u3002\u6211\u5728 YC \u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\u88ab\u8feb\u7684\uff0c\u6211\u4e0d\u5f97\u4e0d\u8bbe\u5b9a\u7533\u8bf7\u622a\u6b62\u65e5\u671f\u3002\u7136\u540e\u4eba\u4eec\u5c31\u4f1a\u63d0\u51fa\u7533\u8bf7\uff0c\u6211\u5fc5\u987b\u5728\u67d0\u4e2a\u65f6\u95f4\u4e4b\u524d\u505a\u51fa\u56de\u590d\uff0c\u6240\u4ee5\u6211\u5fc5\u987b\u9605\u8bfb\u8fd9\u4e9b\u7533\u8bf7\u3002\u6211\u77e5\u9053\u5982\u679c\u6211\u8bfb\u5f97\u4e0d\u597d\uff0c\u5c31\u4f1a\u6295\u8d44\u5230\u4e0d\u597d\u7684\u521d\u521b\u516c\u53f8\uff0c\u6240\u4ee5\u6211\u5fc5\u987b\u975e\u5e38\u52aa\u529b\u5730\u8bfb\u597d\u5b83\u4eec\u3002\\n    - \u65b9\u6cd5 2\uff0c\u505a\u4f60\u611f\u5174\u8da3\u7684\u4e8b\u60c5\uff0c\u5bf9\u6211\u6765\u8bf4\u5c31\u662f\u5199\u6587\u7ae0\u3002\u6211\u4f1a\u4e0d\u7531\u81ea\u4e3b\u5730\u60f3\u8981\u5199\u6587\u7ae0\uff0c\u5c31\u50cf\u8d70\u5728\u5927\u8857\u4e0a\u65f6\uff0c\u6587\u7ae0\u5c31\u5f00\u59cb\u5728\u6211\u8111\u5b50\u91cc\u8bde\u751f\u3002\\n  - \u6211\u8981\u4e48\u5f3a\u8feb\u81ea\u5df1\u53bb\u505a\u4e0d\u90a3\u4e48\u4ee4\u4eba\u5174\u594b\u7684\u4e8b\u60c5\uff0c\u8981\u4e48\u5c31\u60c5\u4e0d\u81ea\u7981\u5730\u53bb\u505a\u4ee4\u4eba\u5174\u594b\u7684\u4e8b\u60c5\uff0c\u6211\u6ca1\u6709\u4efb\u4f55\u6709\u7528\u7684\u6280\u5de7\u6765\u8ba9\u81ea\u5df1\u53d8\u5f97\u9ad8\u6548\u3002**\u5982\u679c\u4f60\u4ece\u4e8b\u81ea\u5df1\u559c\u6b22\u7684\u5de5\u4f5c\uff0c\u5c31\u4e0d\u5fc5\u5f3a\u8feb\u81ea\u5df1\u63d0\u9ad8\u6548\u7387\u3002**\\n- **\u8be5\u5982\u4f55\u786e\u5b9a\u4ec0\u4e48\u662f\u91cd\u8981\u7684\u6216\u8005\u771f\u6b63\u6709\u8da3\u7684\u4e8b\u60c5\uff1f**\\n  - **\u6211\u60f3\u51fa\u4e86\u4e00\u79cd\u68c0\u6d4b\u4f60\u662f\u5426\u559c\u6b22\u771f\u6b63\u6709\u8da3\u95ee\u9898\u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u4f60\u662f\u5426\u89c9\u5f97\u505a\u65e0\u804a\u7684\u4e8b\u60c5\u96be\u4ee5\u5fcd\u53d7\u3002**\u6709\u4e00\u4e9b\u4f17\u6240\u5468\u77e5\u7684\u67af\u71e5\u4e4f\u5473\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982\u6587\u5b66\u7406\u8bba\u548c\u5728\u67d0\u4e2a\u5927\u516c\u53f8\u7684\u4e2d\u5c42\u7ba1\u7406\u90e8\u95e8\u5de5\u4f5c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u80fd\u5fcd\u53d7\u8fd9\u4e9b\u4e8b\u60c5\uff0c\u90a3\u4e48\u4f60\u4e00\u5b9a\u662f\u6709\u8d85\u5f3a\u7684\u81ea\u5f8b\u80fd\u529b\uff0c\u6216\u8005\u4f60\u4e0d\u559c\u6b22\u771f\u6b63\u6709\u8da3\u7684\u95ee\u9898\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\\n- **\u5982\u679c\u4f60\u603b\u662f\u96c7\u7528\u81ea\u5df1\u559c\u6b22\u7684\u4eba\uff0c\u4f60\u53ef\u80fd\u4f1a\u5f97\u5230\u4e00\u4e2a\u5355\u4e00\u6587\u5316\uff08monoculture\uff09\u7684\u516c\u53f8\uff0c\u8be5\u5982\u4f55\u5904\u7406\u53ef\u80fd\u5e26\u6765\u7684\u76f2\u70b9\uff1f**\\n  - \u521b\u529e\u4e00\u5bb6\u521d\u521b\u516c\u53f8\u5f88\u591a\u4e8b\u60c5\u90fd\u4f1a\u51fa\u9519\uff0c\u4f60\u4e0d\u80fd\u6307\u671b\u5b83\u5341\u5168\u5341\u7f8e\uff0c\u800c**\u96c7\u7528\u4f60\u719f\u6089\u548c\u559c\u6b22\u7684\u4eba\u7684\u4f18\u52bf\u8fdc\u8fdc\u5927\u4e8e\u6240\u8c13\u5355\u4e00\u6587\u5316\u7684\u5c0f\u7f3a\u70b9**\u3002\u4ece\u7ecf\u9a8c\u4e0a\u770b\uff0c\u6240\u6709\u6700\u6210\u529f\u7684\u521d\u521b\u516c\u53f8\u90fd\u4f1a\u96c7\u7528\u5927\u5b66\u6bd5\u4e1a\u7684\u4f19\u4f34\u3002\\n\\n\u5728\u300cHow to Start a Startup\u300d\u7f51\u7ad9\u7684[\u63a8\u8350\u9605\u8bfb](https://startupclass.samaltman.com/lists/readings)\u91cc\uff0cGraham \u7684\u8fd9\u8282\u8bfe\u6709\u4e24\u4e2a\u63a8\u8350\u9879\uff0c\u4e00\u4e2a\u662f Graham 2012 \u5e74\u5199\u7684\u6587\u7ae0[\u300cHow to Get Startup Ideas\u300d](http://www.paulgraham.com/startupideas.html)\uff0c\u53e6\u4e00\u4e2a\u662f Steve Jobs 1995 \u5e74\u7684\u4e00\u6bb5\u91c7\u8bbf\u89c6\u9891\u3002\u6574\u4e2a\u91c7\u8bbf\u63a5\u8fd1 1 \u4e2a\u534a\u5c0f\u65f6\uff0c\u4f46\u662f\u4ece [1 \u5c0f\u65f6 10 \u5206](https://www.youtube.com/watch?v=M6Oxl5dAnR0&t=1h10m53s)\u5f00\u59cb\uff0c\u8bb0\u8005\u95ee\u4e86 Steve Jobs \u4e00\u4e9b\u5173\u4e8e\u5982\u4f55\u770b\u5f85\u521d\u521b\u516c\u53f8\u548c\u5927\u516c\u53f8\u4e4b\u95f4\u5173\u7cfb\u7684\u95ee\u9898\uff0c\u672c\u671f Maybe News SP \u5c06\u4ee5 Steve Jobs \u7684\u8fd9\u6bb5\u56de\u7b54\u4f5c\u4e3a\u7ed3\u675f\uff1a\\n\\n> Technology keeps on advancing so there are opportunities.\\n>\\n> \u2026\\n>\\n> Human minds settle into fixed ways of looking at the world and that\u2019s always been true and it\u2019s probably always going to be true.\\n>\\n> \u2026\\n>\\n> One of the things that happens in organizations as well as in people is they settle into ways of looking at the world and become satisfied with those, and the world changes and keeps evolving and new potential arises, but these people that are settled in don\u2019t see it. That\u2019s what gives startup companies their greatest advantage is the sedentary point of view of large companies."},{"id":"/13","metadata":{"permalink":"/issues/13","source":"@site/blog/13.md","title":"Issue #13","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aInfiniFS\u3001Decentralized Social Networks\u3001\u6768\u6d77\u5d27","date":"2022-06-07T19:00:00.000Z","formattedDate":"June 7, 2022","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":33.98,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #13","date":"2022-06-07 19:00:00 +0800","tags":["issue"]},"prevItem":{"title":"SP #1","permalink":"/issues/sp-1"},"nextItem":{"title":"SP #0","permalink":"/issues/sp-0"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aInfiniFS\u3001Decentralized Social Networks\u3001\u6768\u6d77\u5d27\\n\\n\x3c!--truncate--\x3e\\n\\n## InfiniFS: An Efficient Metadata Service for Large-Scale Distributed Filesystems\\n\\n[[\u94fe\u63a5]](https://www.usenix.org/conference/fast22/presentation/lv)\\n\\n\u672c\u671f\u662f\u5173\u4e8e\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u8bba\u6587\u7684\u53c8\u4e00\u671f\u89e3\u8bfb\uff0c\u518d\u4e4b\u524d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u5982[\u7b2c 1 \u671f](/issues/1)\u7684 CFS\uff08\u4e5f\u5c31\u662f ChubaoFS\uff0c\u540e\u6765\u53c8\u6539\u540d\u53eb [CubeFS](https://github.com/cubeFS/cubefs)\uff09\u3001[\u7b2c 8 \u671f](/issues/8)\u7684 GFS \u4ee5\u53ca[\u7b2c 10 \u671f](/issues/10)\u7684 Tectonic\u3002\\n\\n\u672c\u671f\u4ecb\u7ecd\u7684\u8fd9\u7bc7\u8bba\u6587\u53d1\u8868\u5728 2022 \u5e74\u7684 FAST \u4f1a\u8bae\uff08\u548c Tectonic \u4e00\u6837\uff09\uff0c\u8bba\u6587\u4f5c\u8005\u5927\u90e8\u5206\u6765\u81ea\u6e05\u534e\u5927\u5b66\u7684[\u5b58\u50a8\u7814\u7a76\u7ec4](https://storage.cs.tsinghua.edu.cn)\uff08Storage Research Group\uff09\uff0c\u8fd9\u4e2a\u7814\u7a76\u7ec4\u8fc7\u5f80\u53d1\u8868\u7684\u8bba\u6587\u90fd\u96c6\u4e2d\u5728\u5b58\u50a8\u9886\u57df\uff0c\u4ec5\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5c31\u6709\u81f3\u5c11\u4e09\u56db\u7bc7\u76f8\u5173\u7684\u8bba\u6587\uff0c\u672c\u7bc7\u57fa\u672c\u7b97\u662f\u8fd9\u4e2a\u7814\u7a76\u7cfb\u5217\u7684\u6700\u65b0\u6210\u679c\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u4ed6\u4eec\u7684\u7f51\u7ad9[\u67e5\u770b](https://storage.cs.tsinghua.edu.cn/pub)\u5386\u53f2\u53d1\u8868\u7684\u8bba\u6587\u3002\u672c\u7bc7\u8bba\u6587\u8fd8\u6709\u4e00\u4e2a\u4f5c\u8005\u6765\u81ea\u963f\u91cc\u4e91\u5206\u5e03\u5f0f\u5b58\u50a8\u56e2\u961f\uff0c\u56e0\u6b64\u4e5f\u80fd\u5728\u8bba\u6587\u4e2d\u770b\u5230\u5f88\u591a\u6570\u636e\u662f\u57fa\u4e8e\u963f\u91cc\u4e91\u7684[\u76d8\u53e4](https://www.alibabacloud.com/blog/pangu-the-high-performance-distributed-file-system-by-alibaba-cloud_594059)\u6765\u5206\u6790\u7684\uff0c\u4e0d\u8fc7\u6587\u4e2d\u5e76\u6ca1\u6709\u900f\u9732\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u76ee\u524d\u662f\u5426\u6709\u5728\u963f\u91cc\u4e91\u4e2d\u6b63\u5f0f\u4f7f\u7528\u3002\u53e6\u5916\u8fd9\u4e2a\u6765\u81ea\u963f\u91cc\u4e91\u7684\u540c\u5b66\u7684[\u4e2a\u4eba\u535a\u5ba2](http://duanple.com)\u4e5f\u6709\u633a\u591a\u4e0d\u9519\u7684\u5185\u5bb9\uff0c\u4e5f\u90fd\u662f\u56f4\u7ed5\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u76f8\u5173\u7684\u8bdd\u9898\u3002\\n\\n\u94fa\u57ab\u4e86\u8fd9\u4e48\u591a\u6211\u4eec\u6765\u5b9e\u9645\u770b\u770b\u8fd9\u4e2a\u88ab\u79f0\u4e3a InfiniFS\uff08\u540d\u5b57\u633a\u6709\u91ce\u5fc3\uff09\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5230\u5e95\u6709\u4ec0\u4e48\u72ec\u7279\u4e4b\u5904\u5427\uff0c\u548c\u524d\u51e0\u671f\u4ecb\u7ecd\u7684\u7cfb\u7edf\u4e0d\u592a\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0c\u672c\u6587\u6838\u5fc3\u7684\u5173\u6ce8\u70b9\u662f\u5728\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\u7ba1\u7406\uff0c\u800c\u5173\u4e8e\u6570\u636e\u5b58\u50a8\u7684\u90e8\u5206\u5219\u4e0d\u662f\u672c\u6587\u7684\u91cd\u5fc3\uff08\u8bba\u6587\u4e2d\u4e5f\u538b\u6839\u6ca1\u63d0\uff09\u3002\u8bba\u6587\u6458\u8981\u4e2d\u5df2\u7ecf\u7b80\u8981\u6982\u62ec\u4e86 InfiniFS \u7684\u51e0\u4e2a\u72ec\u7279\u7684\u8bbe\u8ba1\u70b9\uff1a\\n\\n- **\u628a\u76ee\u5f55\u5143\u6570\u636e\u4e2d\u7684 Access \u548c Content \u8fdb\u884c\u5206\u79bb**\uff1a\u8fd9\u6837\u5206\u5272\uff08partition\uff09\u76ee\u5f55\u6811\u4ee5\u540e\u65e2\u80fd\u6ee1\u8db3\u5143\u6570\u636e\u7684\u6570\u636e\u672c\u5730\u6027\uff0c\u4e5f\u80fd\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002\u5173\u4e8e\u8fd9\u91cc\u7684 Access \u548c Content \u5177\u4f53\u662f\u6307\u4ec0\u4e48\u5143\u6570\u636e\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff1b\\n- **\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\uff08speculative path resolution\uff09\u65b9\u6cd5**\uff1a\u8fd9\u6837\u53ef\u4ee5\u628a\u8def\u5f84\u89e3\u6790\u5e76\u884c\u5316\uff0c\u719f\u6089\u6587\u4ef6\u7cfb\u7edf\u7684\u540c\u5b66\u5e94\u8be5\u80fd\u7406\u89e3\u8fd9\u4e2a\u4f18\u5316\u80fd\u5e26\u6765\u4ec0\u4e48\u663e\u8457\u53d8\u5316\uff1b\\n- **\u5728\u5ba2\u6237\u7aef\u5f15\u5165\u4e00\u4e2a\u4e50\u89c2\u8bbf\u95ee\u7684\u5143\u6570\u636e\u7f13\u5b58\uff08optimistic access metadata cache\uff09**\uff1a\u518d\u5f3a\u5927\u7684\u670d\u52a1\u7aef\u4e5f\u67b6\u4e0d\u4f4f\u832b\u832b\u591a\u7684\u5ba2\u6237\u7aef\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u5ba2\u6237\u7aef\u7f13\u5b58\u8fd8\u662f\u9700\u8981\u7684\u3002\\n\\n\u7ecf\u8fc7\u8fd9\u4e9b\u4f18\u5316\u8bbe\u8ba1\u4ee5\u540e InfiniFS \u53f7\u79f0\u53ef\u4ee5\u652f\u6491**\u5343\u4ebf\u7ea7**\u7684\u6587\u4ef6\u5b58\u50a8\u5e76\u63d0\u4f9b\u53ef\u89c2\u7684\u6027\u80fd\uff0c\u5728\u8bba\u6587\u6700\u540e\u7684\u5b9e\u9a8c\u9a8c\u8bc1\u73af\u8282\u4ed6\u4eec\u4e5f\u7684\u786e\u6a21\u62df\u4e86\u8fd9\u4e48\u5927\u91cf\u7ea7\u7684\u6d4b\u8bd5\u6570\u636e\u3002\\n\\n\u5728\u6b63\u5f0f\u4ecb\u7ecd\u8fd9\u4e09\u4e2a\u4f18\u5316\u7684\u8be6\u7ec6\u8bbe\u8ba1\u4e4b\u524d\uff0c\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u80cc\u666f\uff0c\u4e5f\u5c31\u662f\u6700\u521d\u8bbe\u8ba1 InfiniFS \u7684\u52a8\u673a\u662f\u4ec0\u4e48\uff08\u5f53\u7136\u4e0d\u53ea\u662f\u4e3a\u4e86\u53d1\u8bba\u6587\uff09\u3002\u6587\u4e2d\u9996\u5148\u63d0\u51fa\u4e86\u5f53\u4e0b\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e\u8bbe\u8ba1\u7684\u51e0\u4e2a\u7279\u70b9\uff1a\\n\\n- \u9996\u5148\u6587\u4ef6\u7684\u5143\u6570\u636e\u90fd\u662f\u6309\u7167**\u76ee\u5f55\u6811**\uff08directory tree\uff09\u7684\u7ec4\u7ec7\u5f62\u5f0f\u6765\u7ba1\u7406\u7684\uff0c\u8fd9\u662f\u4e2a\u975e\u5e38\u81ea\u7136\u7684\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u4e60\u60ef\u4e8e\u6309\u7167\u76ee\u5f55\u6811\u6765\u7ba1\u7406\u6587\u4ef6\uff08\u8ba1\u7b97\u673a\u91cc\u4e4b\u6240\u4ee5\u91c7\u7528\u8fd9\u79cd\u7ba1\u7406\u5f62\u5f0f\u5e94\u8be5\u4e5f\u662f\u5c06\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u65b9\u5f0f\u76f4\u63a5\u6620\u5c04\u8fc7\u6765\uff0c\u5177\u4f53\u539f\u56e0\u53ef\u80fd\u8981\u8003\u636e\u4e00\u4e0b\u8ba1\u7b97\u673a\u4ea4\u4e92\u8bbe\u8ba1\u7684\u5386\u53f2\uff09\uff1b\\n- \u5728\u4ee5\u76ee\u5f55\u6811\u4e3a\u57fa\u7840\u8bbe\u8ba1\u7684\u5143\u6570\u636e\u8bbf\u95ee\u4e2d\u6709\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4\uff0c**\u4e00\u4e2a\u662f\u8def\u5f84\u89e3\u6790\uff0c\u4e00\u4e2a\u662f\u5904\u7406\u5143\u6570\u636e**\u3002\u6240\u8c13\u300c\u8def\u5f84\u89e3\u6790\u300d\u53ef\u4ee5\u4e3e\u4e2a\u6817\u5b50\uff0c\u5f53\u6211\u4eec\u60f3\u8981\u8bbf\u95ee\u4e00\u4e2a\u6587\u4ef6\u65f6\u9996\u5148\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\uff0c\u6bd4\u5982 `/home/alice/abc.txt`\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u662f\u4e00\u4e2a\u591a\u7ea7\u8def\u5f84\uff0c\u5206\u522b\u662f `home/`\u3001`alice/` \u548c `abc.txt`\uff0c\u8fd9\u91cc\u9762\u7684\u6bcf\u4e00\u90e8\u5206\u90fd\u6709\u5bf9\u5e94\u7684\u5143\u6570\u636e\uff0c\u8def\u5f84\u89e3\u6790\u5c31\u662f\u83b7\u53d6\u6bcf\u90e8\u5206\u7684\u5143\u6570\u636e\uff0c\u901a\u5e38\u8def\u5f84\u89e3\u6790\u662f\u4e32\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u5148\u89e3\u6790 `home/`\uff0c\u518d\u89e3\u6790 `alice/`\uff0c\u6700\u540e\u89e3\u6790 `abc.txt`\uff0c**\u4e5f\u5c31\u662f\u8bf4\u8def\u5f84\u8d8a\u957f\u82b1\u8d39\u5728\u8def\u5f84\u89e3\u6790\u4e0a\u7684\u65f6\u95f4\u4e5f\u4f1a\u8d8a\u957f**\u3002\u300c\u5904\u7406\u5143\u6570\u636e\u300d\u5bf9\u5e94\u7684\u5c31\u662f\u5b9e\u9645\u7684\u5143\u6570\u636e\u64cd\u4f5c\uff0c\u6bd4\u5982\u91cd\u547d\u540d\u3001\u4fee\u6539\u6743\u9650\u3001\u79fb\u52a8\u6587\u4ef6\u7b49\u3002\\n\\n\u7531\u4e8e\u5143\u6570\u636e\u670d\u52a1\u5728\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u89d2\u8272\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u6b64\u5f88\u5bb9\u6613\u5c31\u6210\u4e3a\u74f6\u9888\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\uff0c\u6570\u636e\u5b58\u50a8\u670d\u52a1\u53ef\u4ee5\u76f8\u5bf9\u5bb9\u6613\u5730\u6a2a\u5411\u6269\u5c55\uff0c\u4f46\u662f\u5143\u6570\u636e\u670d\u52a1\u5f80\u5f80\u6bd4\u8f83\u56f0\u96be\u3002\u4e8e\u662f\u5728\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u8fd0\u7ef4\u5b9e\u8df5\u4e2d\uff0c\u4eba\u4eec\u901a\u5e38\u503e\u5411\u4e8e\u7ba1\u7406\u5f88\u591a\u4e2a\u5c0f\u7684\u96c6\u7fa4\uff0c\u800c\u4e0d\u662f\u7ba1\u7406\u4e00\u4e2a\u975e\u5e38\u5927\u7684\u96c6\u7fa4\uff08\u51b5\u4e14\u5f88\u591a\u6587\u4ef6\u7cfb\u7edf\u5f80\u5f80\u4e5f\u652f\u6491\u4e0d\u4e86\u7279\u522b\u5927\u7684\u89c4\u6a21\uff09\u3002\u6587\u4e2d\u4e3e\u4e86\u4e00\u4e2a\u5b9e\u9645\u7684\u6817\u5b50\uff0c\u963f\u91cc\u4e91\u4e0a\u76ee\u524d\u5df2\u7ecf\u8fd0\u7ef4\u4e86**\u8fd1\u5343\u4e2a\u76d8\u53e4\u6587\u4ef6\u7cfb\u7edf**\u96c6\u7fa4\u6765\u652f\u6491\u6570\u636e\u4e2d\u5fc3\u767e\u4ebf\u7ea7\u7684\u6587\u4ef6\u5b58\u50a8\u9700\u6c42\u3002Facebook \u4e5f\u540c\u6837\u5982\u6b64\uff0c\u56e0\u4e3a\u5355\u4e2a HDFS \u96c6\u7fa4\u6700\u591a\u80fd\u652f\u6491 [1 \u4ebf\u5de6\u53f3](https://www.usenix.org/publications/login/april-2010-volume-35-number-2/hdfs-scalability-limits-growth)\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u5728 Facebook \u5185\u90e8\u7ef4\u62a4\u4e86\u5f88\u591a\u5927\u5927\u5c0f\u5c0f\u7684 HDFS \u96c6\u7fa4\uff08\u8fd9\u4e00\u70b9\u5728[\u7b2c 8 \u671f](/issues/8)\u4ecb\u7ecd\u7684 Tectonic \u91cc\u4e5f\u6709\u8bf4\u660e\uff09\u3002\\n\\n\u8fd0\u7ef4\u6570\u4e2a\u5206\u5e03\u5f0f\u96c6\u7fa4\u7684\u6210\u672c\u663e\u7136\u4e0d\u5c0f\uff0c\u800c\u4ec5\u7528\u4e00\u4e2a\u96c6\u7fa4\u5c31\u80fd\u652f\u6491\u6574\u4e2a\u6570\u636e\u4e2d\u5fc3\u5b58\u50a8\u9700\u6c42\u7684\u300c\u8bf1\u60d1\u300d\u53c8\u662f\u5982\u6b64\u4e4b\u5927\uff0c\u4eba\u4eec\u624d\u4f1a\u60f3\u8981\u4e0d\u65ad\u63a2\u7d22\u548c\u7a81\u7834\u3002\u5173\u4e8e\u8fd0\u7ef4\u5355\u4e00\u6587\u4ef6\u7cfb\u7edf\u7684\u597d\u5904\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\uff0c\u540c\u6837\u53ef\u4ee5\u53c2\u8003\u7b2c 8 \u671f\u91cc Tectonic \u7684\u5185\u5bb9\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f InfiniFS \u8bbe\u8ba1\u7684\u80cc\u666f\u548c\u52a8\u673a\uff0c\u7b80\u5355\u8bb2\u5c31\u662f\u5e0c\u671b\u901a\u8fc7\u4f18\u5316\u5143\u6570\u636e\u670d\u52a1\u6765\u652f\u6491\u66f4\u5927\u89c4\u6a21\u7684\u6570\u636e\u5b58\u50a8\u9700\u6c42\u3002\u5177\u4f53\u4f18\u5316\u7684\u51e0\u4e2a\u70b9\u524d\u9762\u5df2\u7ecf\u7b80\u5355\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u4e0b\u9762\u4f1a\u8be6\u7ec6\u8bf4\u660e\u3002\\n\\n\u9996\u5148\u6765\u770b\u770b InfiniFS \u4e2d\u5177\u4f53\u6709\u54ea\u4e9b\u7ec4\u4ef6\uff08\u6ce8\u610f\u8fd9\u4e2a\u7cfb\u7edf\u53ea\u5305\u542b\u5143\u6570\u636e\u7684\u90e8\u5206\uff0c\u4e0d\u5305\u542b\u6570\u636e\u5b58\u50a8\uff09\uff1a\\n\\n- **\u5ba2\u6237\u7aef**\uff1a\u4e0e\u5927\u591a\u6570\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e00\u6837\uff0cInfiniFS \u6709\u4e00\u4e2a\u4e13\u7528\u7684\u5ba2\u6237\u7aef\uff0c\u8fd9\u4e2a\u5ba2\u6237\u7aef\u4ee5\u7528\u6237\u6001\u5e93\u6216\u8005 FUSE \u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u4e5f\u5c31\u610f\u5473\u7740 InfiniFS \u652f\u6301 POSIX \u63a5\u53e3\uff08\u662f\u5426\u5b8c\u5168\u517c\u5bb9 POSIX \u8bba\u6587\u4e2d\u5e76\u6ca1\u6709\u8bf4\uff09\u3002\u524d\u9762\u63d0\u5230\u7684 3 \u4e2a\u8bbe\u8ba1\u4eae\u70b9\u4e2d\u7684 2 \u4e2a\u90fd\u4e0e\u5ba2\u6237\u7aef\u6709\u5173\uff0c\u5305\u62ec\u300c\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\u300d\u548c\u300c\u4e50\u89c2\u5143\u6570\u636e\u7f13\u5b58\u300d\u3002\\n- **\u5143\u6570\u636e\u670d\u52a1\u5668**\uff1a\u6587\u4ef6\u7cfb\u7edf\u7684\u76ee\u5f55\u6811\u901a\u8fc7\u524d\u9762\u63d0\u5230\u7684\u300caccess-content \u89e3\u8026\u5206\u5272\u300d\u7684\u65b9\u6cd5\u5206\u5e03\u5230\u96c6\u7fa4\u4e2d\u4e0d\u540c\u7684\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u3002\u6bcf\u4e2a\u5143\u6570\u636e\u670d\u52a1\u5668\u5c06\u8fd9\u4e9b\u5143\u6570\u636e\u5b58\u50a8\u5230\u672c\u5730\u7684 KV \u5b58\u50a8\u4e2d\uff0c\u8fd9\u91cc\u7684 KV \u5b58\u50a8\u901a\u5e38\u4f1a\u5c06\u5143\u6570\u636e\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u4ee5\u53ca\u901a\u8fc7\u8ffd\u52a0\u65e5\u5fd7\uff08append log\uff09\u7684\u5f62\u5f0f\u5c06\u6570\u636e\u6301\u4e45\u5316\u5230 NVMe SSD \u76d8\u4e0a\uff08\u867d\u7136\u8bba\u6587\u91cc\u6ca1\u6709\u660e\u8bf4\u7528\u7684\u662f\u4ec0\u4e48 KV \u5b58\u50a8\uff0c\u4f46\u4f30\u8ba1\u662f\u7c7b\u4f3c LevelDB\u3001RocksDB \u7684\u7ec4\u4ef6\uff09\u3002\u540c\u65f6\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u8fd8\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u300c\u7f13\u5b58\u5931\u6548\u5217\u8868\uff08invalidation list\uff0c\u7b80\u5199\u4e3a Inv. List\uff09\u300d\uff0c\u987e\u540d\u601d\u4e49\u8fd9\u4e2a\u5217\u8868\u662f\u548c\u5ba2\u6237\u7aef\u7684\u5143\u6570\u636e\u7f13\u5b58\u6709\u5173\u7684\uff0c\u540e\u9762\u5728\u4ecb\u7ecd\u300c\u4e50\u89c2\u5143\u6570\u636e\u7f13\u5b58\u300d\u65f6\u4f1a\u8be6\u7ec6\u89e3\u91ca\u5de5\u4f5c\u673a\u5236\u3002\\n- **\u91cd\u547d\u540d\u534f\u8c03\u5668\uff08Rename Coordinator\uff09**\uff1aInfiniFS \u7684\u6700\u540e\u4e00\u4e2a\u7ec4\u4ef6\u662f\u91cd\u547d\u540d\u534f\u8c03\u5668\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u4e3b\u8981\u7528\u6765\u5904\u7406\u76ee\u5f55 `rename` \u548c\u76ee\u5f55 `set_permission` \u8bf7\u6c42\u3002\u91cd\u547d\u540d\u534f\u8c03\u5668\u4f1a\u901a\u8fc7\u300c\u91cd\u547d\u540d\u56fe\uff08renaming graph\uff09\u300d\u6765\u68c0\u67e5\u5e76\u53d1\u7684\u76ee\u5f55\u91cd\u547d\u540d\u4ee5\u9632\u6b62\u5c40\u90e8\u6b7b\u5faa\u73af\uff08orphaned loop\uff09\uff0c\u540c\u65f6\u8fd8\u4f1a\u5e7f\u64ad\u4fee\u6539\u4fe1\u606f\u7ed9\u5143\u6570\u636e\u670d\u52a1\u5668\u4ee5\u66f4\u65b0\u7f13\u5b58\u5931\u6548\u5217\u8868\u3002\\n\\n\u63a5\u4e0b\u6765\u4f9d\u6b21\u4ecb\u7ecd InfiniFS \u7684 3 \u4e2a\u8bbe\u8ba1\u4eae\u70b9\uff0c\u5373\uff1aAccess-Content \u89e3\u8026\u5206\u5272\u3001\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\u3001\u4e50\u89c2\u5143\u6570\u636e\u7f13\u5b58\u3002\\n\\n\u5728\u7406\u89e3\u300cAccess-Content \u89e3\u8026\u5206\u5272\u300d\u7684\u597d\u5904\u4e4b\u524d\u5f97\u5148\u4e86\u89e3\u5e38\u89c1\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5206\u5272\u76ee\u5f55\u6811\u5143\u6570\u636e\u7684\u6311\u6218\u662f\u4ec0\u4e48\u3002**\u7b2c\u4e00\u4e2a\u6311\u6218\u662f\u4fdd\u8bc1\u5143\u6570\u636e\u7684\u672c\u5730\u6027\uff08locality\uff09**\uff0c\u7b80\u5355\u8bb2\u5c31\u662f\u628a\u76f8\u4e92\u5173\u8054\u7684\u5143\u6570\u636e\u5c3d\u91cf\u653e\u5230\u4e00\u4e2a\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u80cc\u540e\u7684\u7f18\u7531\u662f\u56e0\u4e3a\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\u901a\u5e38\u4f1a\u540c\u65f6\u6d89\u53ca\u591a\u4e2a\u5143\u6570\u636e\u7684\u4fee\u6539\uff0c\u6bd4\u5982\u300c\u521b\u5efa\u6587\u4ef6\u300d\u8fd9\u4e2a\u64cd\u4f5c\u9700\u8981\u5148\u9501\u4f4f\u7236\u76ee\u5f55\uff08\u4ee5\u4fdd\u8bc1\u76ee\u5f55\u5217\u8868\u7684\u4e00\u81f4\u6027\uff09\uff0c\u7136\u540e**\u539f\u5b50\u66f4\u65b0** 3 \u4e2a\u5143\u6570\u636e\uff08\u5305\u62ec\u6587\u4ef6\u7684\u5143\u6570\u636e\u3001\u7236\u76ee\u5f55\u7684\u6587\u4ef6\u5217\u8868\u4ee5\u53ca\u76ee\u5f55\u7684\u65f6\u95f4\u6233\uff09\u3002\u60f3\u8c61\u4e00\u4e0b\u5982\u679c\u8fd9\u4e9b\u5143\u6570\u636e\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\uff0c\u52bf\u5fc5\u9700\u8981\u5f15\u5165\u5206\u5e03\u5f0f\u9501\u548c\u5206\u5e03\u5f0f\u4e8b\u52a1\u6765\u4fdd\u8bc1\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u5206\u5e03\u5f0f\u9501\u548c\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u5f00\u9500\u662f\u5f88\u5927\u7684\uff0c\u5982\u679c\u80fd\u5206\u5e03\u5728\u540c\u4e00\u4e2a\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u53ef\u4ee5\u5927\u5927\u7b80\u5316\u8bbe\u8ba1\u4ee5\u53ca\u5927\u5e45\u63d0\u5347\u6027\u80fd\u3002**\u7b2c\u4e8c\u4e2a\u6311\u6218\u662f\u8d1f\u8f7d\u5747\u8861**\uff0c\u8fd9\u4e2a\u6311\u6218\u548c\u7b2c\u4e00\u4e2a\u770b\u8d77\u6765\u4f3c\u4e4e\u662f\u6096\u8bba\uff0c\u7406\u60f3\u60c5\u51b5\u4e0b\u628a\u6240\u6709\u5143\u6570\u636e\u653e\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u7684\u8bdd\u80af\u5b9a\u80fd\u6700\u5927\u5316\u672c\u5730\u6027\uff0c\u4f46\u8fd9\u4e2a\u670d\u52a1\u5668\u5f88\u81ea\u7136\u4e5f\u5c31\u53d8\u6210\u4e86\u5355\u70b9\uff0c\u6ca1\u6cd5\u8d1f\u8f7d\u5747\u8861\u3002\u540c\u4e00\u4e2a\u76ee\u5f55\u6811\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5f88\u53ef\u80fd\u5728\u77ed\u65f6\u95f4\u5185\u88ab\u9891\u7e41\u8bbf\u95ee\uff0c\u4ece\u800c\u5bfc\u81f4\u5c40\u90e8\u70ed\u70b9\u3002\\n\\n\u73b0\u6709\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5206\u5272\u5143\u6570\u636e\u7684\u65b9\u6cd5\u53ef\u4ee5\u5927\u4f53\u4e0a\u603b\u7ed3\u4e3a\u4e24\u7c7b\uff1a**\u7ec6\u7c92\u5ea6\u5206\u5272\uff08Fine-grained Partitioning\uff09**\u548c**\u7c97\u7c92\u5ea6\u5206\u5272\uff08Coarse-grained Partitioning\uff09**\uff0c\u8fd9\u4e24\u7c7b\u65b9\u6cd5\u90fd\u53ea\u80fd\u6ee1\u8db3\u300c\u672c\u5730\u6027\u300d\u6216\u300c\u8d1f\u8f7d\u5747\u8861\u300d\u4e2d\u7684\u4efb\u610f\u4e00\u70b9\uff0c\u65e0\u6cd5\u540c\u65f6\u6ee1\u8db3\u3002\u6bd4\u5982\u7ec6\u7c92\u5ea6\u5206\u5272\u901a\u5e38\u7684\u505a\u6cd5\u662f\u65e0\u8111\u54c8\u5e0c\u5143\u6570\u636e\uff08\u8bba\u6587\u4e2d\u5f15\u7528\u7684\u4f8b\u5b50\u662f [HopsFS](https://www.usenix.org/conference/fast17/technical-sessions/presentation/niazi) \u548c [Giraffa](https://www.usenix.org/publications/login/summer2017/shvachko)\uff09\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6700\u5927\u9650\u5ea6\u5730\u63d0\u5347\u4e86\u8d1f\u8f7d\u5747\u8861\u7684\u80fd\u529b\uff0c\u4f46\u540c\u65f6\u4e5f\u727a\u7272\u4e86\u5143\u6570\u636e\u672c\u5730\u6027\u3002\u53cd\u4e4b\u7c97\u7c92\u5ea6\u5206\u5272\u901a\u5e38\u7684\u505a\u6cd5\u662f\u5c06\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\u6309\u7167\u5b50\u6811\u4e3a\u5355\u5143\u8fdb\u884c\u62c6\u5206\uff0c\u5e76\u5206\u5e03\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u6837\u5143\u6570\u636e\u672c\u5730\u6027\u80fd\u83b7\u5f97\u4e00\u5b9a\u7684\u4fdd\u969c\uff0c\u4f46\u663e\u7136\u4f1a\u4ea7\u751f\u8d1f\u8f7d\u4e0d\u5747\u8861\u7684\u95ee\u9898\u3002\\n\\nInfiniFS \u7684\u4f5c\u8005\u8ba4\u4e3a\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u6ca1\u6cd5\u540c\u65f6\u6ee1\u8db3\u672c\u5730\u6027\u548c\u8d1f\u8f7d\u5747\u8861\u7684\u6839\u56e0\u5728\u4e8e**\u628a\u76ee\u5f55\u7684\u5143\u6570\u636e\u770b\u4f5c\u4e86\u4e00\u4e2a\u6574\u4f53**\uff0c\u5728\u4ed6\u4eec\u770b\u6765\u76ee\u5f55\u7684\u5143\u6570\u636e\u7531\u4e24\u4e2a\u72ec\u7acb\u7684\u90e8\u5206\u7ec4\u6210\uff1aAccess \u548c Content\u3002Access \u5143\u6570\u636e\u6307\u7684\u662f\u76ee\u5f55\u540d\u3001\u76ee\u5f55 ID\uff08\u5e94\u8be5\u662f\u6307 inode\uff09\u3001\u6743\u9650\u7b49\uff0c\u987e\u540d\u601d\u4e49\u8fd9\u4e9b\u662f\u4e0e\u8bbf\u95ee\u76ee\u5f55\u6709\u5173\u7684\u4fe1\u606f\u3002Content \u5143\u6570\u636e\u5305\u542b\u6761\u76ee\u5217\u8868\uff08entry list\uff09\u3001\u65f6\u95f4\u6233\u7b49\uff0c\u8fd9\u4e9b\u662f\u4e0e\u5f53\u524d\u76ee\u5f55\u7684\u5b50\u76ee\u5f55\u6216\u5b50\u6587\u4ef6\u76f8\u5173\u7684\u4fe1\u606f\u3002\u901a\u8fc7\u5206\u6790\u6240\u6709\u5143\u6570\u636e\u64cd\u4f5c\u53ef\u4ee5\u5c06\u5b83\u4eec\u5206\u4e3a 3 \u7c7b\uff1a\u4ec5\u5904\u7406\u76ee\u6807\u6587\u4ef6/\u76ee\u5f55\u3001\u5904\u7406\u76ee\u6807\u6587\u4ef6/\u76ee\u5f55\u4ee5\u53ca\u7236\u76ee\u5f55\u3001\u91cd\u547d\u540d\uff08\u8fd9\u662f\u4e2a\u7279\u4f8b\u540e\u9762\u4f1a\u5355\u8bf4\uff09\u3002\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u628a\u300c\u76ee\u5f55\u7684 Content \u5143\u6570\u636e\u300d\u4e0e\u300c\u5b50\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u300d\u53ca\u300c\u6587\u4ef6\u7684\u5143\u6570\u636e\u300d\u7ec4\u5408\u5728\u4e00\u8d77\u7684\u65b9\u5f0f\u6ee1\u8db3\u5143\u6570\u636e\u672c\u5730\u6027\u7684\u9700\u6c42\uff0c\u540c\u65f6\u300c\u76ee\u5f55\u7684 Content \u5143\u6570\u636e\u300d\u6309\u7167\u5f53\u524d\u76ee\u5f55\u7684 ID \u54c8\u5e0c\u5206\u5272\u3001\u300c\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u300d\u548c\u300c\u6587\u4ef6\u7684\u5143\u6570\u636e\u300d\u90fd\u6309\u7167\u7236\u76ee\u5f55\u7684 ID \u54c8\u5e0c\u5206\u5272\u3002\u8fd8\u662f\u7ee7\u7eed\u62ff\u524d\u9762\u4e3e\u7684\u300c\u521b\u5efa\u6587\u4ef6\u300d\u64cd\u4f5c\u4e3a\u6817\u5b50\uff0c\u56e0\u4e3a\u6587\u4ef6\u7684\u5143\u6570\u636e\u548c\u7236\u76ee\u5f55\u7684 Content \u5143\u6570\u636e\u662f\u7ec4\u5408\u5728\u4e00\u8d77\u7684\uff0c\u5e76\u4e14\u5b83\u4eec\u90fd\u662f\u57fa\u4e8e\u540c\u4e00\u4e2a ID\uff08\u7236\u76ee\u5f55\u7684 ID\uff09\u54c8\u5e0c\u5206\u5272\uff0c\u56e0\u6b64\u521b\u5efa\u6587\u4ef6\u5fc5\u5b9a\u662f\u5728\u4e00\u4e2a\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u5b8c\u6210\u7684\uff0c\u540c\u65f6\u54c8\u5e0c\u5206\u5272\u4e5f\u53ef\u4ee5\u5f88\u81ea\u7136\u5730\u5206\u6563\u8bf7\u6c42\u8d1f\u8f7d\u3002\\n\\n\u7136\u540e\u6765\u770b\u770b\u300c\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\u300d\u3002\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7\u968f\u7740\u6587\u4ef6\u5728\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u6811\u4e2d\u7684\u6df1\u5ea6\u8d8a\u6df1\uff0c\u8def\u5f84\u89e3\u6790\u7684\u6210\u672c\u4e5f\u8d8a\u9ad8\u3002\u8fd9\u5176\u4e2d\u7684\u6839\u672c\u539f\u56e0\u5c31\u662f\u6bcf\u4e00\u7ea7\u76ee\u5f55\u7684 ID\uff08\u6216\u8005\u8bf4 inode\uff09\u90fd\u662f\u672a\u77e5\u7684\uff0c\u53ea\u6709\u901a\u8fc7\u9010\u7ea7\u89e3\u6790\u624d\u80fd\u6700\u7ec8\u83b7\u53d6\u5230\u60f3\u8981\u8bbf\u95ee\u7684\u76ee\u5f55\u6216\u6587\u4ef6\u7684\u5143\u6570\u636e\u3002\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48 InfiniFS \u8981\u63d0\u51fa\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\u7684\u539f\u56e0\uff0c\u5f53\u6bcf\u4e00\u7ea7\u76ee\u5f55\u7684 ID \u662f\u53ef\u63a8\u6d4b\u65f6\uff0c\u8def\u5f84\u89e3\u6790\u6d41\u7a0b\u5c31\u53ef\u4ee5\u7531\u4e32\u884c\u6267\u884c\u53d8\u6210\u5e76\u884c\u6267\u884c\u3002\\n\\n\u8981\u5b9e\u73b0\u300c\u53ef\u63a8\u6d4b\u7684\u8def\u5f84\u89e3\u6790\u300d\u7b2c\u4e00\u6b65\u5c31\u662f\u751f\u6210\u53ef\u63a8\u6d4b\u7684\u76ee\u5f55 ID\uff0c\u800c\u4e0d\u80fd\u5355\u7eaf\u7528\u4e00\u4e2a\u9012\u589e\u6570\u5b57\u4f5c\u4e3a ID\u3002\u5f53\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\u65f6\uff0cInfiniFS \u7684\u505a\u6cd5\u662f\u54c8\u5e0c\u8fd9\u6837\u4e00\u4e2a\u4e09\u5143\u7ec4 `<\u7b2c\u4e00\u4e2a\u7236\u76ee\u5f55\u7684 ID\uff0c\u65b0\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u540d\u79f0\u7248\u672c\u53f7>`\uff0c\u54c8\u5e0c\u5f97\u5230\u7684\u7ed3\u679c\u5373\u4e3a\u8fd9\u4e2a\u65b0\u76ee\u5f55\u7684 ID\u3002\u65b0\u76ee\u5f55\u7684\u7b2c\u4e00\u4e2a\u7236\u76ee\u5f55\u88ab\u5f62\u8c61\u5730\u79f0\u4f5c\u300c\u751f\u7236\uff08birth parent\uff09\u300d\uff0c\u4e4b\u6240\u4ee5\u5f3a\u8c03\u7b2c\u4e00\u4e2a\u662f\u56e0\u4e3a\u76ee\u5f55\u5728\u521b\u5efa\u4ee5\u540e\u53ef\u80fd\u88ab\u79fb\u52a8\u5230\u5176\u5b83\u7236\u76ee\u5f55\u4e0b\uff0c\u4f46\u751f\u7236\u53ea\u4f1a\u6709\u4e00\u4e2a\u3002\u751f\u7236\u4f1a\u8bb0\u5f55\u4e00\u4e2a\u300c\u91cd\u547d\u540d\u5217\u8868\uff08rename-list\uff0c\u7b80\u79f0 RL\uff09\u300d\uff0c\u8fd9\u4e2a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u662f `<\u5b50\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u540d\u79f0\u7248\u672c\u53f7>` \u8fd9\u6837\u7684\u6570\u636e\u7ed3\u6784\u3002\u540c\u65f6\u5b50\u76ee\u5f55\u4f1a\u8bb0\u5f55\u4e00\u4e2a\u300c\u56de\u6eaf\u6307\u9488\uff08back-pointer\uff0c\u7b80\u79f0 BP\uff09\u300d\uff0c\u8fd9\u4e2a\u6307\u9488\u7684\u6570\u636e\u7ed3\u6784\u662f `<\u751f\u7236\u7684 ID\uff0c\u540d\u79f0\u7248\u672c\u53f7>`\u3002RL \u548c\u300c\u76ee\u5f55\u7684 Content \u5143\u6570\u636e\u300d\u5b58\u50a8\u5728\u4e00\u8d77\uff0cBP \u548c\u300c\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u300d\u5b58\u50a8\u5728\u4e00\u8d77\u3002RL \u4e2d\u8bb0\u5f55\u7684\u662f\u6240\u6709\u300c\u51fa\u751f\u300d\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u5e76\u4e14\u5df2\u7ecf\u88ab\u79fb\u52a8\u5230\u5176\u5b83\u5730\u65b9\u7684\u5b50\u76ee\u5f55\uff0c\u4e00\u4e2a\u76ee\u5f55\u88ab\u79fb\u52a8\u4ee5\u540e\u5b83\u7684 BP \u4f9d\u7136\u6307\u5411\u7684\u662f\u751f\u7236\u3002\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u7684\u521d\u59cb\u503c\u90fd\u662f 0\uff0c\u5b83\u5b58\u5728\u7684\u76ee\u7684\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3\u76ee\u5f55\u79fb\u52a8\uff08\u6216\u8005\u8bf4\u91cd\u547d\u540d\uff09\u540e\u53ef\u80fd\u5bfc\u81f4\u7684\u540d\u79f0\u51b2\u7a81\u3002\\n\\n\u8fd9\u91cc\u4e3e\u4e00\u4e2a\u5b9e\u9645\u7684\u6817\u5b50\uff0c\u5047\u8bbe\u5f53\u524d\u7684\u76ee\u5f55\u7ed3\u6784\u662f `/A/B`\uff0c\u6839\u76ee\u5f55\u7684 ID \u662f 1\uff0c `A` \u76ee\u5f55\u7684 ID \u662f 2\uff0c`B` \u76ee\u5f55\u7684 ID \u662f `hash(2,B,0) = 3`\u3002\u7136\u540e\u628a `/A/B` \u79fb\u52a8\u5230 `/B`\uff0c\u6b64\u65f6\u9700\u8981\u505a\u51e0\u4ef6\u4e8b\u60c5\uff1a\\n\\n- \u79fb\u52a8 `B` \u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u5230\u65b0\u7684\u5143\u6570\u636e\u670d\u52a1\u5668\uff0c\u56e0\u4e3a `B` \u76ee\u5f55\u7684\u7236\u76ee\u5f55\u4ece `A` \u53d8\u6210\u4e86\u6839\u76ee\u5f55\uff0c\u6240\u4ee5 Access \u5143\u6570\u636e\u54c8\u5e0c\u5206\u5272\u7684 key \u4e5f\u53d8\u6210\u4e86\u6839\u76ee\u5f55\uff1b\\n- \u5728 `A` \u76ee\u5f55\u7684 Content \u5143\u6570\u636e\u4e2d\u65b0\u589e RL \u6761\u76ee\uff0c\u503c\u4e3a `<B,0>`\uff1b\\n- \u5728 `B` \u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u4e2d\u8bb0\u5f55 BP\uff0c\u503c\u4e3a `<2,0>`\uff1b\\n- \u6ce8\u610f `B` \u76ee\u5f55\u7684 ID \u5e76\u6ca1\u6709\u53d8\uff08\u56e0\u4e3a\u751f\u7236\u6ca1\u53d8\uff09\uff0c\u4f9d\u7136\u662f 3\u3002**\u4f46\u662f\u8fd9\u91cc\u7559\u4e86\u4e00\u4e2a\u7591\u95ee\u5c31\u662f\u5982\u679c `B` \u76ee\u5f55\u7684\u540d\u79f0\u4e5f\u53d8\u4e86\u90a3\u5b83\u7684 ID \u662f\u5426\u4f1a\u53d8\u5462**\uff08\u901a\u5e38\u6765\u8bf4\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684 inode \u5e94\u8be5\u662f\u4e0d\u53d8\u7684\uff09\uff1f\\n\\n\u6b64\u65f6\u5982\u679c\u5728 `A` \u76ee\u5f55\u4e0b\u53c8\u521b\u5efa\u4e00\u4e2a `B` \u76ee\u5f55\uff08\u5047\u8bbe\u53eb `B\'`\uff09\uff0c\u56e0\u4e3a `A` \u76ee\u5f55\u7684 RL \u4e2d\u5df2\u7ecf\u8bb0\u5f55\u4e86\u4e00\u4e2a\u540c\u540d\u7684\u76ee\u5f55\uff0c\u6240\u4ee5\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u8981\u52a0 1\uff0c\u56e0\u6b64\u8fd9\u4e2a `B\'` \u76ee\u5f55\u7684 ID \u662f `hash(2,B,1) = 13`\u3002\u5982\u679c\u6ca1\u6709\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\uff0c\u5c31\u4f1a\u751f\u6210\u91cd\u590d\u7684\u76ee\u5f55 ID\uff0c\u8fd9\u662f\u7edd\u5bf9\u4e0d\u5141\u8bb8\u7684\u3002\u5982\u679c\u5148\u628a `/B` \u76ee\u5f55\u5220\u9664\uff0c\u9664\u4e86 `B` \u76ee\u5f55\u81ea\u8eab\u7684\u5143\u6570\u636e\u4ee5\u5916\u8fd8\u4f1a\u5220\u9664\u5b83\u7684\u751f\u7236\uff08\u5373 `A` \u76ee\u5f55\uff09\u7684 RL \u6761\u76ee\u3002\u5220\u9664 RL \u6761\u76ee\u4e5f\u5c31\u610f\u5473\u7740\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u51cf 1\uff0c\u4e0b\u4e00\u6b21\u521b\u5efa `/A/B` \u65f6\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u5c31\u5df2\u7ecf\u56de\u5230 0 \u4e86\u3002\u5f15\u5165\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u4ece\u7406\u8bba\u4e0a\u4fdd\u8bc1\u4e86\u76ee\u5f55 ID \u7684\u552f\u4e00\u6027\uff0c\u4f46\u662f\u54c8\u5e0c\u7b97\u6cd5\u662f\u6709\u4e00\u5b9a\u6982\u7387\u78b0\u649e\u7684\uff0c\u5373\u4fbf InfiniFS \u5df2\u7ecf\u7528\u4e86\u5bc6\u7801\u5b66\u54c8\u5e0c\u7b97\u6cd5\uff08\u6bd4\u5982 SHA-256\uff09\u6765\u5c3d\u91cf\u51cf\u5c11\u78b0\u649e\u6982\u7387\u3002\u5982\u679c\u53d1\u751f\u78b0\u649e\uff0cInfiniFS \u7684\u5904\u7406\u65b9\u6cd5\u548c\u521a\u624d\u4e3e\u7684\u79fb\u52a8\u76ee\u5f55\u7684\u6817\u5b50\u4e00\u6837\uff0c\u5373\u901a\u8fc7\u540d\u79f0\u7248\u672c\u53f7\u3001RL \u548c BP \u6765\u4fdd\u8bc1\u751f\u6210\u7684 ID \u662f\u552f\u4e00\u7684\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u901a\u8fc7 RL \u4e2d\u6761\u76ee\u7684\u683c\u5f0f\u6765\u533a\u5206\u5b83\u662f\u56e0\u4e3a\u54c8\u5e0c\u78b0\u649e\u8fd8\u662f\u91cd\u547d\u540d\u5bfc\u81f4\u7684\u3002\\n\\n\u77e5\u9053\u4e86\u600e\u4e48\u751f\u6210\u53ef\u63a8\u6d4b\u7684\u76ee\u5f55 ID\uff0c\u8def\u5f84\u89e3\u6790\u7684\u6d41\u7a0b\u5c31\u6bd4\u8f83\u6e05\u6670\u4e86\uff0c\u5927\u6982\u5206\u4e3a\u4ee5\u4e0b\u51e0\u6b65\uff08\u8fd9\u91cc\u4ee5\u89e3\u6790 `/A/B/C/foo.txt` \u8def\u5f84\u4e3a\u4f8b\uff09\uff1a\\n\\n1. \u5ba2\u6237\u7aef\u4f7f\u7528\u67d0\u79cd\u54c8\u5e0c\u7b97\u6cd5\u8ba1\u7b97\u6bcf\u4e00\u7ea7\u76ee\u5f55\u7684 ID\uff0c\u5373 `A`\u3001`B`\u3001`C` \u8fd9 3 \u4e2a\u76ee\u5f55\u7684 ID\uff0c\u8fd9\u4e00\u6b65\u662f\u4e32\u884c\u7684\u3002\u8ba1\u7b97\u65f6\u5047\u8bbe\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u90fd\u4e3a 0\uff0c\u6839\u636e\u524d\u9762\u7684\u4ecb\u7ecd\u5e94\u8be5\u80fd\u53d1\u73b0\u8ba1\u7b97\u51fa\u7684 ID \u6709\u53ef\u80fd\u662f\u9519\u8bef\u7684\uff0c\u540e\u9762\u4f1a\u8bb2\u5982\u4f55\u5904\u7406\u8fd9\u79cd\u60c5\u5f62\uff1b\\n2. \u5ba2\u6237\u7aef\u53d1\u9001 lookup \u8bf7\u6c42\u5230\u5143\u6570\u636e\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u6b65\u9aa4 1 \u5df2\u7ecf\u8ba1\u7b97\u51fa\u4e86\u6bcf\u4e00\u7ea7\u76ee\u5f55\u7684 ID\uff0c\u6240\u4ee5\u8fd9\u4e00\u6b65\u662f\u5e76\u884c\u7684\u3002Lookup \u8bf7\u6c42\u83b7\u53d6\u7684\u662f\u6bcf\u4e00\u7ea7\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\uff0c\u5143\u6570\u636e\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u76ee\u5f55\u7684\u300c\u771f\u5b9e ID\u300d\u548c\u5bf9\u5e94\u7684\u6743\u9650\u4fe1\u606f\u3002\u6bd4\u5982 lookup `B` \u76ee\u5f55\uff0c\u8bf7\u6c42\u7684\u53c2\u6570\u662f\u7236\u76ee\u5f55\uff08\u5373 `A` \u76ee\u5f55\uff09\u7684 ID \u548c `B` \u76ee\u5f55\u7684\u540d\u79f0\uff0c\u5047\u8bbe\u8fd9\u4e2a `B` \u76ee\u5f55\u7684\u751f\u7236\u4e0d\u662f `A` \u76ee\u5f55\uff0c\u6b64\u65f6\u5143\u6570\u636e\u670d\u52a1\u5668\u8fd4\u56de\u7684 `B` \u76ee\u5f55\u7684\u300c\u771f\u5b9e ID\u300d\u4e00\u5b9a\u4e0d\u7b49\u4e8e\u6b65\u9aa4 1 \u4e2d\u8ba1\u7b97\u7684 ID\uff08\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u4e0d\u4e3a 0\uff09\u3002\u5f53\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\u5ba2\u6237\u7aef\u4f1a\u4ee5 `B` \u76ee\u5f55\u4f5c\u4e3a\u8d77\u70b9\u56de\u5230\u6b65\u9aa4 1 \u91cd\u65b0\u5f00\u59cb\uff1b\\n3. \u4e0d\u65ad\u91cd\u590d\u6b65\u9aa4 1 \u548c\u6b65\u9aa4 2 \u76f4\u5230\u5f97\u5230\u6240\u6709\u76ee\u5f55\u7684\u771f\u5b9e ID\uff0c\u5176\u5b9e\u6700\u7ec8\u76ee\u7684\u662f\u4e3a\u4e86\u83b7\u53d6\u6700\u540e\u4e00\u7ea7\u76ee\u5f55\uff08\u5373 `C` \u76ee\u5f55\uff09\u7684\u771f\u5b9e ID\u3002\\n\\n\u53ef\u4ee5\u770b\u5230\u4e0a\u8ff0\u7b97\u6cd5\u7684\u6700\u574f\u60c5\u51b5\u662f\u6240\u6709\u4e2d\u95f4\u76ee\u5f55\u7684\u300c\u540d\u79f0\u7248\u672c\u53f7\u300d\u90fd\u4e0d\u4e3a 0\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u80af\u5b9a\u6bd4\u4f20\u7edf\u7684\u8def\u5f84\u89e3\u6790\u7b97\u6cd5\u9ad8\u4e0d\u5c11\uff0c\u4f46\u8fd9\u5c5e\u4e8e\u5c0f\u6982\u7387\u60c5\u51b5\uff0c\u5927\u90e8\u5206\u65f6\u5019\u5e94\u8be5\u53ef\u4ee5\u5728 1 \u6b21\u8fed\u4ee3\u4e2d\u5b8c\u6210\u3002\\n\\n\u6700\u540e\u4ecb\u7ecd InfiniFS \u7684\u4e50\u89c2\u5143\u6570\u636e\u7f13\u5b58\u8bbe\u8ba1\u3002InfiniFS \u53ea\u4f1a\u5728\u5ba2\u6237\u7aef\u7f13\u5b58\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\uff0c\u5373\u76ee\u5f55\u540d\u79f0\u3001\u76ee\u5f55 ID \u548c\u76ee\u5f55\u6743\u9650\u3002\u8fd9\u4e9b\u7f13\u5b58\u662f\u4ee5\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u6811\u7684\u7ed3\u6784\u7ec4\u7ec7\uff0c\u8fd9\u68f5\u6811\u7684\u6240\u6709\u53f6\u5b50\u8282\u70b9\u4f1a\u8fde\u63a5\u5728\u4e00\u8d77\u7ec4\u6210\u4e00\u4e2a\u5217\u8868\uff0c\u5f53\u9700\u8981\u6dd8\u6c70\u7f13\u5b58\u65f6\uff0c\u4f1a\u6839\u636e LRU \u7b97\u6cd5\u4ece\u53f6\u5b50\u8282\u70b9\u5217\u8868\u4e2d\u9a71\u9010\u6761\u76ee\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u80fd\u6700\u5927\u7a0b\u5ea6\u4fdd\u8bc1\u6839\u76ee\u5f55\u5143\u6570\u636e\u7684\u7f13\u5b58\u547d\u4e2d\u7387\uff08\u56e0\u4e3a\u6839\u76ee\u5f55\u66f4\u5bb9\u6613\u6210\u4e3a\u8bbf\u95ee\u70ed\u70b9\uff09\u3002\u76ee\u5f55\u7684 Access \u5143\u6570\u636e\u4f1a\u56e0\u4e3a `rename` \u548c `set_permission` \u64cd\u4f5c\u800c\u5931\u6548\uff0c\u4e3b\u52a8\u5931\u6548\u6240\u6709\u5ba2\u6237\u7aef\u7684\u5143\u6570\u636e\u7f13\u5b58\u663e\u7136\u6210\u672c\u6bd4\u8f83\u9ad8\uff0cInfiniFS \u7684\u9009\u62e9\u662f\u628a\u4e0e\u7f13\u5b58\u5931\u6548\u76f8\u5173\u7684\u4fe1\u606f\u4e3b\u52a8\u63a8\u9001\u5230\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\uff0c\u6bd5\u7adf\u76f8\u6bd4\u5ba2\u6237\u7aef\u7684\u6570\u91cf\uff0c\u5143\u6570\u636e\u670d\u52a1\u5668\u7684\u6570\u91cf\u4f1a\u5c0f\u4e0d\u5c11\u3002\u6240\u8c13\u300c\u4e50\u89c2\u5143\u6570\u636e\u7f13\u5b58\u300d\u5c31\u662f\u5ba2\u6237\u7aef\u4efb\u4f55\u65f6\u5019\u90fd\u4e50\u89c2\u5730\u8ba4\u4e3a\u81ea\u5df1\u7684\u7f13\u5b58\u662f\u6700\u65b0\u7684\uff0c\u5e76\u4ee5\u8fd9\u4e2a\u7f13\u5b58\u4e3a\u57fa\u7840\u6765\u8bf7\u6c42\u5143\u6570\u636e\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u5143\u6570\u636e\u670d\u52a1\u5668\u62e5\u6709\u6700\u65b0\u7684\u7f13\u5b58\u5931\u6548\u4fe1\u606f\uff0c\u6240\u4ee5\u5143\u6570\u636e\u670d\u52a1\u5668\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u8bf7\u6c42\u7684\u5ba2\u6237\u7aef\u4e0a\u7684\u5143\u6570\u636e\u7f13\u5b58\u662f\u5426\u5df2\u7ecf\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u5c31\u4f1a\u544a\u77e5\u5ba2\u6237\u7aef\u66f4\u65b0\u6216\u8005\u5931\u6548\u7f13\u5b58\u3002\u5728\u5177\u4f53\u5b9e\u73b0\u4e0a\u5143\u6570\u636e\u670d\u52a1\u5668\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u300c\u7f13\u5b58\u5931\u6548\u5217\u8868\u300d\uff0c\u8fd9\u4e2a\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u5305\u542b\u4e24\u4e2a\u4fe1\u606f\uff1a\u7248\u672c\u53f7\u4ee5\u53ca\u5bf9\u5e94\u7684\u64cd\u4f5c\uff08\u5982 `rename`\u3001`set_permission`\uff09\uff0c\u7248\u672c\u53f7\u662f\u9012\u589e\u7684\uff0c\u5f53\u4ea7\u751f\u4e86\u9700\u8981\u5931\u6548\u7f13\u5b58\u7684\u64cd\u4f5c\u65f6\u5ba2\u6237\u7aef\u4f1a\u63a8\u9001\u5230\u6240\u6709\u5143\u6570\u636e\u670d\u52a1\u5668\uff0c\u5143\u6570\u636e\u670d\u52a1\u5668\u4f1a\u5728\u300c\u7f13\u5b58\u5931\u6548\u5217\u8868\u300d\u4e2d\u8bb0\u5f55\u4e00\u4e2a\u65b0\u7684\u7248\u672c\u53f7\u3002\u540c\u65f6\u6bcf\u4e2a\u5ba2\u6237\u7aef\u672c\u5730\u4e5f\u7ef4\u62a4\u4e86\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u8fd9\u4e2a\u7248\u672c\u53f7\u6709\u53ef\u80fd\u5c0f\u4e8e\u5143\u6570\u636e\u670d\u52a1\u5668\u4e0a\u7684\u300c\u6700\u65b0\u300d\u7248\u672c\u53f7\u3002\u5f53\u5ba2\u6237\u7aef\u8bf7\u6c42\u5143\u6570\u636e\u670d\u52a1\u5668\u65f6\u4f1a\u5e26\u4e0a\u64cd\u4f5c\u7684\u300c\u8def\u5f84\u540d\u300d\u548c\u300c\u81ea\u5df1\u672c\u5730\u7684\u7248\u672c\u53f7\u300d\uff0c\u5143\u6570\u636e\u670d\u52a1\u5668\u53ef\u4ee5\u5c06\u5b83\u4eec\u4e0e\u300c\u7f13\u5b58\u5931\u6548\u5217\u8868\u300d\u4e2d\u7684\u7248\u672c\u53f7\u8fdb\u884c\u5bf9\u6bd4\uff0c\u4e00\u65e6\u53d1\u73b0\u5ba2\u6237\u7aef\u64cd\u4f5c\u7684\u8def\u5f84\u540d\u5df2\u7ecf\u6709\u53d8\u5316\u5c31\u4f1a\u544a\u77e5\u5ba2\u6237\u7aef\u6700\u65b0\u7684\u7248\u672c\u53f7\u548c\u5bf9\u5e94\u7684\u4fe1\u606f\u3002\\n\\n\u81f3\u6b64\u57fa\u672c\u5c06 InfiniFS \u7684 3 \u4e2a\u8bbe\u8ba1\u4eae\u70b9\u4ecb\u7ecd\u5b8c\u6bd5\uff0c\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u7ec6\u8282\u6ca1\u6709\u6d89\u53ca\uff0c\u6bd4\u5982\u5206\u5e03\u5f0f\u4e8b\u52a1\u5982\u4f55\u5b9e\u73b0\uff08InfiniFS \u7528\u7684\u662f 2PC\uff09\u3001\u91cd\u547d\u540d\u534f\u8c03\u5668\u7684\u5de5\u4f5c\u673a\u5236\u662f\u4ec0\u4e48\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u8bba\u6587\u4e86\u89e3\u3002\u8bba\u6587\u6700\u540e\u7684\u9a8c\u8bc1\u7ae0\u8282\u7684\u6570\u636e\u4e5f\u633a\u6709\u610f\u601d\uff0c\u4f8b\u5982\u5728\u6bd4\u8f83\u5143\u6570\u636e\u96c6\u7fa4\u7684\u6a2a\u5411\u6269\u5c55\u80fd\u529b\u65f6\uff0c\u901a\u8fc7\u4e0e LocoFS\uff08\u8fd9\u662f InfiniFS \u56e2\u961f\u7684\u4e0a\u4e00\u7bc7\u6587\u4ef6\u7cfb\u7edf\u8bba\u6587\uff09\u3001HopsFS \u548c CephFS \u7684\u6bd4\u8f83\u4e2d\u53d1\u73b0\u53ea\u6709 InfiniFS \u7684\u541e\u5410\uff08\u6bcf\u79d2\u5904\u7406\u7684\u64cd\u4f5c\u6570\uff09\u53ef\u4ee5\u968f\u7740\u5143\u6570\u636e\u670d\u52a1\u5668\u7684\u6570\u91cf\u589e\u957f\u800c\u7ebf\u6027\u589e\u957f\uff0cHopsFS \u548c CephFS \u751a\u81f3\u5728\u96c6\u7fa4\u89c4\u6a21\u5df2\u7ecf\u6269\u5927\u4e86 32 \u500d\u7684\u60c5\u51b5\u4e0b\u541e\u5410\u4e5f\u53ea\u6709\u4e00\u70b9\u70b9\u589e\u957f\u3002\u53e6\u4e00\u4e2a\u9a8c\u8bc1\u662f\u8bc4\u4f30\u5b58\u50a8\u4e0d\u540c\u89c4\u6a21\u6587\u4ef6\u65f6\u7684\u5143\u6570\u636e\u96c6\u7fa4\u541e\u5410\u53d8\u5316\uff0c\u8fd9\u4e2a\u6d4b\u8bd5\u4e00\u76f4\u6d4b\u5230\u4e86 1 \u5343\u4ebf\u6587\u4ef6\uff0c\u4e0d\u6562\u8bf4\u8fd9\u662f\u76ee\u524d\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u5b58\u50a8\u4e0a\u9650\uff08\u7406\u8bba\u4e0a\u80af\u5b9a\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6a2a\u5411\u6269\u5c55\uff09\uff0c\u4f46\u662f\u4ece\u73b0\u5b9e\u4e16\u754c\u7684\u6570\u636e\u6765\u770b\u5df2\u7ecf\u80fd\u6ee1\u8db3\u5355\u4e2a\u6570\u636e\u4e2d\u5fc3\u7684\u5b58\u50a8\u9700\u6c42\u4e86\uff08\u6bd4\u5982 Tectonic \u8bba\u6587\u4e2d\u62ab\u9732\u7684\u6570\u636e\u662f\u603b\u5171\u5b58\u50a8\u4e86\u7ea6 100 \u4ebf\u6587\u4ef6\uff0c\u963f\u91cc\u4e91\u7684\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\u91cc\u4e5f\u5b58\u50a8\u4e86\u7ea6 100 \u4ebf\u6587\u4ef6\uff09\u3002InfiniFS \u5728\u4e0d\u540c\u5b58\u50a8\u89c4\u6a21\u4e0b\u7684\u541e\u5410\u8868\u73b0\u57fa\u672c\u4fdd\u6301\u5728\u4e00\u4e2a\u6052\u5b9a\u7684\u6c34\u5e73\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u7ba1\u5b58\u50a8\u591a\u5c11\u6570\u636e InfiniFS \u90fd\u80fd\u63d0\u4f9b\u7a33\u5b9a\u7684\u6027\u80fd\u4fdd\u969c\u3002\\n\\nInfiniFS \u7684\u7f16\u7a0b\u8bed\u8a00\u672a\u77e5\uff0c\u76ee\u524d\u4e5f\u6ca1\u6709\u5f00\u6e90\uff08\u5927\u6982\u7387\u5e94\u8be5\u4e0d\u4f1a\u5f00\u6e90\uff09\uff0c\u662f\u5426\u5df2\u7ecf\u5e94\u7528\u5728\u963f\u91cc\u4e91\u4e0a\u4e5f\u672a\u77e5\u3002\u53e6\u5916\u300c\u534e\u4e2d\u5927\u9ad8\u6027\u80fd\u4f53\u7cfb\u7ed3\u6784\u4e0e\u7cfb\u7edf\u5b9e\u9a8c\u5ba4\u300d\u5b8c\u6574\u7ffb\u8bd1\u4e86\u672c\u7bc7\u8bba\u6587\uff0c\u53ef\u4ee5\u70b9\u51fb[\u8fd9\u91cc](https://haslab.org/2022/04/06/InfiniFS.html)\u67e5\u770b\u3002\\n\\n## Decentralized Social Networks\\n\\n[[\u94fe\u63a5]](https://medium.com/decentralized-web/decentralized-social-networks-e5a7a2603f53)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea [Jay Graber](https://www.jaygraber.com)\uff0c\u4f60\u53ef\u80fd\u5bf9\u4e8e\u8fd9\u4e2a\u540d\u5b57\u6bd4\u8f83\u964c\u751f\uff0c\u4f46\u4f60\u6709\u53ef\u80fd\u542c\u8fc7\u6700\u521d\u7531 Twitter \u516c\u53f8\u53d1\u8d77\u7684\u53bb\u4e2d\u5fc3\u5316\u793e\u4ea4\u5a92\u4f53\u9879\u76ee [Bluesky](https://blueskyweb.org)\uff0c\u800c Jay Graber \u76ee\u524d\u662f Bluesky \u9879\u76ee\u7684\u603b\u8d1f\u8d23\u4eba\u3002\u4e0d\u8fc7\u672c\u671f\u5e76\u4e0d\u662f\u8981\u4ecb\u7ecd Bluesky\uff0c\u5173\u4e8e\u8fd9\u4e2a\u9879\u76ee\u4ee5\u540e\u53ef\u4ee5\u6162\u6162\u804a\u3002\u8fd9\u7bc7\u6587\u7ae0\u4e5f\u5e76\u4e0d\u662f\u8981\u804a\u533a\u5757\u94fe\uff0c\u5f53\u4e0b\u6709\u4e00\u4e2a\u4e0d\u597d\u7684\u98ce\u6c14\uff0c\u5c31\u662f\u4e00\u65e6\u63d0\u5230\u300c\u53bb\u4e2d\u5fc3\u5316\u300d\u4f3c\u4e4e\u5c31\u5fc5\u987b\u548c\u533a\u5757\u94fe\u626f\u4e0a\u70b9\u4ec0\u4e48\u5173\u7cfb\uff0c\u4f46\u662f\u5982\u679c\u4f60\u7eb5\u89c2\u8ba1\u7b97\u673a\u7684\u53d1\u5c55\u5386\u53f2\uff0c\u53bb\u4e2d\u5fc3\u5316\u662f\u4e00\u4e2a\u975e\u5e38\u53e4\u8001\u7684\u6982\u5ff5\uff0c\u533a\u5757\u94fe\u53ea\u80fd\u8bf4\u662f\u53bb\u4e2d\u5fc3\u5316\u7684\u4e00\u79cd\u5f62\u6001\uff0c\u5e76\u4e0d\u662f\u552f\u4e00\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\\n\\n\u672c\u6587\u53d1\u8868\u4e8e 2020 \u5e74\u5e74\u521d\uff0c\u805a\u7126\u5728\u4ecb\u7ecd\u6709\u522b\u4e8e\u4e2d\u5fc3\u5316\u793e\u4ea4\u7f51\u7edc\u7684\u4e24\u79cd\u65b0\u5f62\u6001\uff1a\u8054\u90a6\uff08federated\uff09\u7f51\u7edc\u548c\u70b9\u5bf9\u70b9\uff08P2P\uff09\u7f51\u7edc\uff0c\u4ee5\u53ca\u57fa\u4e8e\u8fd9\u4e24\u79cd\u7f51\u7edc\u7684\u793e\u4ea4\u4ea7\u54c1\u3002\u6240\u8c13\u300c\u8054\u90a6\u7f51\u7edc\u300d\u5c31\u662f\u7528\u6237\u81ea\u7531\u9009\u62e9\u63a5\u5165\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u4ed6\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u670d\u52a1\u5668\u4ee5\u4e00\u79cd\u300c\u6807\u51c6\u5f00\u653e\u7684\u534f\u8bae\u300d\u9605\u8bfb\u548c\u53d1\u5e03\u5185\u5bb9\uff0c\u800c\u63a5\u5165\u670d\u52a1\u5668\u540c\u6837\u4ee5\u8fd9\u4e2a\u534f\u8bae\u4e0e\u8fd9\u4e2a\u7f51\u7edc\u4e2d\u7684\u5176\u5b83\u670d\u52a1\u5668\u901a\u4fe1\uff0c\u8fdb\u800c\u4f20\u64ad\u4e0d\u540c\u7528\u6237\u4ea7\u751f\u7684\u5185\u5bb9\u3002\u4e0e\u4e2d\u5fc3\u5316\u7f51\u7edc\u7684\u533a\u522b\u662f\uff0c\u8054\u90a6\u7f51\u7edc\u7684\u670d\u52a1\u5668\u5e76\u4e0d\u662f\u7531\u67d0\u4e00\u4e2a\u516c\u53f8\u638c\u63a7\uff0c\u6240\u6709\u5904\u4e8e\u8fd9\u4e2a\u7f51\u7edc\u4e2d\u7684\u8282\u70b9\u90fd\u53ef\u80fd\u5206\u5e03\u5728\u5927\u5927\u5c0f\u5c0f\u4e0d\u540c\u7684\u7ec4\u7ec7\u4e2d\uff0c\u8fd9\u91cc\u7684\u300c\u7ec4\u7ec7\u300d\u53ef\u80fd\u662f\u67d0\u4e2a\u4eba\u4e5f\u53ef\u80fd\u662f\u67d0\u4e2a\u516c\u53f8\u3002\u8054\u90a6\u7f51\u7edc\u7684\u4e00\u4e2a\u5b9e\u9645\u4f8b\u5b50\u5c31\u662f Email\uff0cEmail \u7684\u6536\u53d1\u534f\u8bae\u662f\u6807\u51c6\u4e14\u516c\u5f00\u7684\uff08IMAP\u3001POP3\u3001SMTP \u7b49\uff09\uff0c\u4efb\u4f55\u90ae\u4ef6\u670d\u52a1\u63d0\u4f9b\u5546\u548c\u90ae\u4ef6\u5ba2\u6237\u7aef\u90fd\u9700\u8981\u4f9d\u7167\u8fd9\u4e9b\u534f\u8bae\u6765\u5b9e\u73b0\uff0c\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u4efb\u4f55\u5ba2\u6237\u7aef\u4e0e\u90ae\u4ef6\u670d\u52a1\u5546\u901a\u4fe1\u3002\u4f46\u662f\u8054\u90a6\u7f51\u7edc\u7684\u5f0a\u7aef\u662f\u7528\u6237\u5f88\u96be\u751a\u81f3\u65e0\u6cd5\u5728\u4e0d\u540c\u670d\u52a1\u5546\u4e4b\u95f4\u8fc1\u79fb\uff0c\u60f3\u8c61\u4e00\u4e0b\u628a\u4f60\u7684 Gmail \u5e10\u53f7\u8fc1\u79fb\u5230\u5176\u5b83\u5730\u65b9\u7684\u6210\u672c\u4f1a\u6709\u591a\u5927\u3002\\n\\n\u53e6\u4e00\u4e2a\u66f4\u52a0\u677e\u6563\u7684\u7f51\u7edc\u5c31\u662f\u300cP2P \u7f51\u7edc\u300d\uff0c\u5728\u8fd9\u4e2a\u7f51\u7edc\u4e2d\u6ca1\u6709\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u533a\u522b\uff0c\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u90fd\u53ef\u80fd\u540c\u65f6\u5177\u6709\u8fd9\u4e24\u79cd\u89d2\u8272\uff0c\u8fd9\u7ed9\u4e88\u7528\u6237\u6700\u5927\u7a0b\u5ea6\u7684\u63a7\u5236\u6743\uff0c\u4e0d\u8bba\u662f\u6570\u636e\u8fd8\u662f\u5e10\u53f7\uff0c\u56e0\u6b64\u7528\u6237\u5207\u6362\u300c\u670d\u52a1\u5546\u300d\uff08\u51c6\u786e\u8bf4\u5728 P2P \u7f51\u7edc\u4e2d\u7528\u6237\u81ea\u5df1\u5c31\u662f\u670d\u52a1\u5546\uff09\u7684\u6210\u672c\u662f\u5f88\u4f4e\u7684\u3002P2P \u7f51\u7edc\u7684\u5f0a\u7aef\u4e5f\u5f88\u660e\u663e\uff0c\u6362\u53d6\u677e\u6563\u81ea\u7531\u4ee5\u53ca\u5b8c\u5168\u7684\u638c\u63a7\u6743\u7684\u4ee3\u4ef7\u662f\u6bcf\u4e00\u4e2a\u7528\u6237\u90fd\u9700\u8981\u6210\u4e3a\u8054\u90a6\u7f51\u7edc\u6216\u8005\u4e2d\u5fc3\u5316\u7f51\u7edc\u4e2d\u7684\u90a3\u4e2a\u670d\u52a1\u5546\uff0c\u8fd9\u610f\u5473\u7740\u7528\u6237\u4e0d\u4ec5\u8981\u4ed8\u51fa\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u7b49\uff09\uff0c\u8fd8\u9700\u8981\u81ea\u5df1\u6765\u7ef4\u62a4\u7f51\u7edc\uff0c\u4fdd\u8bc1\u8fd9\u4e2a\u7f51\u7edc\u7684\u7a33\u5b9a\u6027\u548c\u4e00\u81f4\u6027\uff0c\u751a\u81f3\u8981\u4ee5\u727a\u7272\u6548\u7387\u4e3a\u524d\u63d0\u3002\\n\\n## \u9e48\u9e55 Hits 043 | \u56de\u987e\u5175\u9a6c\u53f8\uff0c\u6768\u6d77\u5d27\u89c9\u5f97\u6700\u53ef\u60dc\u7684\u662f\u4ec0\u4e48\uff1f\\n\\n[[\u94fe\u63a5]](https://music.163.com/#/program?id=2495620910)\\n\\n\u5728 Maybe News \u7684[\u300c\u5173\u4e8e\u300d](https://maybe.news/about)\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u8fd9\u4e2a\u9879\u76ee\u7684\u540d\u5b57\u7531\u6765\uff0c\u800c\u6807\u9898\u4e2d\u7684\u300c\u6768\u6d77\u5d27\u300d\u5219\u662f\u73b0\u5728\u5175\u9a6c\u53f8\u5382\u724c\u7684\u4e3b\u7406\u4eba\u3002\u5982\u679c\u4f60\u5173\u6ce8\u4e2d\u56fd\u8fd1\u4ee3\u7684\u6447\u6eda\u4e50\uff0c\u5373\u4fbf\u6ca1\u6709\u542c\u8fc7\u6768\u6d77\u5d27\u4e5f\u53ef\u80fd\u542c\u8fc7 [P.K. 14](https://zh.wikipedia.org/wiki/PK14) \u8fd9\u4e2a\u4e50\u961f\uff08\u559c\u4e0d\u559c\u6b22\u53e6\u8bf4\uff09\u3002P.K. 14 \u7684\u4e50\u961f\u6210\u5458\uff08\u5305\u62ec\u5386\u53f2\u6210\u5458\uff09\u5bf9\u4e8e\u4e2d\u56fd\u6447\u6eda\u4e50\uff08\u7279\u522b\u662f\u72ec\u7acb\u6447\u6eda\uff09\u7684\u53d1\u5c55\u6709\u7740\u65e0\u6cd5\u5ffd\u89c6\u7684\u5f71\u54cd\uff0c\u6bd4\u5982\u66fe\u7ecf\u7684\u9f13\u624b\u534e\u4e1c\u76ee\u524d\u662f\u4e50\u961f\u300c\u91cd\u5851\u96d5\u50cf\u7684\u6743\u5229\u300d\u7684\u6838\u5fc3\uff0c\u73b0\u4efb\u5409\u4ed6\u624b\u8bb8\u6ce2\u662f\u8c46\u74e3\u7684 5 \u53f7\u5458\u5de5\uff08\u8c46\u74e3\u97f3\u4e50\u4eba\u3001\u8c46\u74e3 FM\u3001\u963f\u6bd4\u9e7f\u97f3\u4e50\u5956\u90fd\u4e0e\u4ed6\u6709\u5173\uff09\u3001\u66fe\u7ecf\u7684\u5927\u798f\u5531\u7247\u4e3b\u7406\u4eba\u3001\u73b0\u5728\u7684[\u7f8e\u4e3d\u5531\u7247](https://merrierecord.bandcamp.com)\u4e3b\u7406\u4eba\u3002\\n\\n\u7a0d\u5fae\u626f\u8fdc\u4e86\uff0c\u672c\u671f\u4ecb\u7ecd\u7684\u662f\u7531\u9e48\u9e55 Hits \u91c7\u8bbf\u6768\u6d77\u83d8\u7684\u4e00\u671f\u64ad\u5ba2\uff0c\u9664\u4e86 P.K. 14 \u4e50\u961f\u6210\u5458\u8fd9\u4e2a\u8eab\u4efd\uff0c\u6768\u6d77\u83d8\u65e5\u5e38\u8fd8\u4f1a\u4f5c\u4e3a\u5236\u4f5c\u4eba\u7ed9\u5f88\u591a\u4e50\u961f\uff08\u4ee5\u5175\u9a6c\u53f8\u5382\u724c\u7684\u4e3a\u4e3b\uff09\u5236\u4f5c\u4e13\u8f91\u3002\u56e0\u6b64\u8fd9\u671f\u64ad\u5ba2\u9996\u5148\u804a\u4e86\u804a\u6768\u6d77\u83d8\u6700\u8fd1\u4e3a\u8fd9\u4e9b\u4e50\u961f\u5236\u4f5c\u4e13\u8f91\u7684\u611f\u60f3\u548c\u80cc\u540e\u7684\u6545\u4e8b\uff0c\u5728\u804a\u5929\u7684\u8fc7\u7a0b\u4e2d\u7a7f\u63d2\u7740\u4ecb\u7ecd\u4e86\u51e0\u4e2a\u6709\u610f\u601d\u7684\u65b0\u4e50\u961f\uff0c\u6bd4\u5982[\u4eca\u65e5\u51fa\u54c1](https://music.163.com/#/artist?id=50522347)\u3001[\u66b4\u529b\u9999\u69df](https://music.163.com/#/artist?id=12258239)\u3002\u4e5f\u804a\u5230\u4e86\u6768\u6d77\u83d8\u81ea\u5df1\u7684\u6700\u65b0\u5206\u652f\u9879\u76ee[\u5f17\u62c9\u57fa\u7c73\u5c14](https://music.163.com/#/artist?id=49486157)\uff0c\u4f60\u5728\u8fd9\u4e2a\u795e\u5947\u4e50\u961f\u7684\u4ecb\u7ecd\u91cc\u6839\u672c\u770b\u4e0d\u51fa\u4e50\u961f\u6210\u5458\u5177\u4f53\u6709\u8c01\uff0c\u4f46\u662f\u542c\u4e86\u8fd9\u671f\u64ad\u5ba2\u5c31\u80fd\u77e5\u9053\uff08\u5176\u5b9e\u90fd\u662f\u300c\u8001\u670b\u53cb\u300d\uff09\u3002\u6700\u540e\u63a8\u8350\u4e00\u5f20\u4e13\u8f91[\u300aMind Shop\u300b](https://music.163.com/#/album?id=36406)\uff0c\u6765\u81ea\u5df2\u7ecf\u89e3\u6563\u591a\u5e74\u7684\u4e0a\u6d77\u4e50\u961f Muscle Snog\u3002"},{"id":"/sp-0","metadata":{"permalink":"/issues/sp-0","source":"@site/blog/sp-0.md","title":"SP #0","description":"\u8fd9\u662f\u4e00\u671f\u7279\u522b\u7684 Maybe News\uff0c\u672c\u6765\u7b2c 13 \u671f\u5df2\u7ecf\u51c6\u5907\u4e86\u5927\u534a\uff0c\u540e\u6765\u4e34\u65f6\u51b3\u5b9a\u63a8\u8fdf\u53d1\u5e03\uff0c\u7528\u4e00\u6574\u671f\u7279\u522b\u7bc7\u6765\u8bb0\u5f55\u53d1\u751f\u5728\u5f53\u4e0b\u7684\u4e00\u7cfb\u5217\u7279\u522b\u7684\u4e8b\u4ef6\u3002\u4ee5\u540e\u662f\u5426\u8fd8\u4f1a\u6709\u7c7b\u4f3c\u7684\u7279\u522b\u7bc7\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u4f46\u5e0c\u671b\u5c4a\u65f6\u53d1\u751f\u7684\u4e8b\u60c5\u80fd\u7ed9\u4e88\u4eba\u4eec\u529b\u91cf\u4e0e\u5e0c\u671b\u3002","date":"2022-05-19T13:50:00.000Z","formattedDate":"May 19, 2022","tags":[{"label":"sp","permalink":"/issues/tags/sp"}],"readingTime":17.52,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SP #0","date":"2022-05-19 13:50:00 +0800","tags":["sp"]},"prevItem":{"title":"Issue #13","permalink":"/issues/13"},"nextItem":{"title":"Issue #12","permalink":"/issues/12"}},"content":"> \u8fd9\u662f\u4e00\u671f\u7279\u522b\u7684 Maybe News\uff0c\u672c\u6765\u7b2c 13 \u671f\u5df2\u7ecf\u51c6\u5907\u4e86\u5927\u534a\uff0c\u540e\u6765\u4e34\u65f6\u51b3\u5b9a\u63a8\u8fdf\u53d1\u5e03\uff0c\u7528\u4e00\u6574\u671f\u7279\u522b\u7bc7\u6765\u8bb0\u5f55\u53d1\u751f\u5728\u5f53\u4e0b\u7684\u4e00\u7cfb\u5217\u7279\u522b\u7684\u4e8b\u4ef6\u3002\u4ee5\u540e\u662f\u5426\u8fd8\u4f1a\u6709\u7c7b\u4f3c\u7684\u7279\u522b\u7bc7\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u4f46\u5e0c\u671b\u5c4a\u65f6\u53d1\u751f\u7684\u4e8b\u60c5\u80fd\u7ed9\u4e88\u4eba\u4eec\u529b\u91cf\u4e0e\u5e0c\u671b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6211\u4eec\u5411\u5c01\u63a7\u533a\u7684\u4eba\u4eec\u6536\u96c6\u4e86\u89e3\u5c01\u540e\u7684 100 \u4e2a\u613f\u671b\\n\\n[[\u94fe\u63a5]](https://mp.weixin.qq.com/s/ksFU-js4r2-VErQbCSSe6Q)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea[\u300c\u665a\u70b9\u300d](https://www.latepost.com)\uff0c\u5728\u6b63\u5f0f\u4ecb\u7ecd\u6587\u7ae0\u5185\u5bb9\u4e4b\u524d\u6211\u60f3\u8981\u628a\u65f6\u95f4\u7ebf\u5148\u62c9\u56de\u5230 2020 \u5e74 1 \u6708\u7684\u6625\u8282\u3002\\n\\n2020 \u5e74 1 \u6708 23 \u65e5 10 \u65f6\u8d77\uff0c\u6b66\u6c49\u5e02\u653f\u5e9c\u6b63\u5f0f\u5ba3\u5e03\u5168\u5e02\u57ce\u5e02\u516c\u4ea4\u3001\u5730\u94c1\u3001\u8f6e\u6e21\u3001\u957f\u9014\u5ba2\u8fd0\u6682\u505c\u8fd0\u8425\uff0c\u673a\u573a\u3001\u706b\u8f66\u7ad9\u79bb\u6c49\u901a\u9053\u4e5f\u6682\u65f6\u5173\u95ed\uff0c\u4e5f\u5c31\u662f\u4fd7\u79f0\u7684\u300c\u5c01\u57ce\u300d\u30021 \u6708 23 \u65e5\u8fd9\u5929\u662f\u9664\u5915\u7684\u524d\u4e00\u5929\uff0c\u5927\u90e8\u5206\u4eba\u53ef\u80fd\u8fd8\u5728\u51c6\u5907\u56de\u8001\u5bb6\u6216\u8005\u6b63\u5728\u56de\u8001\u5bb6\u7684\u8def\u4e0a\uff0c\u5e76\u4e14\u53ef\u80fd\u8fd8\u6ca1\u6709\u610f\u8bc6\u5230\u6b66\u6c49\u5c01\u57ce\u8fd9\u4ef6\u4e8b\u5bf9\u6240\u6709\u4eba\u7684\u5f71\u54cd\u662f\u4ec0\u4e48\u3002\u4f46\u5f88\u5feb\u5927\u5bb6\u5c31\u901a\u8fc7\u5404\u79cd\u6e20\u9053\u89c9\u5bdf\u5230\u8fd9\u4e2a\u6240\u8c13\u7684\u300c\u65b0\u578b\u51a0\u72b6\u75c5\u6bd2\u300d\u4e0d\u540c\u4e8e\u666e\u901a\u7684\u6d41\u884c\u75c5\uff0c\u4ece\u6e56\u5317\u5f00\u59cb\uff0c\u5168\u56fd\u6bcf\u4e00\u4e2a\u7701\u6bcf\u4e00\u4e2a\u5e02\u9010\u6e10\u300c\u6ca6\u9677\u300d\u30022020 \u5e74\u7684\u6625\u8282\u8ba9\u6240\u6709\u4eba\u4eba\u5fc3\u60f6\u60f6\uff0c\u4e0d\u6562\u51fa\u95e8\uff0c\u4e70\u4e0d\u5230\u53e3\u7f69\uff0c\u4e5f\u4e0d\u6562\u53bb\u4eb2\u621a\u5bb6\u4e32\u95e8\u3002\u6bcf\u5929\u4ece\u5404\u79cd\u793e\u4ea4\u5a92\u4f53\u4e0a\u770b\u7740\u4e00\u4e2a\u53c8\u4e00\u4e2a\u65b0\u95fb\uff0c\u4eba\u4eec\u8feb\u5207\u5730\u60f3\u8981\u77e5\u9053\u5f53\u4e0b\u6b63\u5728\u53d1\u751f\u4ec0\u4e48\uff0c\u4f46\u5728\u77e5\u9053\u4e86\u4ee5\u540e\u7126\u8651\u611f\u53cd\u800c\u6108\u52a0\u4e25\u91cd\u3002\u5f53\u4e00\u4e2a\u4eba\u5728\u77ed\u65f6\u95f4\u5185\u8f93\u5165\u4e86\u5927\u91cf\u4fe1\u606f\uff0c\u4e14\u90fd\u662f\u504f\u8d1f\u9762\u7684\u4fe1\u606f\u65f6\uff0c\u8fd9\u79cd\u75b2\u60eb\u611f\u548c\u7126\u8651\u611f\u8ba9\u4eba\u4e0d\u518d\u60f3\u53bb\u601d\u8003\u4efb\u4f55\u5176\u5b83\u4e8b\u60c5\u3002\u4e8e\u662f 2020 \u5e74\u7684\u6625\u8282\u5047\u671f\u53d8\u5f97\u5f02\u5e38\u6c89\u91cd\uff0c\u5306\u5fd9\u8fc7\u5b8c\u4e86\u5047\u671f\u56de\u5230\u4e0a\u6d77\uff0c\u53d1\u73b0\u5bb6\u9644\u8fd1\u7684\u76d2\u9a6c\u5df2\u7ecf\u4e70\u4e0d\u5230\u65b0\u9c9c\u7684\u852c\u83dc\u548c\u8089\uff0c\u65b9\u4fbf\u98df\u54c1\u4e5f\u5df2\u7ecf\u552e\u7f44\uff0c\u53ea\u6709\u5404\u79cd\u51b7\u51bb\u8089\u5236\u54c1\u8fd8\u80fd\u4e70\u5230\u3002\u6000\u7740\u5fc5\u987b\u5f97\u56e4\u70b9\u4ec0\u4e48\u7684\u60f3\u6cd5\uff0c\u91c7\u8d2d\u4e86\u4e0d\u5c11\u4e1c\u897f\uff0c\u8fd9\u53ef\u80fd\u662f\u6211\u90a3\u6bb5\u65f6\u95f4\u5728\u76d2\u9a6c\u4e70\u8fc7\u6700\u591a\u4e1c\u897f\u7684\u4e00\u6b21\u7ecf\u5386\u3002\u5e78\u8fd0\u7684\u662f\u540e\u6765\u501f\u52a9\u4e8e\u5404\u79cd\u4e70\u83dc\u5e94\u7528\u8fd8\u662f\u4e70\u5230\u4e86\u65b0\u9c9c\u7684\u852c\u83dc\u548c\u8089\uff0c\u73b0\u5728\u60f3\u6765\u5176\u5b9e\u5728 2020 \u5e74\u75ab\u60c5\u6700\u4e25\u91cd\u7684\u65f6\u671f\uff0c\u5927\u90e8\u5206\u5730\u533a\u7684\u57fa\u672c\u751f\u6d3b\u90fd\u8fd8\u80fd\u5f97\u5230\u4fdd\u969c\u3002\\n\\n\u65f6\u95f4\u7ebf\u518d\u56de\u5230 2022 \u5e74\uff0c\u4e24\u5e74\u4ee5\u540e\u7684\u4eca\u5929\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u5404\u79cd\u5404\u6837\u7684[\u65b0\u51a0\u75c5\u6bd2\u75ab\u82d7](https://en.wikipedia.org/wiki/COVID-19_vaccine)\u3002\u6839\u636e[\u4e2d\u56fd\u536b\u5065\u59d4\u7684\u6570\u636e](http://www.nhc.gov.cn/xcs/s3574/202205/3e9cae4a4a6b4c03b74fb58b50871e47.shtml)\uff0c\u622a\u81f3 2022 \u5e74 5 \u6708 12 \u65e5\uff0c\u5168\u56fd\u7d2f\u8ba1\u62a5\u544a\u63a5\u79cd\u65b0\u51a0\u75ab\u82d7 33 \u4ebf 5857.6 \u4e07\u5242\u6b21\uff0c\u63a5\u79cd\u603b\u4eba\u6570\u8fbe\u5230 12 \u4ebf 8719.5 \u4e07\uff0c\u5df2\u5b8c\u6210\u5168\u7a0b\u63a5\u79cd 12 \u4ebf 5259.2 \u4e07\u4eba\uff0c\u8986\u76d6\u4eba\u6570\u548c\u5168\u7a0b\u63a5\u79cd\u4eba\u6570\u5206\u522b\u5360\u5168\u56fd\u603b\u4eba\u53e3\u7684 91.3%\u300188.85%\u3002\u800c\u6839\u636e [Our World in Data](https://ourworldindata.org/coronavirus) \u6574\u7406\u7684\u6570\u636e\uff0c\u622a\u81f3 2022 \u5e74 5 \u6708 18 \u65e5\uff0c\u5168\u7403\u5df2\u7ecf\u6709\u8d85\u8fc7 51 \u4ebf\u4eba\u63a5\u79cd\u4e86\u65b0\u51a0\u75ab\u82d7\uff0c\u7ea6\u5360\u5168\u7403\u603b\u4eba\u53e3\u7684 65.65%\u3002\u6838\u9178\u68c0\u6d4b\u5df2\u7ecf\u53d8\u5f97\u7a00\u677e\u5e73\u5e38\uff0c\u9664\u4e86\u5b98\u65b9\u63d0\u4f9b\u7684\u96c6\u4e2d\u68c0\u6d4b\u70b9\uff0c\u5c45\u6c11\u5728\u5bb6\u81ea\u6d4b\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u540c\u65f6\u4e5f\u80fd\u5f88\u65b9\u4fbf\u5730\u67e5\u8be2\u6838\u9178\u68c0\u6d4b\u7684\u5386\u53f2\u8bb0\u5f55\u3002\u4ece\u6700\u5f00\u59cb\u7684\u5065\u5eb7\u7801\uff0c\u5230\u73b0\u5728\u7684\u573a\u6240\u7801\u3001\u884c\u7a0b\u5361\uff0c\u5168\u56fd\u4ee5\u4e00\u79cd\u7edf\u4e00\u6807\u51c6\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u6bcf\u4e2a\u4eba\u5065\u5eb7\u72b6\u6001\u7684\u67e5\u8be2\u548c\u884c\u52a8\u8f68\u8ff9\u8ffd\u8e2a\uff0c\u5f53\u53d1\u73b0\u65b0\u7684\u786e\u8bca\u75c5\u4f8b\u65f6\uff0c\u653f\u5e9c\u4e5f\u4f1a\u7b2c\u4e00\u65f6\u95f4\u53d1\u5e03\u8fd9\u4e9b\u75c5\u4f8b\u7684\u5b8c\u6574\u884c\u52a8\u8f68\u8ff9\u3002\\n\\n\u79cd\u79cd\u6570\u636e\u90fd\u4f3c\u4e4e\u5728\u8868\u660e\u4eba\u7c7b\u79bb\u5b8c\u5168\u6218\u80dc\u65b0\u51a0\u75c5\u6bd2\u5df2\u7ecf\u4e0d\u8fdc\u4e86\uff0c\u6216\u8bb8\u5728\u6709\u751f\u4e4b\u5e74\u6211\u4eec\u8fd8\u6709\u7ee7\u7eed\u51fa\u56fd\u770b\u770b\u7684\u673a\u4f1a\u3002\u4f46\u662f\u81ea\u4eca\u5e74 3 \u6708\u5f00\u59cb\u7684\u4e0a\u6d77\u5c01\u57ce\uff08\u73b0\u5728\u7684\u5b98\u65b9\u8868\u8ff0\u662f\u300c\u5168\u57df\u9759\u6001\u7ba1\u7406\u300d\uff09\u4e8b\u4ef6\u4f3c\u4e4e\u53c8\u8ba9\u4eba\u4eec\u7684\u5fc3\u60c5\u56de\u5230\u4e86 2020 \u5e74\u7684\u6625\u8282\uff0c\u6bcf\u4e2a\u4eba\uff08\u5305\u62ec\u5c45\u4f4f\u5728\u4e0a\u6d77\u7684\u4eba\uff09\u7684\u5fc3\u91cc\u90fd\u6709\u975e\u5e38\u591a\u7684\u7591\u95ee\u548c\u4e0d\u89e3\uff0c\u4e3a\u4ec0\u4e48\u5728\u6709\u4e86\u8fd9\u4e48\u591a\u7ecf\u9a8c\u548c\u57fa\u7840\u8bbe\u65bd\u4ee5\u540e\uff0c\u4e0a\u6d77\u8fd9\u6837\u7684\u4e00\u7ebf\u57ce\u5e02\u8fd8\u4f1a\u51fa\u73b0\u5982\u6b64\u591a\u7684\u300c\u6df7\u4e71\u300d\uff1f\u4f5c\u4e3a\u4e00\u4e2a\u66fe\u7ecf\u5728\u4e0a\u6d77\u751f\u6d3b\u8fc7\u7684\u4eba\uff0c\u6211\u8bd5\u56fe\u4ee5\u4e00\u79cd\u5ba2\u89c2\u7684\u6001\u5ea6\u60f3\u8981\u53bb\u63a2\u5bfb\u6574\u4e2a\u4e8b\u4ef6\u80cc\u540e\u7684\u7f18\u7531\u548c\u6240\u8c13\u771f\u76f8\u7684\u8fd8\u539f\uff0c\u4f46\u6700\u7ec8\u53d1\u73b0\u4f5c\u4e3a\u4e00\u4e2a\u4e2a\u4f53\uff0c\u4e0d\u8bba\u8eab\u5904\u56f4\u57ce\u4e2d\u8fd8\u662f\u56f4\u57ce\u5916\uff0c\u5f88\u591a\u4e8b\u60c5\u7684\u300c\u771f\u76f8\u300d\u6211\u4eec\u53ef\u80fd\u6c38\u8fdc\u4e5f\u4e0d\u4f1a\u77e5\u9053\uff0c\u6c38\u8fdc\u4e5f\u65e0\u6cd5\u8fd8\u539f\u3002\u6240\u6709\u4eba\u5c31\u50cf\u5728\u73a9[\u9b42\u7cfb\u6e38\u620f](https://en.wikipedia.org/wiki/Souls_(series))\uff0c\u83b7\u53d6\u5230\u7684\u53ea\u662f\u4fe1\u606f\u7684\u788e\u7247\uff0c\u5f53\u4f60\u4e0d\u65ad\u6536\u96c6\u8fd9\u4e9b\u788e\u7247\uff08\u8fd8\u5f97\u8fc7\u6ee4\u865a\u5047\u548c\u65e0\u6548\u7684\u4fe1\u606f\uff09\u5e76\u8bd5\u56fe\u53bb\u62fc\u51d1\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u6545\u4e8b\u65f6\uff0c\u4f60\u4f1a\u53d1\u73b0\u6545\u4e8b\u4f9d\u7136\u662f\u4e0d\u5b8c\u6574\u7684\u3002\u6e38\u620f\u521b\u9020\u8005\u523b\u610f\u7684\u300c\u7559\u767d\u300d\u662f\u4e3a\u4e86\u8ba9\u6bcf\u4e2a\u73a9\u5bb6\u90fd\u80fd\u591f\u8bb2\u8ff0\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u6545\u4e8b\uff0c\u800c\u73b0\u5b9e\u4e16\u754c\u7684\u300c\u7559\u767d\u300d\u53c8\u662f\u4e3a\u4e86\u4ec0\u4e48\u5462\uff1f\u6216\u8bb8\u5728\u5f88\u591a\u5e74\u4ee5\u540e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67d0\u79cd\u5f62\u5f0f\u56de\u987e\u4eca\u5929\u53d1\u751f\u7684\u4e00\u5207\uff0c\u5c31\u50cf 1969 \u5e74\u590f\u5929\u90a3\u4e2a\u88ab\u523b\u610f\u9057\u5fd8\u7684 Harlem Cultural Festival\uff08\u54c8\u83b1\u59c6\u97f3\u4e50\u8282\uff09\u5728 52 \u5e74\u540e\u7684 2021 \u5e74\u4f9d\u7136\u53ef\u4ee5\u901a\u8fc7[\u4e00\u4e2a\u7eaa\u5f55\u7247](https://movie.douban.com/subject/35288813)\u8ba9\u6240\u6709\u4eba\u94ed\u8bb0\u3002\u6211\u76f8\u4fe1\u771f\u6b63\u7684\u5386\u53f2\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u9057\u5fd8\uff0c\u7ec8\u6709\u4e00\u5929\u5b83\u4f1a\u5f97\u5230\u5e94\u6709\u7684\u5173\u6ce8\u3002\\n\\n\u665a\u70b9\u7684\u8fd9\u7bc7\u6587\u7ae0\u662f\u6211\u8fd1\u671f\u770b\u8fc7\u7684\u4f17\u591a\u6587\u7ae0\u4e4b\u4e00\uff0c\u4e4b\u6240\u4ee5\u9009\u62e9\u5b83\u4f5c\u4e3a\u6807\u9898\uff0c\u4e00\u65b9\u9762\u6211\u4e5f\u5f88\u597d\u5947\u89e3\u5c01\u7684\u90a3\u4e00\u5929\u4eba\u4eec\u90fd\u60f3\u505a\u4e9b\u4ec0\u4e48\uff0c\u66f4\u91cd\u8981\u7684\u662f\u5728\u8fd9\u4e2a\u5f3a\u8c03\u96c6\u4f53\u4e3b\u4e49\u7684\u56fd\u5ea6\uff0c\u5355\u4e2a\u4e2a\u4f53\u771f\u5b9e\u7684\u60c5\u611f\u8868\u8fbe\u5728\u6b64\u65f6\u663e\u5f97\u5f25\u8db3\u73cd\u8d35\u3002\u8fd9\u91cc\u9762\u6709\u793e\u533a\u5de5\u4f5c\u4eba\u5458\uff0c\u6709\u5927\u5b66\u751f\uff0c\u6709\u793e\u533a\u5fd7\u613f\u8005\uff0c\u6709\u751f\u6d3b\u5728\u4e2d\u56fd\u7684\u8001\u5916\uff0c\u6709\u56e2\u8d2d\u56e2\u957f\uff0c\u6709\u51fa\u79df\u8f66\u53f8\u673a\uff0c\u6709\u5b9d\u5b9d\u521a\u51fa\u751f\u4e00\u4e2a\u6708\u7684\u65b0\u624b\u5988\u5988\uff0c\u6709\u4e92\u8054\u7f51\u4ece\u4e1a\u8005\uff0c\u6709\u4fdd\u6d01\u4e3b\u7ba1\uff0c\u6709\u8d27\u8f66\u53f8\u673a\uff0c\u6709 84 \u5c81\u7684\u8001\u4eba\uff0c\u6709\u53ee\u549a\u4e70\u83dc\u914d\u9001\u5458\uff0c\u6709\u670d\u88c5\u5e97\u8001\u677f\uff0c\u6709\u521a\u4ece\u65b9\u8231\u56de\u5bb6\u7684\u4eba\uff0c\u6709\u5373\u5c06\u53c2\u52a0\u9ad8\u8003\u7684\u9ad8\u4e09\u5b66\u751f\uff0c\u6709\u6b8b\u969c\u4eba\u58eb\uff0c\u6709\u5f8b\u5e08\uff0c\u6709\u6295\u8d44\u4eba\uff0c\u6709\u4e09\u7532\u533b\u9662\u7684\u533b\u751f\u3002\u6bcf\u4e2a\u4eba\u7684\u6545\u4e8b\u8fd9\u91cc\u4e0d\u4f1a\u4e00\u4e00\u5217\u4e3e\uff0c\u4ec5\u6458\u5f55\u51e0\u4e2a\u4ee4\u6211\u89e6\u52a8\u7684\u7247\u6bb5\uff1a\\n\\n**\u5b9d\u5b9d\u521a\u51fa\u751f\u4e00\u4e2a\u6708\u7684\u65b0\u624b\u5988\u5988**\uff1a\\n\\n> \u539f\u672c\u5979\u662f\u4e00\u4e2a\u4e0d\u7231\u56e4\u8d27\u7684\u4eba\uff0c\u5c01\u63a7\u524d\u60f3\u7740\u201c\u4e0d\u8fc7\u95ed\u5173 5 \u5929\u800c\u5df2\uff0c\u5bb6\u91cc\u5e93\u5b58\u80af\u5b9a\u591f\u7528\u201d\u3002\u8c01\u77e5\u9053\u8ba1\u5212\u8d76\u4e0d\u4e0a\u53d8\u5316\u3002\u5b9d\u8d1d\u559d\u7684\u662f\u7eaf\u8fdb\u53e3\u5976\u7c89\uff0c\u5c01\u63a7\u524d\u5c31\u662f\u7d27\u4fcf\u4ea7\u54c1\u3002\u773c\u770b\u5976\u7c89\u5c31\u8981\u89c1\u5e95\uff0c\u5979\u6025\u5f97\u7126\u5934\u70c2\u989d\uff0c\u5230\u5904\u5bfb\u627e\u540c\u57ce\u62e5\u6709\u540c\u6b3e\u5976\u7c89\u3001\u613f\u610f\u5300\u51fa\u4e00\u4e24\u7f50\u7684\u5b9d\u5988\u6551\u6025\u3002\u867d\u7136\u8bf4\u7eb8\u5c3f\u88e4\u548c\u836f\u54c1\u53ef\u4ee5\u8dd1\u817f\u91c7\u8d2d\uff0c\u4f46\u9ad8\u989d\u7684\u8dd1\u817f\u8d39\u4e5f\u4ee4\u5979\u5482\u820c\u3002\\n>\\n> \u5728\u76ee\u524d\u4e0a\u6d77\u4eba\u6c11\u5e01\u5151\u4eba\u6c11\u5e01 2.5:1 \u7684\u65f6\u95f4\u6bb5\u3001\u5728\u9760\u852c\u83dc\u76f2\u76d2\u53ca\u4e0d\u53ef\u6311\u9009\u7684\u56e2\u8d2d\u5957\u9910\u8fc7\u6d3b\u7684\u65e5\u5b50\u91cc\uff0c\u7f51\u7edc\u8d27\u54c1\u4ef7\u683c\u4e4b\u5408\u7406\u3001\u54c1\u7c7b\u4e4b\u4e30\u5bcc\u65e0\u7591\u662f\u975e\u5e38\u8bf1\u4eba\u7684\u3002\\n>\\n> \u89e3\u5c01\u90a3\u4e00\u5929\uff0c\u5979\u60f3\u8d76\u7d27\u5907\u597d\u5b9d\u8d1d\u7684\u521a\u9700\u4ea7\u54c1\uff1a\u5976\u7c89\uff0c\u7eb8\u5c3f\u88e4\uff0c\u5e38\u7528\u836f\u54c1\u3002\\n\\n**\u56e2\u8d2d\u56e2\u957f**\uff1a\\n\\n> \u6768\u5973\u58eb\u51b3\u5b9a\u5f53\u56e2\u957f\u4e0d\u662f\u4e3a\u4e86\u522b\u7684\uff0c\u662f\u5979\u81ea\u5df1\u6ca1\u6709\u9762\u7c89\u548c\u5927\u7c73\u4e86\uff0c\u600e\u4e48\u4e5f\u4e70\u4e0d\u5230\uff0c\u53ea\u597d\u627f\u62c5\u4e86\u8fd9\u4e2a\u89d2\u8272\u300228 \u5c81\u7684\u6768\u5973\u58eb\u662f\u4e0a\u6d77\u67d0\u57f9\u8bad\u673a\u6784\u7684\u804c\u5458\uff0c\u5979\u60f3\u8bf4\uff1a\u5f53\u56e2\u957f\u6bd4\u4e0a\u73ed\u8fd8\u7d2f\u3002\\n>\\n> \u505a\u56e2\u957f\u6d41\u7a0b\u7e41\u7410\u3002\u9700\u8981\u7504\u522b\u5e76\u8054\u7cfb\u4f9b\u8d27\u5546\u3001\u8054\u7cfb\u8d27\u8f66\u5e76\u786e\u8ba4\u62a5\u4ef7\u3001\u505a\u56e2\u8d2d\u94fe\u63a5\u3001\u56de\u7b54\u7fa4\u91cc\u7684\u95ee\u9898\u3001\u505a\u8868\u683c\u3001\u8ddf\u56e2\u8d2d\u4eba\u540c\u6b65\u4fe1\u606f\u3001\u8d27\u62b5\u8fbe\u540e\u518d\u627e\u4eba\u5206\u62e3\u3001\u6838\u5bf9\u6570\u91cf\u3001\u8ddf\u8e2a\u6d3e\u9001\uff08\u7ecf\u5e38\u4f1a\u6709\u4eba\u5077\u4e1c\u897f\uff09\u3002\\n>\\n> \u5c01\u63a7\u8ba9\u5979\u611f\u609f\u5230\u201c\u6bd4\u75ab\u60c5\u66f4\u53ef\u6015\u7684\u662f\u4eba\u5fc3\u201d\u3002\u4f46\u4e5f\u770b\u5230\u4eba\u6027\u7684\u6e29\u6696\u3002\u5f88\u591a\u90bb\u5c45\u4f1a\u5e2e\u4e0d\u4f1a\u56e2\u8d2d\u7684\u8001\u4eba\u8d2d\u4e70\u7269\u8d44\u3002\u89e3\u5c01\u540e\uff0c\u5979\u6700\u60f3\u505a\u7684\u4e09\u4ef6\u4e8b\u662f\uff1a\u53bb\u5916\u9762\u7684\u9910\u5385\u5403\u4e2a\u996d\uff1b\u627e\u4e2a\u8857\u8fb9\u7684\u5c0f\u9152\u5427\uff0c\u5439\u5439\u98ce\u559d\u70b9\u9152\uff0c\u770b\u770b\u8def\u4eba\u548c\u8857\u9053\uff1b\u627e\u4e2a\u9633\u5149\u597d\u7684\u65e5\u5b50\uff0c\u53bb\u8349\u576a\u4e0a\u6652\u6652\u592a\u9633\uff0c\u9759\u9759\u5730\u4ec0\u4e48\u4e5f\u4e0d\u505a\u5730\u611f\u53d7\u4e0b\u5927\u81ea\u7136\u3002\\n\\n**\u51fa\u79df\u8f66\u53f8\u673a**\uff1a\\n\\n> \u56e0\u4e3a\u8dd1\u51fa\u79df\uff0c\u4ed6\u6bcf\u5929\u65e9\u51fa\u665a\u5f52\uff0c\u548c\u90bb\u5c45\u6ca1\u6709\u63a5\u89e6\u3002\u73b0\u5728\u4e0a\u6d77\u7269\u4ef7\u5f88\u8d35\uff0c\u4ed6\u820d\u4e0d\u5f97\u4e70\u9ad8\u4ef7\u83dc\uff0c20 \u591a\u5929\u51e0\u4e4e\u6ca1\u5403\u8fc7\u83dc\uff0c\u6bcf\u5929\u53ea\u5403\u4e00\u987f\u716e\u9762\u6761\uff0c\u5403\u4e0d\u9971\u5c31\u7761\u89c9\uff0c\u6709\u65f6\u7761\u5230\u4e2d\u5348\u3001\u4e0b\u5348\uff0c\u201c\u7761\u7740\u4e86\u4e0d\u4f1a\u611f\u89c9\u5f88\u997f\u3002\u201d\\n>\\n> \u7f51\u7edc\u53d1\u8fbe\uff0c\u9ec4\u6797\u534e\u603b\u80fd\u5728\u6296\u97f3\u4e0a\u770b\u5230\u5f88\u591a\u4eba\u9886\u5230\u4e86\u6cb9\u3001\u5927\u7c73\u3001\u8089\uff0c\u4f46\u4ed6\u4ec0\u4e48\u90fd\u6ca1\u6709\uff0c\u66f4\u611f\u53d7\u5230\u4e0a\u6d77\u5bf9\u4ed6\u7684\u51b7\u6f20\u3002\u5c01\u63a7\u5927\u7ea6\u534a\u4e2a\u6708\u540e\uff0c\u8857\u9053\u7b2c\u4e00\u6b21\u7ed9\u4ed6\u53d1\u4e86\u7269\u8d44\uff1a\u5341\u4e2a\u9e21\u86cb\u3001\u4e24\u4e2a\u897f\u7ea2\u67ff\u3001\u4e24\u6839\u9ec4\u74dc\u3001\u4e24\u9897\u5a03\u5a03\u83dc\u3002\\n>\\n> \u89e3\u5c01\u540e\uff0c\u4ed6\u6700\u60f3\u505a\u7684\u4e09\u4ef6\u4e8b\u662f\uff1a\u5f00\u51fa\u79df\u8f66\u6323\u70b9\u94b1\uff0c\u8fd8\u4e0a\u524d\u6bb5\u65f6\u95f4\u6bcd\u4eb2\u4f4f\u9662\uff0c\u81ea\u5df1\u95ee\u4eb2\u621a\u501f\u7684\u94b1\uff1b\u5403\u4e00\u6b21\u5927\u7c73\u548c\u7ea2\u70e7\u8089\uff0c\u4f46\u662f\u4e70\u56de\u6765\u81ea\u5df1\u505a\uff0c\u5916\u9762\u592a\u8d35\u4e86\uff1b\u7b49\u624b\u91cc\u6709\u5dee\u4e0d\u591a\u4e00\u4e07\u5757\u94b1\u5c31\u56de\u8001\u5bb6\uff0c\u8fd9\u8f88\u5b50\u518d\u4e5f\u4e0d\u6765\u4e0a\u6d77\u3002\\n\\n**84 \u5c81\u7684\u8001\u4eba**\uff1a\\n\\n> \u9648\u8001\u5e08\u4eca\u5e74 84 \u5c81\u3002\u5341\u5e74\u524d\uff0c\u4ed6\u548c\u59bb\u5b50\u4ece\u4e0a\u6d77\u6d66\u897f\u7684\u8001\u5f04\u5802\u642c\u5230\u6d66\u4e1c\u7684\u4e00\u680b\u52a8\u8fc1\u5b89\u7f6e\u623f\uff0c\u4f4f\u4e0a 24 \u5c42\u7684\u9ad8\u697c\uff0c\u5982\u4eca\u5df2\u88ab\u6302\u4e0a\u4e86\u84dd\u8272\u7684\u201c\u5c01\u63a7\u697c\u201d\u724c\u5b50\u3002\u9648\u8001\u5e08\u5728\u5bb6\u91cc\u88ab\u5c01\u63a7\u4e86 38 \u5929\u3002\\n>\\n> \u793e\u533a\u53d1\u653e\u7684\u852c\u83dc\u5305\u4e0d\u662f\u4e13\u95e8\u4e3a\u4ed6\u8fd9\u6837\u7684\u9ad8\u9f84\u8001\u4eba\u51c6\u5907\u7684\u3002\u4ed6\u6536\u5230\u8fc7\u201c\u4eba\u811a\u90a3\u4e48\u957f\u7684\u83b4\u7b0b\u201d\u3001\u51e0\u5305\u9910\u5dfe\u7eb8\u3001\u4e24\u65a4\u9762\u7c89\u548c\u5c0f\u82cf\u6253\u997c\u5e72\u3002\u9648\u8001\u5e08\u548c\u59bb\u5b50\u7684\u7259\u9f7f\u90fd\u4e0d\u597d\uff0c\u70e7\u996d\u524d\uff0c\u4ed6\u8981\u5148\u6311\u51fa\u80fd\u54ac\u52a8\u7684\uff0c\u518d\u62e3\u51fa\u6ca1\u53d8\u8d28\u7684\u3002\\n>\\n> \u9648\u8001\u5e08\u6709\u70b9\u73b0\u5728\u5e74\u8f7b\u4eba\u5e38\u8bf4\u7684\u4e27\u6c14\uff0c\u6b64\u524d\u7684\u4eba\u751f\u201c\u662f\u968f\u5927\u6d41\u60ef\u4e86\u7684\u201d\u3002\u5c01\u63a7\u671f\u95f4\u98df\u7269\u4e0d\u5408\u53e3\u5473\uff0c\u4ed6\u5c31\u60f3\uff0c\u7ea2\u519b\u4e07\u91cc\u957f\u5f81\u4e5f\u5403\u91ce\u83dc\u30024 \u6708 23 \u65e5\uff0c\u6d66\u4e1c\u5168\u90e8\u5c01\u63a7\u697c\u5f00\u59cb\u201c\u786c\u9694\u79bb\u201d\u3002\u8d76\u5728\u5c0f\u533a\u88c5\u6805\u680f\u7684\u6b64\u524d\u4e00\u5929\uff0c\u5b59\u5b50\u6258\u670b\u53cb\u7ed9\u4ed6\u9001\u53bb\u4e86 60 \u4e2a\u9e21\u86cb\u30014 \u7bb1\u725b\u5976\u3001\u4e00\u4e9b\u9ea6\u7247\u548c\u5305\u5b50\uff0c\u9648\u8001\u5e08\u5206\u4e86\u4e00\u4e9b\u7ed9\u697c\u4e0b\u540c\u6837\u9ad8\u9f84\u7684\u90bb\u5c45\u3002\u5bf9\u4e8e\u773c\u4e0b\u7684\u60c5\u51b5\uff0c\u4ed6\u5f88\u5e73\u9759\u3002\u5c31\u7b97\u662f\u81ea\u7136\u707e\u5bb3\uff0c\u4e5f\u603b\u4f1a\u8fc7\u53bb\u2014\u2014\u90a3\u662f\u4ed6\u4e8c\u5341\u5c81\u51fa\u5934\u65f6\u53d1\u751f\u8fc7\u7684\u4e8b\u3002\\n>\\n> \u89e3\u5c01\u4e4b\u540e\u60f3\u53bb\u54ea\u91cc\uff1f\u9648\u8001\u5e08\u4e0d\u54cd\u3002\u518d\u95ee\uff0c\u9648\u8001\u5e08\u8bf4\uff0c\u6ca1\u6709\u4ec0\u4e48\u5730\u65b9\u8981\u53bb\u3002\\n\\n**\u53ee\u549a\u4e70\u83dc\u914d\u9001\u5458**\uff1a\\n\\n> 3 \u6708 27 \u65e5\uff0c\u6d66\u4e1c\u5ba3\u5e03\u5168\u57df\u9759\u6001\u7ba1\u7406\u540e\uff0c\u7ad9\u70b9\u8ba2\u5355\u91cf\u7ffb\u4e86\u4e24\u4e09\u500d\uff0c\u4ed6\u4ece\u65e9\u4e0a\u516d\u70b9\u4e00\u76f4\u5de5\u4f5c\u5230\u665a\u4e0a\u5341\u4e00\u70b9\u540e\uff0c\u6700\u591a\u4e00\u5929\u9001\u4e86 216 \u5355\u3002\u56de\u5230\u4ed3\u91cc\u8fd8\u8981\u5f00\u603b\u7ed3\u4f1a\uff0c\u518d\u5e2e\u540c\u4e8b\u4e00\u8d77\u7406\u8d27\uff0c\u7ecf\u5e38\u5fd9\u5230\u4e24\u4e09\u70b9\uff0c\u7761\u4e09\u56db\u4e2a\u5c0f\u65f6\uff0c\u53c8\u8be5\u5de5\u4f5c\u4e86\u3002\\n>\\n> \u6700\u96be\u7684\u4e00\u6b21\u662f\u4e00\u4e2a\u963f\u59e8\u627e\u5230\u4ed6\uff0c\u62a2\u5230\u7684\u83dc\u5e0c\u671b\u8f6c\u9001\u7ed9\u5728\u5f90\u6c47\u7684\u59d1\u59d1\uff0c\u8001\u4eba\u5feb\u516b\u5341\u5c81\uff0c\u4e0d\u4f1a\u7528\u667a\u80fd\u624b\u673a\uff0c\u65ad\u7cae\u4e24\u5929\u3002\u90a3\u5929\u4ed6\u524d\u540e\u8dd1\u4e86\u4e09\u8d9f\uff0c\u60f3\u7740\u8d81\u5fd7\u613f\u8005\u6362\u73ed\u9001\u8fdb\u53bb\uff0c\u90fd\u88ab\u793e\u533a\u548c\u5c0f\u533a\u62e6\u4e0b\u6765\uff0c\u90a3\u4e2a\u5c0f\u533a\u6709\u75c5\u4f8b\uff0c\u4e0d\u80fd\u63a5\u6536\u653f\u5e9c\u53d1\u653e\u4ee5\u5916\u7684\u7269\u8d44\u3002\u4ed6\u62ff\u51fa\u6838\u9178\u7ed3\u679c\uff0c\u8bc1\u660e\u81ea\u5df1\u662f\u5065\u5eb7\u7684\uff0c\u8ddf\u5de5\u4f5c\u4eba\u5458\u8bb2\u5230\u6d41\u6cea\uff0c\u201c\u8001\u4eba\u5bb6\u997f\u4e24\u5929\u8981\u51fa\u4e8b\u7684\u554a\u3002\u201d\u8fd8\u662f\u6ca1\u80fd\u9001\u8fdb\u53bb\u3002\\n>\\n> \u89e3\u5c01\u540e\uff0c\u4ed6\u60f3\u7ed9\u5b69\u5b50\u4e70\u4ee5\u524d\u820d\u4e0d\u5f97\u4e70\u7684 1500 \u5757\u7684\u4e50\u9ad8\u706b\u7bad\uff0c\u201c\u5bc4\u987a\u4e30\u6700\u8d35\u7684\u90a3\u79cd\u7a7a\u8fd0\u3002\u201d \u7ed9\u7236\u6bcd\u4e70\u4e2a\u6309\u6469\u6905\uff0c\u7236\u4eb2\u505a\u4e86\u5927\u534a\u8f88\u5b50\u7684\u7164\u77ff\u5de5\u4eba\uff0c\u60a3\u98ce\u6e7f\uff0c\u6709\u4e2a\u6309\u6469\u5e94\u8be5\u4f1a\u8212\u670d\u70b9\u3002\u518d\u7ed9\u5ab3\u5987\u4e70\u65b0\u8863\u670d\uff0c\u5728\u5bb6\u5e26\u5b69\u5b50\u7167\u987e\u7236\u6bcd\u8f9b\u82e6\u4e86\u3002\\n>\\n> \u4ed6\u81ea\u5df1\u5012\u662f\u6ca1\u4ec0\u4e48\u60f3\u4e70\u7684\uff0c\u4e5f\u6ca1\u4ec0\u4e48\u60f3\u5403\u7684\uff0c\u53ea\u60f3\u7761\u4e2a\u9971\u89c9\uff0c\u4e0d\u7528\u8bbe\u95f9\u949f\u7761\u5230\u81ea\u7136\u9192\u3002\u4ed6\u60f3\u65e9\u70b9\u6323\u591f\u94b1\u56de\u8001\u5bb6\uff0c\u8fd9\u573a\u75ab\u60c5\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u80fd\u7ed3\u675f\uff0c\u4ed6\u89c9\u5f97\u81ea\u5df1\u6700\u8be5\u505a\u7684\u4e8b\u662f\u966a\u5728\u5bb6\u4eba\u8eab\u8fb9\u3002\\n\\n\u5728\u4e00\u4e2a\u7fa4\u4f53\u6027\u4e8b\u4ef6\u4e2d\uff0c\u4eba\u6027\u7684\u5584\u4e0e\u6076\u88ab\u5c55\u73b0\u5f97\u6dcb\u6f13\u5c3d\u81f4\u3002\u51e0\u4e2a\u6708\u4ee5\u540e\u4eba\u4eec\u7684\u751f\u6d3b\u4f1a\u88ab\u65b0\u7684\u4fe1\u606f\u5145\u65a5\uff0c\u9010\u6e10\u9057\u5fd8\u66fe\u7ecf\u53d1\u751f\u7684\u4e00\u5207\uff0c\u76f4\u5230\u67d0\u4e00\u5929\u67d0\u4e2a\u4eba\u6216\u8005\u67d0\u4e9b\u4eba\u62c2\u53bb\u5386\u53f2\u7684\u5c18\u57c3\uff0c\u8bd5\u56fe\u53bb\u63d0\u9192\u8fd9\u4e2a\u4e16\u754c\u66fe\u7ecf\u6709\u8fd9\u6837\u4e00\u4ef6\u4e8b\u60c5\u5b58\u5728\u8fc7\u3002\\n\\nP.S. 2022 \u5e74 5 \u6708 17 \u65e5\u4e0a\u6d77\u5e02\u653f\u5e9c[\u5ba3\u5e03](https://mp.weixin.qq.com/s/9gRo_PWkDKwHJyOkhxj2jg)\u5168\u5e02 16 \u4e2a\u533a\u90fd\u5df2\u5b9e\u73b0\u793e\u4f1a\u9762\u6e05\u96f6\\n\\nP.P.S. 2022 \u5e74 5 \u6708 29 \u65e5\u4e0a\u6d77\u5e02\u653f\u5e9c\u516c\u5e03\u4e86[\u300a\u4e0a\u6d77\u5e02\u52a0\u5feb\u7ecf\u6d4e\u6062\u590d\u548c\u91cd\u632f\u884c\u52a8\u65b9\u6848\u300b](https://mp.weixin.qq.com/s/dxBB9jvk_yckTs29PVB1Tw)\\n\\nP.P.P.S. 2022 \u5e74 5 \u6708 31 \u65e5\u4e0a\u6d77\u5e02\u653f\u5e9c[\u5ba3\u5e03](https://mp.weixin.qq.com/s/4dZErfcWAFp6V5bdAfajbg)\u81ea 6 \u6708 1 \u65e5\u8d77\uff0c\u8fdb\u5165\u5168\u9762\u6062\u590d\u5168\u5e02\u6b63\u5e38\u751f\u4ea7\u751f\u6d3b\u79e9\u5e8f\u9636\u6bb5\uff0c\u5168\u9762\u5b9e\u65bd\u75ab\u60c5\u9632\u63a7\u5e38\u6001\u5316\u7ba1\u7406\u3002\\n\\n## \u5ef6\u4f38\u9605\u8bfb\u3001\u8046\u542c\u3001\u89c2\u770b\\n- [Reddit\uff1a\u4e0a\u6d77\u75ab\u60c5\u4e0b\u7684\u4fe1\u606f\u548c\u4e92\u52a9\u6574\u7406](https://www.reddit.com/r/China_irl/comments/tz4bct/%E4%B8%8A%E6%B5%B7%E7%96%AB%E6%83%85%E4%B8%8B%E7%9A%84%E4%BF%A1%E6%81%AF%E5%92%8C%E4%BA%92%E5%8A%A9%E6%95%B4%E7%90%86/)\\n- [Leona Cheng\uff1a\u6211\u5728\u65b9\u8231\u533b\u9662\u7684\u771f\u5b9e\u7ecf\u5386](https://mp.weixin.qq.com/s/myNgBMgideMQiaJGOpSyBA)\\n- [\u7ebd\u7ea6\u65f6\u62a5\u4e2d\u6587\u7f51\uff1a\u5c01\u57ce\u4e0b\u7684\u4e0a\u6d77](https://www.nytimes.com/zh/interactive/2022/05/04/world/asia/shanghai-lockdown-chinese.html)\\n- [\u897f\u6d77\u4e4b\u58f0\uff1a\u5982\u679c\u80fd\u7406\u89e3\u5b83\uff0c\u6211\u5c31\u4e0d\u80fd\u7406\u89e3\u4eba\u6027](https://music.163.com/#/program?id=2502966569)\\n- [\u897f\u6d77\u4e4b\u58f0\uff1a\u5982\u4f55\u88c5\u4f5c\u4e00\u5207\u5982\u5e38](https://music.163.com/#/program?id=2499103534)\\n- [\u522b\u7684\u7535\u6ce2\uff1a\u6b64\u65f6\u6b64\u523b\uff0c\u53ea\u662f\u60f3\u548c\u4e0a\u6d77\u7684\u670b\u53cb\u804a\u804a\u5929](https://music.163.com/#/program?id=2502027686)\\n- [\u5927\u5185\u5bc6\u8c08\uff1a\u7279\u6b8a\u65f6\u671f\u7684\u4e2d\u5e74\u7537\u4eba\u9694\u7a7a\u60b2\u6b4c](https://music.163.com/#/program?id=2502996453)\\n- [\u9876\u697c\u7684\u9a6c\u620f\u56e2\uff1a\u6d77\u98ce](https://music.163.com/#/song?id=28577827)\\n- [Simon & Garfunkel\uff1aThe Sound of Silence](https://music.163.com/#/song?id=21598238)\\n- [YouTube\uff1a\u56db\u6708\u4e4b\u58f0](https://www.youtube.com/watch?v=mBdOXwdBn5s&ab_channel=404%E8%B5%84%E6%96%99%E9%A6%86)"},{"id":"/12","metadata":{"permalink":"/issues/12","source":"@site/blog/12.md","title":"Issue #12","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aPaxos\u3001InfluxDB IOx\u300116bit \u97f3\u4e50","date":"2021-10-15T13:00:00.000Z","formattedDate":"October 15, 2021","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":19.68,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #12","date":"2021-10-15 13:00:00 +0800","tags":["issue"]},"prevItem":{"title":"SP #0","permalink":"/issues/sp-0"},"nextItem":{"title":"Issue #11","permalink":"/issues/11"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aPaxos\u3001InfluxDB IOx\u300116bit \u97f3\u4e50\\n\\n\x3c!--truncate--\x3e\\n\\n## Paxos Made Live - An Engineering Perspective\\n\\n[[\u94fe\u63a5]](https://research.google/pubs/pub33002)\\n\\n\u5728[\u7b2c 2 \u671f](/issues/2)\u66fe\u7ecf\u4ecb\u7ecd\u8fc7 Raft \u7b97\u6cd5\uff0c\u4f5c\u4e3a\u76ee\u524d\u53ef\u80fd\u6700\u6210\u529f\u3001\u5f71\u54cd\u6700\u6df1\u8fdc\u7684\u5171\u8bc6\u7b97\u6cd5\uff0cPaxos \u662f\u4e00\u4e2a\u4e0d\u53ef\u80fd\u7ed5\u5f00\u7684\u8bdd\u9898\u3002Paxos \u7684\u4f5c\u8005\u662f\u5927\u540d\u9f0e\u9f0e\u7684 [Leslie Lamport](https://en.wikipedia.org/wiki/Leslie_Lamport)\uff0c\u5927\u795e\u76ee\u524d\u5728\u5fae\u8f6f\u7814\u7a76\u9662\u5de5\u4f5c\u3002Paxos \u7684\u8bde\u751f\u8d77\u6e90\u4e8e [The Part-Time Parliament](https://lamport.azurewebsites.net/pubs/lamport-paxos.pdf) \u8fd9\u7bc7\u8bba\u6587\uff0c\u867d\u7136\u8bba\u6587\u662f 1998 \u5e74\u53d1\u8868\uff0c\u4f46\u662f\u65e9\u5728 1990 \u5e74\u5c31\u5df2\u7ecf\u63d0\u4ea4\u8fc7\uff0c\u5173\u4e8e\u8fd9\u6bb5[\u6709\u8da3\u7684\u5386\u53f2](https://lamport.azurewebsites.net/pubs/pubs.html#lamport-paxos)\u53ef\u4ee5\u4ece Leslie \u7684\u4e2a\u4eba\u7f51\u7ad9\u4e0a\u4e86\u89e3\u3002\\n\\n\u56e0\u4e3a The Part-Time Parliament \u8fc7\u4e8e\u6666\u6da9\uff0c2001 \u5e74 Leslie \u53c8\u53d1\u8868\u4e86 [Paxos Made Simple](https://lamport.azurewebsites.net/pubs/paxos-simple.pdf)\uff0c\u5c1d\u8bd5\u7528\u66f4\u76f4\u767d\u7684\u53d9\u8ff0\u6765\u89e3\u91ca\u4ec0\u4e48\u662f Paxos\u3002\u4f46\u5982\u679c\u4f60\u662f\u7b2c\u4e00\u6b21\u4e86\u89e3 Paxos\uff0c\u8fd9\u7bc7\u8bba\u6587\u5176\u5b9e\u4e5f\u4e0d\u662f\u5f88\u597d\u7406\u89e3\u3002\u672c\u671f\u5e76\u4e0d\u662f\u96f6\u57fa\u7840 Paxos \u5165\u95e8\u6307\u5357\uff08\u8fd8\u6ca1\u6709\u8fd9\u4e2a\u8d44\u683c\uff09\uff0c\u4f46\u4f1a\u5c1d\u8bd5\u8ba9\u4f60\u5c3d\u91cf\u591a\u5730\u4e86\u89e3 Paxos \u4ee5\u53ca\u5b83\u7684\u4f17\u591a\u884d\u751f\u8005\u3002\u5982\u679c\u4f60\u53ea\u662f\u60f3\u5728\u5de5\u7a0b\u4e2d\u5b9e\u9645\u4f7f\u7528\u4e00\u4e2a\u5171\u8bc6\u7b97\u6cd5\uff0c\u5efa\u8bae\u76f4\u63a5\u4e86\u89e3 Raft\u3002\\n\\n\u8fd9\u7bc7 Paxos Made Live \u6765\u81ea Google\uff0c2007 \u5e74\u53d1\u8868\uff0c\u6b63\u5982\u526f\u6807\u9898\u6240\u8bf4\uff0c\u662f\u4e00\u7bc7\u4ece\u5de5\u7a0b\u5b9e\u73b0\u89d2\u5ea6\u6765\u4ecb\u7ecd Paxos \u7684\u8bba\u6587\u3002Leslie \u7684\u8bba\u6587\u66f4\u4e13\u6ce8\u5728\u4ece\u6570\u5b66\u89d2\u5ea6\u8fdb\u884c\u7406\u8bba\u63a8\u7406\u548c\u8bba\u8bc1\uff0c\u800c\u5982\u4f55\u5728\u5de5\u7a0b\u4e0a\u5b9e\u73b0 Paxos \u5e76\u6ca1\u6709\u7ec6\u8bb2\uff08\u5173\u4e8e\u8fd9\u4e00\u70b9 Raft \u7684\u8bba\u6587\u4e2d\u4e5f\u6709\u6240\u63d0\u53ca\uff09\u3002\u56e0\u6b64\u672c\u7bc7\u8bba\u6587\u5c31\u663e\u5f97\u683c\u5916\u73cd\u8d35\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6709\u5174\u8da3\u5b9e\u73b0 Paxos \u7b97\u6cd5\u7684\u4eba\u4e86\u89e3\u80cc\u540e\u7684\u300c\u8270\u8f9b\u300d\u3002\\n\\n\u4e3a\u4ec0\u4e48 Google \u8981\u81ea\u5df1\u5b9e\u73b0 Paxos \u7b97\u6cd5\u8fd8\u5f97\u8ffd\u6eaf\u5230 GFS\uff08[\u7b2c 8 \u671f](/issues/8)\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\uff09\u548c Bigtable \u7684\u8bbe\u8ba1\uff0c\u8fd9\u4e9b\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5b9e\u73b0\u90fd\u4f9d\u8d56\u5206\u5e03\u5f0f\u9501\u8fd9\u4e2a\u7279\u6027\uff0c\u56e0\u6b64 Google \u7684\u5de5\u7a0b\u5e08\u4eec\u8bbe\u8ba1\u4e86 [Chubby](https://www.usenix.org/legacy/events/osdi06/tech/burrows.html)\u3002Chubby \u4e5f\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u63d0\u4f9b\u5206\u5e03\u5f0f\u9501\u529f\u80fd\u4ee5\u53ca\u5b58\u50a8\u5c11\u91cf\u7684\u5143\u6570\u636e\u3002\u6b63\u5982 Google \u7684\u5f88\u591a\u7cfb\u7edf\uff0cChubby \u7684\u8bbe\u8ba1\u4e5f\u5f71\u54cd\u4e86\u540e\u7eed\u5f88\u591a\u5f00\u6e90\u9879\u76ee\uff08\u5982 ZooKeeper\u3001etcd\uff09\uff0c\u4ee5\u540e\u53ef\u4ee5\u518d\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n\\n\u7b2c\u4e00\u7248 Chubby \u662f\u57fa\u4e8e\u67d0\u4e2a\u7b2c\u4e09\u65b9\u7684\u5546\u7528\u5bb9\u9519\u6570\u636e\u5e93\u5b9e\u73b0\u7684\uff0c\u8bba\u6587\u4e2d\u79f0\u4e4b\u4e3a 3DB\uff08\u611f\u89c9\u662f\u5728\u5f71\u5c04 Oracle \u7684 DB2\uff09\u3002\u8fd9\u4e2a\u6570\u636e\u5e93\u6709\u5f88\u591a\u4e0e\u6570\u636e\u590d\u5236\u6709\u5173\u7684\u5386\u53f2 bug\uff0c\u5b83\u7684\u590d\u5236\u673a\u5236\u4e5f\u4e0d\u662f\u57fa\u4e8e\u4e00\u4e2a\u7ecf\u8fc7\u4e25\u683c\u8bba\u8bc1\u7684\u590d\u5236\u7b97\u6cd5\u5b9e\u73b0\u3002\u56e0\u6b64 Google \u7684\u5de5\u7a0b\u5e08\u4eec\u624d\u51b3\u5b9a\u57fa\u4e8e Paxos \u6765\u91cd\u6784 Chubby\u3002\\n\\nChubby \u7684\u67b6\u6784\u5f88\u7b80\u5355\uff0c\u6240\u6709\u6570\u636e\u590d\u5236\u90fd\u4f1a\u901a\u8fc7\u6700\u5e95\u5c42\u7684\u5bb9\u9519\u65e5\u5fd7\u590d\u5236\u6765\u5b9e\u73b0\uff0c\u800c\u5982\u4f55\u590d\u5236\u8fd9\u4e9b\u5bb9\u9519\u65e5\u5fd7\u5373\u662f Paxos \u7b97\u6cd5\u8981\u5b8c\u6210\u7684\u3002\u672c\u7bc7\u8bba\u6587\u7b80\u5355\u4ecb\u7ecd\u4e86\u5b8c\u6210\u4e00\u6b21 Paxos \u7b97\u6cd5\uff08Paxos \u7684\u672f\u8bed\u662f\u4e00\u4e2a\u300cinstance\u300d\uff09\u7684\u6d41\u7a0b\uff1a\\n\\n1. \u4ece\u6240\u6709\u8282\u70b9\u4e2d\u9009\u4e3e\u4e00\u4e2a coordinator\uff08\u5728 Paxos \u4e2d\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u6d89\u53ca\u7684\u8bf7\u6c42\u88ab\u79f0\u4f5c\u300cPrepare/Propose\u300d\u53ca\u300cPromise\u300d\uff09\uff1b\\n2. Coordinator \u9009\u62e9\u4e00\u4e2a\u503c\u5e76\u901a\u8fc7\u4e00\u4e2a\u6d88\u606f\u5e7f\u64ad\u7ed9\u6240\u6709\u8282\u70b9\uff0c\u8fd9\u4e2a\u6d88\u606f\uff08\u6216\u8005\u8bf7\u6c42\uff09\u88ab\u79f0\u4f5c\u300cAccept\u300d\uff0c\u5176\u5b83\u8282\u70b9\u53ef\u4ee5\u9009\u62e9\u786e\u8ba4\uff08acknowledge\uff09\u6216\u8005\u62d2\u7edd\uff08reject\uff09\uff1b\\n3. \u4e00\u65e6\u5927\u591a\u6570\u8282\u70b9\u786e\u8ba4\u4e86\u8fd9\u4e2a\u6d88\u606f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u4e00\u81f4\u5df2\u7ecf\u8fbe\u6210\uff0ccoordinator \u4f1a\u518d\u5e7f\u64ad\u4e00\u4e2a\u300cCommit\u300d\u6d88\u606f\u7ed9\u6240\u6709\u8282\u70b9\u3002\\n\\n\u4e25\u683c\u610f\u4e49\u4e0a\u6765\u8bf4\u4e0a\u9762\u7684\u8fd9\u6bb5\u63cf\u8ff0\u5e76\u4e0d\u5b8c\u5168\u5339\u914d Paxos \u539f\u59cb\u8bba\u6587\u7684\u6b65\u9aa4\u548c\u672f\u8bed\uff0c\u4f46\u5927\u4f53\u4e0a\u662f\u4e00\u81f4\u7684\u3002\u662f\u4e0d\u662f\u770b\u8d77\u6765\u5f88\u50cf Raft\uff1fPaxos \u548c Raft \u6700\u5927\u7684\u4e0d\u540c\u5176\u5b9e\u5728\u4e8e\u5e76\u4e0d\u5b58\u5728\u4e00\u4e2a\u4e2d\u5fc3\u7684 leader\uff08\u6ce8\u610f coordinator \u5e76\u4e0d\u7b49\u4ef7\u4e8e leader\uff09\uff0c\u4e0a\u9762\u8fd9\u4e2a\u6d41\u7a0b\u662f\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u53d1\u8d77\u7684\uff08\u53d1\u8d77\u8005\u88ab\u79f0\u4f5c\u300cProposer\u300d\uff09\uff0c\u4f46\u662f\u6bcf\u4e00\u8f6e\u6d41\u7a0b\u90fd\u4f1a\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u300c\u7f16\u53f7\u300d\uff0cPaxos \u901a\u8fc7\u9650\u5b9a\u8fd9\u4e2a\u7f16\u53f7\u662f\u6709\u5e8f\u7684\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002\u53bb\u4e2d\u5fc3\u5316\u7684\u4e00\u4e2a\u597d\u5904\u662f\u6ca1\u6709\u5355\u70b9\u95ee\u9898\uff0c\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c\u6bcf\u6b21\u6570\u636e\u66f4\u65b0\u90fd\u8981\u5b8c\u6574\u91cd\u590d\u6574\u4e2a\u6d41\u7a0b\uff0c\u5199\u6027\u80fd\u662f\u5f88\u5dee\u7684\u3002\\n\\n\u56e0\u6b64\u6709\u4e86\u300cMulti-Paxos\u300d\u8fd9\u4e2a\u4f18\u5316\u65b9\u6848\uff0c\u6ce8\u610f\u5b83\u548c[\u7b2c 2 \u671f](/issues/2)\u4ecb\u7ecd\u8fc7\u7684 Multi-Raft \u6ca1\u6709\u4efb\u4f55\u5173\u8054\u3002\u5404\u79cd\u8d44\u6599\u663e\u793a Multi-Paxos \u8fd9\u4e2a\u6982\u5ff5\u4f3c\u4e4e\u6700\u65e9\u51fa\u81ea\u300cPaxos Made Simple\u300d\u8fd9\u7bc7\u8bba\u6587\uff0c\u4f46\u4f60\u5728\u5176\u4e2d\u5e76\u641c\u4e0d\u5230 Multi-Paxos \u8fd9\u4e2a\u8bcd\u6c47\u3002Multi-Paxos \u7684\u6838\u5fc3\u601d\u60f3\u662f\u5982\u679c\u4e00\u6bb5\u65f6\u95f4\u5185 coordinator \u662f\u4e0d\u53d8\u7684\uff0c\u90a3\u4e48\u5176\u5b9e\u53ef\u4ee5\u7701\u7565\u7b2c\u4e00\u9636\u6bb5\u7684\u300cPrepare/Propose\u300d\u6d88\u606f\uff0c\u76f4\u63a5\u8fdb\u5165\u7b2c\u4e8c\u9636\u6bb5\u7684\u300cAccept\u300d\uff0c\u5927\u5927\u51cf\u5c11\u9700\u8981\u901a\u4fe1\u7684\u8bf7\u6c42\u91cf\u4ee5\u53ca\u5904\u7406\u65f6\u5ef6\u3002\u90a3\u8981\u5982\u4f55\u4fdd\u8bc1\u4e00\u6bb5\u65f6\u95f4\u5185 coordinator \u4e0d\u53d8\u5462\uff1f\u719f\u6089 Raft \u7684\u540c\u5b66\u53ef\u80fd\u8981\u8bf4\u4e86\u90a3\u5c31\u5148\u9009\u4e3e\u4e00\u4e2a leader\uff0c\u53ea\u8981 leader \u5b58\u6d3b\u5c31\u4ee3\u8868 coordinator \u4e0d\u53d8\u3002Paxos \u7684\u505a\u6cd5\u662f\u5e76\u4e0d\u9700\u8981\u771f\u7684\u300c\u9009\u4e3e\u300d\u4e00\u4e2a leader \u51fa\u6765\uff0c\u524d\u9762\u4e5f\u4ecb\u7ecd\u8fc7\u4e86\uff0cPaxos \u5e76\u4e0d\u5b58\u5728\u4e00\u4e2a\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u4e2d\u5fc3\u5316\u7684 leader\uff0ccoordinator \u662f\u53ef\u4ee5\u968f\u65f6\u88ab\u6539\u53d8\u7684\u3002\u56e0\u6b64\u8981\u505a\u7684\u5c31\u662f\u9664 coordinator \u4ee5\u5916\u7684\u5176\u5b83\u8282\u70b9\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u300c\u62d2\u7edd\u300d\u65b0\u7684 proposer \u53d1\u8d77\u7684\u300cPrepare/Propose\u300d\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u300c\u56fa\u5b9a\u300d\u7684 coordinator \u5c31\u8fd9\u6837\u65e0\u5f62\u5730\u88ab\u4ea7\u751f\u51fa\u6765\u4e86\uff0c\u5e76\u4e0d\u9700\u8981\u523b\u610f\u53bb\u300c\u9009\u4e3e\u300d\u3002\\n\\nMulti-Paxos \u53ea\u662f\u5b9e\u8df5 Paxos \u7b97\u6cd5\u4e2d\u7684\u4e00\u4e2a\u6311\u6218\uff0c\u672c\u7bc7\u8bba\u6587\u8fd8\u5217\u4e3e\u4e86\u5176\u5b83\u4e00\u4e9b\u3002\\n\\n\u4f8b\u5982**\u8be5\u5982\u4f55\u68c0\u6d4b\u548c\u5e94\u5bf9\u78c1\u76d8\u635f\u574f**\u3002\u56e0\u4e3a Paxos \u7684\u72b6\u6001\u9700\u8981\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\uff0c\u5f53\u78c1\u76d8\u635f\u574f\u65f6\u6709\u53ef\u80fd\u51fa\u73b0\u4e24\u79cd\u73b0\u8c61\uff1a\u6587\u4ef6\u5185\u5bb9\u4ea7\u751f\u4e86\u53d8\u52a8\uff0c\u6216\u8005\u6587\u4ef6\u65e0\u6cd5\u8bbf\u95ee\u3002\u4e3a\u4e86\u5e94\u5bf9\u7b2c\u4e00\u79cd\u73b0\u8c61\uff0cChubby \u4fdd\u5b58\u4e86\u6bcf\u4e2a\u6587\u4ef6\u7684 checksum\uff0c\u56e0\u6b64\u5f53\u6587\u4ef6\u5185\u5bb9\u6709\u53d8\u52a8\u65f6\u53ef\u4ee5\u53ca\u65f6\u53d1\u73b0\u3002\u5bf9\u4e8e\u540e\u8005\uff0c\u56e0\u4e3a\u65e0\u6cd5\u533a\u5206\u6587\u4ef6\u65e0\u6cd5\u8bbf\u95ee\u662f\u56e0\u4e3a\u78c1\u76d8\u635f\u574f\u8fd8\u662f\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u526f\u672c\u8282\u70b9\uff08\u6b64\u65f6\u78c1\u76d8\u662f\u7a7a\u7684\uff09\uff0cChubby \u9009\u62e9\u5f53\u65b0\u7684\u526f\u672c\u8282\u70b9\u6b63\u5e38\u542f\u52a8\u4ee5\u540e\u5728 GFS \u4e0a\u4fdd\u5b58\u4e00\u4e2a\u6807\u8bb0\u7b26\uff08marker\uff09\uff0c\u56e0\u6b64\u5f53\u51fa\u73b0\u6587\u4ef6\u65e0\u6cd5\u8bbf\u95ee\u4e14\u6807\u8bb0\u7b26\u5df2\u7ecf\u5b58\u5728\uff0c\u5c31\u8868\u793a\u4e00\u5b9a\u662f\u56e0\u4e3a\u78c1\u76d8\u635f\u574f\u5bfc\u81f4\u3002\u4e3a\u4e86\u81ea\u52a8\u4fee\u590d\u7834\u635f\u7684\u6587\u4ef6\uff0c\u8282\u70b9\u4f1a\u4f5c\u4e3a\u4e00\u4e2a\u300c\u975e\u6295\u7968\u6210\u5458\uff08non-voting member\uff09\u300d\u52a0\u5165 Paxos\uff08Raft \u4e5f\u6709\u8fd9\u4e2a\u6982\u5ff5\uff09\uff0c\u5728\u8ffd\u8d76\u4e0a\u5b8c\u6574\u6570\u636e\u4e4b\u524d\u4e0d\u4f1a\u5904\u7406\u300cPrepare/Propose\u300d\u4ee5\u53ca\u300cAccept\u300d\u8bf7\u6c42\u3002\\n\\n\u518d\u6bd4\u5982**\u8be5\u5982\u4f55\u4f18\u5316\u8bfb\u8bf7\u6c42\u7684\u6027\u80fd**\u3002\u4e3a\u4e86\u4fdd\u8bc1\u8bfb\u7684\u5f3a\u4e00\u81f4\u6027\uff0c\u6bcf\u6b21\u8bfb\u8bf7\u6c42\u4e5f\u9700\u8981\u5b8c\u6574\u8d70\u4e00\u904d Paxos \u7684\u7b97\u6cd5\u6d41\u7a0b\uff0c\u5bf9\u4e8e\u8bfb\u8bf7\u6c42\u5360\u6bd4\u9ad8\u7684\u573a\u666f\u5f00\u9500\u5f88\u5927\u3002\u4e00\u79cd\u53d8\u901a\u7684\u89e3\u51b3\u65b9\u6848\u662f\u300c\u4e3b\u8282\u70b9\u79df\u7ea6\uff08master lease\uff09\u300d\u3002\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u8282\u70b9\u80fd\u83b7\u5f97\u4e3b\u8282\u70b9\u79df\u7ea6\uff08\u8fd9\u4e2a\u8282\u70b9\u53ef\u4ee5\u79f0\u4f5c master\uff09\uff0c\u5176\u5b83\u8282\u70b9\u5c06\u4e0d\u80fd\u5904\u7406\u8bf7\u6c42\uff0c\u56e0\u6b64\u83b7\u5f97\u4e3b\u8282\u70b9\u79df\u7ea6\u7684\u8282\u70b9\u5c06\u6301\u6709\u6700\u65b0\u7684\u6570\u636e\uff0c\u5b83\u53ef\u4ee5\u76f4\u63a5\u5728\u672c\u5730\u5b8c\u6210\u8bfb\u8bf7\u6c42\u7684\u5904\u7406\u800c\u4e0d\u7528\u53d1\u8d77\u4e00\u6b21\u5b8c\u6574\u7684 Paxos \u7b97\u6cd5\u3002\u65e2\u7136\u53eb\u505a\u79df\u7ea6\u90a3\u4e00\u5b9a\u6709\u65f6\u95f4\u9650\u5236\uff08timeout\uff09\uff0cmaster \u4f1a\u5b9a\u671f\u7eed\u7ea6\u4ee5\u4fdd\u8bc1\u79df\u7ea6\u53ef\u4ee5\u957f\u671f\u6709\u6548\uff0c\u5728\u5b9e\u8df5\u4e2d Chubby \u7cfb\u7edf\u7684\u4e00\u4e2a\u79df\u7ea6\u53ef\u4ee5\u6700\u957f\u4fdd\u6301\u6570\u5929\u3002Master \u7684\u8d85\u65f6\u65f6\u95f4\u6bd4\u5176\u5b83\u8282\u70b9\u7a0d\u77ed\u4e00\u4e9b\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u65f6\u949f\u6f02\u79fb\uff08clock drift\uff09\u3002\u4ee5\u4e0a\u63cf\u8ff0\u770b\u8d77\u6765\u90fd\u5f88\u50cf Raft\uff0c\u53ea\u4e0d\u8fc7\u5728 Raft \u4e2d\u4e3b\u8282\u70b9\u88ab\u53eb\u505a leader\uff0c\u524d\u9762\u8bb2\u5230\u7684 Paxos \u6ca1\u6709\u4e2d\u5fc3\u5316 leader \u7684\u300c\u4f18\u70b9\u300d\u4f3c\u4e4e\u4e5f\u4e0d\u590d\u5b58\u5728\u3002\\n\\n\u8bb2\u5b8c\u4e86\u5b9e\u8df5 Paxos \u7684\u6311\u6218\uff0c\u63a5\u4e0b\u6765\u628a\u5173\u6ce8\u70b9\u653e\u5728\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u5065\u58ee\uff08robust\uff09\u7684\u7b97\u6cd5\u3002Paxos \u7684\u6838\u5fc3\u7b97\u6cd5\u770b\u8d77\u6765\u5f88\u300c\u7b80\u5355\u300d\uff0c\u53ef\u80fd\u7528\u5f88\u5c11\u7684\u4ee3\u7801\u5c31\u80fd\u5b9e\u73b0\uff0c\u4f46\u662f\u5982\u4f55\u786e\u4fdd\u5b9e\u73b0\u7684\u7b97\u6cd5\u662f\u53ef\u9760\u7684\u5462\uff1fGoogle \u7684\u4e00\u4e9b\u7ecf\u9a8c\u503c\u5f97\u501f\u9274\u548c\u5b66\u4e60\u3002\\n\\n\u56e0\u4e3a\u5bb9\u9519\u7b97\u6cd5\u5f88\u96be\u51c6\u786e\u8868\u8fbe\uff0c\u5373\u4f7f\u662f\u7528\u4f2a\u4ee3\u7801\u4e5f\u662f\u5982\u6b64\u3002\u56e0\u6b64 Google \u7684\u5de5\u7a0b\u5e08\u4eec\u8bbe\u8ba1\u4e86\u4e00\u79cd\u72b6\u6001\u673a\u63cf\u8ff0\u8bed\u8a00\uff08specification language\uff09\uff0c\u901a\u8fc7\u8fd9\u4e2a\u63cf\u8ff0\u8bed\u8a00\u6784\u5efa\u4e86\u4e24\u4e2a\u72b6\u6001\u673a\uff0c\u6700\u7ec8\u7528\u4e8e\u63cf\u8ff0 Paxos \u7684\u6838\u5fc3\u7b97\u6cd5\u3002\u540c\u65f6\u6709\u4e00\u4e2a\u7279\u5b9a\u7684\u7f16\u8bd1\u5668\u6765\u5c06\u8fd9\u4e2a\u63cf\u8ff0\u8bed\u8a00\u7ffb\u8bd1\u6210 C++ \u4ee3\u7801\uff0c\u7ffb\u8bd1\u7684\u8fc7\u7a0b\u4e2d\u8fd8\u80fd\u81ea\u52a8\u751f\u6210\u4e00\u4e9b\u65e5\u5fd7\u4ee5\u53ca\u8f85\u52a9\u8c03\u8bd5\u548c\u6d4b\u8bd5\u7684\u903b\u8f91\u3002\u6709\u4e86\u8fd9\u4e2a\u63cf\u8ff0\u8bed\u8a00\uff0c1 \u4e2a\u5c4f\u5e55\u5c31\u80fd\u5b8c\u6574\u5c55\u793a Paxos \u7684\u6838\u5fc3\u7b97\u6cd5\uff0c\u53ef\u89c1\u8bed\u8a00\u8db3\u591f\u7cbe\u7b80\u3002\u4e3a\u4ec0\u4e48\u8981\u5982\u6b64\u6298\u817e\u641e\u8fd9\u4e48\u4e00\u5957\u4e1c\u897f\u5462\uff1fGoogle \u7684\u5de5\u7a0b\u5e08\u4eec\u76f8\u4fe1\u5f53\u9700\u8981\u5bf9\u6838\u5fc3\u7b97\u6cd5\u505a\u8c03\u6574\u65f6\u8fd9\u79cd\u65b9\u5f0f\u80fd\u66f4\u6709\u6548\u7387\uff0c\u5e76\u4e3e\u4e86\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u4ed6\u4eec\u66fe\u7ecf\u9700\u8981\u5c06\u6210\u5458\u5173\u7cfb\uff08group membership\uff09\u7684\u72b6\u6001\u673a\u4ece 3 \u4e2a\u72b6\u6001\u6539\u6210 2 \u4e2a\uff0c\u4ec5\u4ec5\u7528\u4e86 1 \u4e2a\u5c0f\u65f6\u5c31\u5b8c\u6210\u4e86\u903b\u8f91\u53d8\u66f4\uff0c\u4ee5\u53ca\u7528\u4e86 3 \u5929\u6765\u5b8c\u6210\u6d4b\u8bd5\u8c03\u6574\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u5957\u4e1c\u897f\uff0c\u6574\u4e2a\u6838\u5fc3\u7b97\u6cd5\u5b9e\u73b0\u662f\u8ddf\u5176\u5b83\u903b\u8f91\u6df7\u6742\u5728\u4e00\u8d77\u7684\uff0c\u53ef\u80fd\u5c31\u6ca1\u6709\u8fd9\u4e48\u5feb\u5b8c\u6210\u4e86\u3002\\n\\n\u9a8c\u8bc1\u4e00\u4e2a\u7cfb\u7edf\u662f\u5426\u53ef\u9760\u7684\u53e6\u4e00\u4e2a\u597d\u65b9\u6cd5\u5c31\u662f\u300c\u6d4b\u8bd5\u300d\u3002Chubby \u4ece\u8bbe\u8ba1\u4e4b\u521d\u5c31\u786e\u4fdd\u6574\u4e2a\u7cfb\u7edf\u662f\u53ef\u6d4b\u8bd5\u7684\uff08testable\uff09\uff0c\u6240\u6709\u6d4b\u8bd5\u90fd\u6709\u4e24\u79cd\u8fd0\u884c\u6a21\u5f0f\uff1a\u5b89\u5168\u6a21\u5f0f\uff08safety mode\uff09\u548c\u5728\u7ebf\u6a21\u5f0f\uff08liveness mode\uff09\uff0c\u5f53\u8fd0\u884c\u5728\u5b89\u5168\u6a21\u5f0f\u65f6\u5141\u8bb8\u7cfb\u7edf\u4e0d\u53ef\u7528\uff0c\u800c\u5728\u7ebf\u6a21\u5f0f\u4e0d\u5141\u8bb8\u3002\u6bcf\u4e2a\u6d4b\u8bd5\u90fd\u4f1a\u5148\u8fd0\u884c\u5728\u5b89\u5168\u6a21\u5f0f\u5e76\u968f\u673a\u6ce8\u5165\u4e00\u6bb5\u65f6\u95f4\u7684\u6545\u969c\uff0c\u7136\u540e\u7b49\u5f85\u7cfb\u7edf\u81ea\u52a8\u6062\u590d\uff0c\u518d\u5207\u6362\u5230\u5728\u7ebf\u6a21\u5f0f\u53bb\u9a8c\u8bc1\u7cfb\u7edf\u662f\u5426\u5df2\u7ecf\u5904\u4e8e\u6b63\u5e38\u72b6\u6001\u3002\u6ce8\u5165\u7684\u6545\u969c\u7c7b\u4f3c\u4e8e\uff1a\u7f51\u7edc\u4e2d\u65ad\u3001\u6d88\u606f\u5ef6\u8fdf\u3001\u8d85\u65f6\u3001\u8fdb\u7a0b\u5d29\u6e83\u3001\u6587\u4ef6\u635f\u574f\u3001\u8ba9\u67d0\u4e2a\u8282\u70b9\u5b95\u673a\u3001\u8ba9\u67d0\u4e2a\u8282\u70b9\u4e0e\u5176\u5b83\u8282\u70b9\u65ad\u5f00\u4e00\u6bb5\u65f6\u95f4\u7684\u8fde\u63a5\u3001\u8ba9\u4e00\u4e2a\u8282\u70b9\u5047\u88c5\u5b83\u4e0d\u518d\u662f\u4e3b\u8282\u70b9\u7b49\u7b49\u3002\u8fd9\u4e2a\u6d4b\u8bd5\u65b9\u6cd5\u8ddf\u73b0\u5728\u5f88\u706b\u7684[\u300c\u6df7\u6c8c\u5de5\u7a0b\u300d](https://en.wikipedia.org/wiki/Chaos_engineering)\u975e\u5e38\u7c7b\u4f3c\uff0c\u4f46\u662f\u6bd4 Netflix [\u63d0\u51fa](https://netflixtechblog.com/the-netflix-simian-army-16e57fbab116)\u6574\u6574\u65e9\u4e86 4 \u5e74\u3002\\n\\n\u8bba\u6587\u7684\u6700\u540e\u6307\u51fa\u4e86\u76ee\u524d\u5bb9\u9519\u7b97\u6cd5\u9886\u57df\u7684\u4e00\u4e9b\u300c\u95ee\u9898\u300d\uff0c\u6bd4\u5982 Paxos \u7406\u8bba\u77e5\u8bc6\u548c\u5de5\u7a0b\u5b9e\u8df5\u4e2d\u7684\u5de8\u5927\u9e3f\u6c9f\u3001\u6ca1\u6709\u5408\u9002\u7684\u5de5\u5177\u6765\u5e2e\u52a9\u5b9e\u73b0\u4e00\u4e2a\u5bb9\u9519\u7b97\u6cd5\u3001\u5bf9\u6d4b\u8bd5\u6ca1\u6709\u8db3\u591f\u7684\u91cd\u89c6\u3002\u76f8\u6bd4\u4e4b\u4e0b\u7f16\u8bd1\u5668\u9886\u57df\u5c31\u597d\u5f88\u591a\uff0c\u867d\u7136\u7f16\u8bd1\u5668\u7684\u7406\u8bba\u77e5\u8bc6\u4e5f\u5f88\u590d\u6742\uff0c\u4f46\u662f\u5df2\u7ecf\u79ef\u7d2f\u4e86\u4f17\u591a\u5de5\u5177\u6765\u5e2e\u52a9\u5de5\u7a0b\u5e08\u8fdb\u884c\u65e5\u5e38\u5f00\u53d1\uff08\u4f8b\u5982 Yacc\u3001ANTLR\u3001Coco/R\uff09\u3002\u4f17\u4eba\u62fe\u67f4\u706b\u7130\u9ad8\uff0c\u524d\u4eba\u7684\u7ecf\u9a8c\u4e0d\u65ad\u901a\u8fc7\u5404\u79cd\u5de5\u5177\u6c89\u6dc0\u4e0b\u6765\uff0c\u540e\u6765\u8005\u7684\u5f00\u53d1\u6548\u7387\u81ea\u7136\u4f1a\u63d0\u9ad8\u4e0d\u5c11\uff0c\u4e5f\u80fd\u907f\u514d\u5f88\u591a\u5df2\u77e5\u7684\u9519\u8bef\u3002\\n\\n\u65f6\u81f3\u4eca\u65e5\uff0c\u4e0d\u7ba1\u662f Paxos \u8fd8\u662f Raft \u5728\u5de5\u7a0b\u4e0a\u90fd\u6709\u4e86\u5404\u79cd\u5404\u6837\u7684\u5b9e\u8df5\uff0c\u5b9e\u73b0\u4e00\u4e2a\u5bb9\u9519\u7b97\u6cd5\u5df2\u7ecf\u4e0d\u518d\u50cf\u4ee5\u524d\u4e00\u6837\u56f0\u96be\u91cd\u91cd\u6216\u8005\u9065\u4e0d\u53ef\u53ca\uff0cCS \u4e13\u4e1a\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u8bfe\u7a0b\u4e5f\u5f00\u59cb\u6559\u6388\u5404\u79cd\u5bb9\u9519\u7b97\u6cd5\uff0c\u53d8\u6210\u4e86\u4e00\u79cd\u4e13\u4e1a\u57fa\u7840\u77e5\u8bc6\u3002\\n\\n## Paxos \u7406\u8bba\u4ecb\u7ecd\\n\\n[[\u4e00]](https://mp.weixin.qq.com/s/eeJXS5rBA9mXpSJaTNjF-Q) [[\u4e8c]](https://mp.weixin.qq.com/s/UO-4ycfleNkE-flsDpGdIA) [[\u4e09]](https://mp.weixin.qq.com/s/DGFWZPlnE6r_bV2ALgts-A) [[\u56db]](https://mp.weixin.qq.com/s/JdkOAHxOvHiWgusfe5ISBg)\\n\\n\u8fd9\u662f\u4e00\u4e2a\u4ecb\u7ecd Paxos \u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u53d1\u8868\u5728\u300c\u5fae\u4fe1\u540e\u53f0\u56e2\u961f\u300d\u7684\u516c\u4f17\u53f7\uff0c\u6587\u7ae0\u53d1\u5e03\u65f6\u95f4\u662f 2016 \u5e74\uff0c\u5982\u679c\u4f60\u56de\u770b\u90a3\u6bb5\u65f6\u95f4\u8fd9\u4e2a\u516c\u4f17\u53f7\u7684\u6587\u7ae0\uff0c\u4f1a\u53d1\u73b0\u5fae\u4fe1\u521a\u521a\u5f00\u6e90\u4e86 [PhxPaxos](https://github.com/Tencent/phxpaxos) \u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u7531\u5fae\u4fe1\u540e\u53f0\u56e2\u961f\u81ea\u7814\u7684 Paxos C++ \u5e93\uff0c\u4e4b\u540e\u5f00\u6e90\u7684 MySQL \u96c6\u7fa4 [PhxSQL](https://github.com/Tencent/phxsql) \u5373\u662f\u57fa\u4e8e\u8fd9\u4e2a\u5e93\u5f00\u53d1\uff08\u5fae\u4fe1\u5f00\u6e90\u4e86\u4e00\u7cfb\u5217\u4ee5 Phx \u547d\u540d\u7684\u9879\u76ee\uff09\u3002\u8fd9\u4e00\u7cfb\u5217\u7684\u6587\u7ae0\u5373\u5305\u542b\u4e86 Paxos \u7684\u57fa\u7840\u7406\u8bba\u4ecb\u7ecd\uff08\u53ef\u4ee5\u4f5c\u4e3a Paxos Made Simple \u7684\u8865\u5145\uff09\uff0c\u4e5f\u7c7b\u4f3c\u524d\u9762\u4ecb\u7ecd\u7684 Paxos Made Live \u4e00\u6837\u5305\u542b\u5fae\u4fe1\u56e2\u961f\u5728 Paxos \u5de5\u7a0b\u5b9e\u8df5\u4e2d\u7684\u5b9d\u8d35\u7ecf\u9a8c\u3002\u4f5c\u4e3a\u4e2d\u6587\u9886\u57df\u4ecb\u7ecd Paxos \u4e14\u6765\u81ea\u4e00\u7ebf\u5de5\u7a0b\u5e08\u7684\u5185\u5bb9\uff0c\u503c\u5f97\u4e00\u8bfb\u3002\\n\\n## Paxosmon: Gotta Consensus Them All\\n\\n[[\u94fe\u63a5]](https://vadosware.io/post/paxosmon-gotta-concensus-them-all)\\n\\nPaxos \u8d77\u6e90\u4e8e The Part-Time Parliament\uff0c\u4f46\u5e76\u6ca1\u6709\u6b62\u4e8e\u6b64\u3002\u5728 Paxos \u8bde\u751f\u540e\u7684\u8fd1 30 \u5e74\u95f4\uff0c\u4f17\u591a\u5b66\u672f\u754c\u7684\u7814\u7a76\u4eba\u5458\u56f4\u7ed5\u7740 Paxos \u8fdb\u884c\u4e86\u5404\u79cd\u7406\u8bba\u548c\u5b9e\u8df5\u4e0a\u7684\u63a2\u7d22\uff0c\u8fd9\u7bc7\u6587\u7ae0\u6309\u7167\u65f6\u95f4\u7ebf\u68b3\u7406\u4e86\u5404\u79cd Paxos \u7b97\u6cd5\u7684\u300c\u53d8\u79cd\u300d\uff0c\u5e76\u603b\u7ed3\u4e86\u6bcf\u79cd\u7b97\u6cd5\u7684\u4f18\u7f3a\u70b9\u3002\u8fd9\u5176\u4e2d\u5305\u542b\u5982 Multi-Paxos\u3001FastPaxos\u3001Multicoordinated Paxos\u3001SPaxos\u3001Ring Paxos\u3001Flexible Paxos\uff08[\u7b2c 10 \u671f](/issues/10)\u4e5f\u4ecb\u7ecd\u8fc7\uff09\u7b49\u7b49\u5404\u79cd\u4f60\u53ef\u80fd\u4ece\u6765\u6ca1\u542c\u8fc7\u7684 Paxos \u7b97\u6cd5\uff0c\u867d\u7136\u8fd9\u5176\u4e2d\u7684\u6bcf\u4e2a\u7b97\u6cd5\u4e0d\u4e00\u5b9a\u90fd\u80fd\u76f4\u63a5\u5e94\u7528\u5728\u5de5\u7a0b\u4e2d\uff0c\u4f46\u5bf9\u4e8e\u4e86\u89e3 Paxos \u7b97\u6cd5\u5bb6\u65cf\u7684\u53d1\u5c55\u5386\u53f2\u6765\u8bf4\u5f88\u6709\u610f\u4e49\u3002\\n\\n## Announcing InfluxDB IOx: The Future of InfluxDB Built with Rust & Arrow\\n\\n[[\u94fe\u63a5]](https://www.influxdata.com/blog/announcing-influxdb-iox)\\n\\n\u6bcf\u4e2a\u670d\u52a1\u7aef\u5f00\u53d1\u8005\u5bf9\u4e8e InfluxDB \u5e94\u8be5\u90fd\u4e0d\u4f1a\u964c\u751f\uff0c\u4f5c\u4e3a\u53ef\u80fd\u662f\u6700\u6d41\u884c\u7684\u65f6\u5e8f\u6570\u636e\u5e93\uff08TSDB\uff09\u4e4b\u4e00\uff0c\u662f\u6bcf\u4e2a\u516c\u53f8\u90fd\u4f1a\u62e5\u6709\u7684\u57fa\u7840\u8bbe\u65bd\u3002\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea InfluxDB \u521b\u59cb\u4eba Paul Dix\uff0c\u53d1\u8868\u65f6\u95f4\u662f 2020 \u5e74 11 \u6708\u3002\u540c\u6837\u662f 11 \u6708\uff0c\u5012\u56de\u5230 7 \u5e74\u524d\uff0cPaul Dix \u9996\u6b21\u5bf9\u5916\u516c\u5f00\u4e86 InfluxDB \u9879\u76ee\u3002InfluxDB \u7684\u6838\u5fc3\u6570\u636e\u6a21\u578b\u53ef\u4ee5\u7406\u89e3\u4e3a tag \u548c field\u3002Tag \u662f\u53ef\u7d22\u5f15\u7684\u5b57\u6bb5\uff0c\u5373\u80fd\u591f\u7528\u4e8e\u8fc7\u6ee4\u67e5\u8be2\uff0c\u5e38\u89c1\u7684 tag \u5982\u4e3b\u673a\u540d\u3001\u8bf7\u6c42\u7c7b\u578b\u7b49\uff0ctag \u7684\u9650\u5236\u662f\u4e0d\u80fd\u5c06\u67d0\u4e2a\u6709\u5927\u91cf\u53d6\u503c\u7684\u5b57\u6bb5\u4f5c\u4e3a\u4e00\u4e2a tag\uff08\u6bd4\u5982\u7528\u6237 ID\uff09\uff0c\u5426\u5219\u5bf9\u4e8e InfluxDB \u6765\u8bf4\u4f1a\u9020\u6210\u8d1f\u9762\u5f71\u54cd\u3002Field \u662f\u5177\u4f53\u7684\u6570\u503c\uff0c\u4e0d\u53ef\u7d22\u5f15\uff0c\u4e5f\u6ca1\u6709\u7c7b\u4f3c tag \u7684\u53d6\u503c\u9650\u5236\u3002\u968f\u7740 InfluxDB \u7684\u5e94\u7528\u8d8a\u6765\u8d8a\u5e7f\u6cdb\uff0c\u8fd9\u4e2a\u6700\u521d\u7684\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u4e5f\u9047\u5230\u4e86\u6311\u6218\uff0c\u6bd4\u5982\u5206\u5e03\u5f0f tracing \u573a\u666f\uff0c\u6bcf\u4e00\u6761 trace \u4fe1\u606f\u90fd\u4f1a\u5305\u542b\u4e00\u4e2a\u552f\u4e00\u7684 ID\uff0c\u8fd9\u4e2a trace ID \u4e5f\u4f1a\u9891\u7e41\u7528\u4e8e\u6570\u636e\u67e5\u8be2\uff0c\u4f46\u56e0\u4e3a trace ID \u7684\u6570\u91cf\u7ea7\u8fc7\u4e8e\u5e9e\u5927\uff0c\u5f53\u524d\u7684 InfluxDB \u8bbe\u8ba1\u6ca1\u6cd5\u627f\u8f7d\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u3002InfluxDB \u8bde\u751f\u81f3\u4eca\u4e5f\u6ca1\u6709\u63d0\u4f9b\u5f00\u6e90\u7248\u672c\u7684\u5206\u5e03\u5f0f\u5b9e\u73b0\uff08\u5728\u65e9\u671f\u7248\u672c\u4e2d\u66fe\u7ecf\u6709\u8fc7\uff0c\u4f46\u662f\u540e\u6765\u5c31\u6ca1\u6709\u4e86\uff09\uff0c\u5206\u5e03\u5f0f\u5b58\u50a8\u4f5c\u4e3a\u4e86 InfluxDB \u5546\u4e1a\u7248\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\uff0c\u4e4b\u6240\u4ee5\u8fd9\u6837\u9009\u62e9\u4e5f\u662f\u4e3a\u4e86\u7ef4\u6301 InfluxDB \u5f00\u6e90\u7248\u672c\u6301\u7eed\u5f00\u53d1\u7684\u300c\u65e0\u5948\u4e4b\u4e3e\u300d\u3002\u4ee5\u4e0a\u79cd\u79cd\u56e0\u7d20\u4f7f\u5f97 Paul Dix \u5f00\u59cb\u601d\u8003\u672a\u6765\u7684 InfluxDB \u4f1a\u662f\u4ec0\u4e48\u6837\u7684\u5462\uff0c\u8fd9\u7bc7\u6587\u7ae0\u5373\u662f\u4ed6\u7684\u601d\u8003\u7ed3\u679c\u3002\u4ece\u6587\u7ae0\u6807\u9898\u91cc\u4e5f\u80fd\u770b\u5230\uff0c\u6838\u5fc3\u5173\u952e\u8bcd\u662f Rust \u548c Apache Arrow\uff08[\u4e0a\u4e00\u671f](/issues/11)\u4ecb\u7ecd\u8fc7\uff09\uff0c\u4f46 InfluxDB IOx \u5e76\u4e0d\u4ec5\u9650\u4e8e\u6b64\u3002\u6587\u7ae0\u4e2d\u5173\u4e8e\u5f00\u6e90\u8f6f\u4ef6\u534f\u8bae\u7684\u89c1\u89e3\u4e5f\u5f88\u6709\u610f\u601d\uff0cInfluxDB IOx \u76ee\u524d\u5df2\u7ecf[\u5f00\u6e90](https://github.com/influxdata/influxdb_iox)\u5e76\u6301\u7eed\u8fed\u4ee3\u4e2d\u3002\\n\\n## MEGA DRIVE-\u9ed1\u8272\u7684 16bit \u4f20\u5947 Vol.3 16bit \u97f3\u4e50\u63a2\u79d8\\n\\n[[\u94fe\u63a5]](https://www.gcores.com/radios/140121)\\n\\n\u8fd9\u662f\u4e00\u671f\u64ad\u5ba2\uff0c\u6765\u81ea\u300c\u7adf\u7136\u8fd8\u80fd\u804a\u6e38\u620f\u300d\u7684\u673a\u6838\uff0c\u5609\u5bbe\u662f\u6211\u975e\u5e38\u559c\u6b22\u7684\u91cd\u8f7b\u8001\u5e08\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u4e5f\u53ef\u4ee5\u542c\u542c\u4ed6\u4ee5\u524d\u5728\u673a\u6838\u7684[\u64ad\u5ba2\u8282\u76ee](https://www.gcores.com/users/31418/content?tab=radios)\uff0c\u63a8\u8350\u804a\u300a\u897f\u90e8\u4e16\u754c\u300b\u3001\u5439\u54e5\uff08Jonathan Blow\uff09\u3001\u4e50\u7406\u7684\u8fd9\u51e0\u671f\u3002\u4f5c\u4e3a[\u4e0a\u4e00\u671f](https://www.gcores.com/radios/26610)\u804a 8bit \u97f3\u4e50\u7684\u975e\u6b63\u5f0f\u7eed\u96c6\uff0c\u8fd9\u4e00\u671f\u4e5f\u662f\u4ece\u97f3\u4e50\u7684\u89d2\u5ea6\u804a\u804a\u6211\u4eec\u90a3\u4e9b\u66fe\u7ecf\u7684\u6e38\u620f\u65f6\u5149\uff08\u5e76\u6ca1\u6709\u804a\u5177\u4f53\u7684\u6e38\u620f\uff09\u3002\u5982\u679c\u4f60\u548c\u6211\u4e00\u6837\u662f\u4ece\u7ea2\u767d\u673a\u65f6\u4ee3\u7ecf\u5386\u8fc7\u6765\u7684\uff0c\u90a3\u4e00\u5b9a\u5bf9\u4e8e\u5176\u4e2d\u5217\u4e3e\u7684\u5404\u79cd\u573a\u666f\u6df1\u6709\u611f\u89e6\uff0c\u6bcf\u4e00\u6bb5\u4f5c\u4e3a\u793a\u4f8b\u7684\u97f3\u4e50\u4e5f\u662f\u542c\u5f97\u70ed\u8840\u6cb8\u817e\u3002\u5373\u4f7f\u4f60\u6ca1\u6709\u7ecf\u5386\u8fc7\u65e9\u671f\u7684\u6e38\u620f\u673a\u65f6\u4ee3\uff0c\u4e5f\u4f1a\u60ca\u53f9\u4e8e\u90a3\u4e2a\u5e74\u4ee3\u97f3\u4e50\u521b\u4f5c\u8005\uff08\u4ea6\u6216\u97f3\u4e50\u5de5\u7a0b\u5e08\uff1f\uff09\u7684\u8270\u8f9b\u4e0e\u624d\u534e\uff0c\u7279\u522b\u662f 16bit \u8fd9\u4e00\u671f\u7684\u97f3\u4e50\uff0c\u5c31\u7b97\u653e\u5230\u4eca\u5929\u5c06\u4e4b\u5217\u4e3a\u9876\u5c16\u97f3\u4e50\u7684\u884c\u5217\u4e5f\u7edd\u4e0d\u4e3a\u8fc7\u3002"},{"id":"/11","metadata":{"permalink":"/issues/11","source":"@site/blog/11.md","title":"Issue #11","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aProcella\u3001PrestoDB@Facebook\u3001Apache Arrow\u3001S3 Consistency\u3001Feast\u3001Uptown Records","date":"2021-07-08T13:10:00.000Z","formattedDate":"July 8, 2021","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":29.925,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #11","date":"2021-07-08 13:10:00 +0800","tags":["issue"]},"prevItem":{"title":"Issue #12","permalink":"/issues/12"},"nextItem":{"title":"Issue #10","permalink":"/issues/10"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aProcella\u3001PrestoDB@Facebook\u3001Apache Arrow\u3001S3 Consistency\u3001Feast\u3001Uptown Records\\n\\n\x3c!--truncate--\x3e\\n\\n## Procella: Unifying serving and analytical data at YouTube\\n\\n[[\u94fe\u63a5]](https://research.google/pubs/pub48388)\\n\\nProcella \u662f YouTube \u81ea\u7814\u7684 SQL \u67e5\u8be2\u5f15\u64ce\uff0c\u65e8\u5728\u7528\u4e00\u4e2a\u5f15\u64ce\u6ee1\u8db3\u591a\u79cd\u4f7f\u7528\u573a\u666f\u7684\u9700\u6c42\uff08\u6709\u70b9\u50cf[\u4e0a\u4e00\u671f](/issues/10)\u4ecb\u7ecd\u7684 Tectonic\uff09\uff0c\u76ee\u524d\u5df2\u7ecf\u88ab\u5e7f\u6cdb\u5e94\u7528\u5728 YouTube\u3001Google Play\u3001Firebase \u7b49\u591a\u4e2a\u4ea7\u54c1\u3002\u8bba\u6587\u53d1\u8868\u5728 2019 \u5e74\u7684 VLDB \u4f1a\u8bae\uff0c[\u7b2c 4 \u671f](/issues/4)\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\u540c\u4e00\u5e74\u53d1\u8868\u7684 AliGraph\u3002\\n\\n\u867d\u8bf4 Procella \u81ea\u79f0 SQL \u67e5\u8be2\u5f15\u64ce\uff0c\u4f46\u5176\u5b9e\u5b83\u4e5f\u5305\u542b\u4e00\u4e9b\u4e0e\u5b58\u50a8\u683c\u5f0f\u6709\u5173\u7684\u6280\u672f\uff0c\u5e76\u4e14\u8fd9\u4e2a\u5b58\u50a8\u683c\u5f0f\u5bf9\u4e8e\u6574\u4f53\u7cfb\u7edf\u6765\u8bf4\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\u4e00\u90e8\u5206\uff0c\u5173\u4e8e\u8fd9\u90e8\u5206\u540e\u9762\u4f1a\u5355\u72ec\u4ecb\u7ecd\u3002\u5148\u6765\u4e86\u89e3\u4e00\u4e0b Procella \u60f3\u8981\u6ee1\u8db3\u7684\u51e0\u4e2a\u573a\u666f\uff1a\\n\\n- **\u5206\u6790\u62a5\u544a\u548c dashboard**\uff1aYouTube \u7684\u521b\u4f5c\u8005\uff08\u73b0\u5728\u5e94\u8be5\u6d41\u884c\u53eb YouTuber\uff09\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u5b9e\u65f6\u66f4\u65b0\u7684 dashboard \u6765\u4e86\u89e3\u6240\u6709\u89c6\u9891\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u8bc4\u4f30\u5185\u5bb9\u7684\u5f71\u54cd\u529b\u3002\u8fd9\u4e2a\u573a\u666f\u5bf9\u54cd\u5e94\u65f6\u95f4\u6709\u8f83\u9ad8\u8981\u6c42\uff08\u6570\u5341\u6beb\u79d2\uff09\uff0c\u5904\u7406\u7684\u6570\u636e\u91cf\u4e5f\u975e\u5e38\u5927\uff08\u6bcf\u5929\u6709\u5343\u4ebf\u884c\u7684\u65b0\u589e\u6570\u636e\uff09\u3002\\n- **\u5b9e\u65f6\u7edf\u8ba1\u6570\u636e**\uff1a\u8fd9\u91cc\u7684\u7edf\u8ba1\u6570\u636e\u548c\u4e0a\u4e00\u4e2a\u7684\u533a\u522b\u662f\u4e0a\u4e00\u4e2a\u8fd8\u53ea\u662f\u9762\u5411\u5c0f\u90e8\u5206\u7528\u6237\uff0c\u800c\u8fd9\u91cc\u7684\u7edf\u8ba1\u6570\u636e\u662f\u6240\u6709\u7528\u6237\u5728\u8bbf\u95ee YouTube \u65f6\u90fd\u80fd\u770b\u5230\u7684\uff08\u6bd4\u5982\u70b9\u8d5e\u6570\u3001\u89c2\u770b\u6b21\u6570\uff09\uff0c\u56e0\u6b64\u8bf7\u6c42\u91cf\u4f1a\u66f4\u5927\uff0c\u5bf9\u54cd\u5e94\u65f6\u95f4\u7684\u8981\u6c42\u4e5f\u66f4\u9ad8\u3002\u901a\u5e38 OLAP \u7cfb\u7edf\u90fd\u662f\u504f\u79bb\u7ebf\u7684\uff0c\u4e3a\u4e86\u5e94\u5bf9\u8fd9\u79cd\u5728\u7ebf\u67e5\u8be2\u7684\u573a\u666f Procella \u505a\u4e86\u5f88\u591a\u9488\u5bf9\u6027\u7684\u4f18\u5316\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n- **\u76d1\u63a7\u7cfb\u7edf**\uff1a\u8fd9\u4e2a\u573a\u666f\u9762\u5411\u7684\u662f\u5185\u90e8\u5de5\u7a0b\u56e2\u961f\uff0c\u867d\u7136\u6570\u636e\u91cf\u76f8\u5bf9\u8f83\u5c0f\uff0c\u4f46\u662f\u5bf9\u6570\u636e\u66f4\u65b0\u7684\u5b9e\u65f6\u6027\u8981\u6c42\u5f88\u9ad8\u3002\u5e38\u89c1\u7684\u76d1\u63a7\u7cfb\u7edf\u5b58\u50a8\u90fd\u662f\u7528 TSDB \u6765\u5b9e\u73b0\uff0cProcella \u56e0\u6b64\u4e5f\u9700\u8981\u652f\u6301\u4e00\u4e9b TSDB \u72ec\u6709\u7684\u7279\u6027\uff0c\u5982\u81ea\u52a8\u964d\u91c7\u6837\uff08downsampling\uff09\u548c\u8fc7\u671f\u65e7\u6570\u636e\u3002\\n- **Ad-hoc \u5206\u6790**\uff1a\u8fd9\u4e5f\u662f\u9762\u5411\u5185\u90e8\u56e2\u961f\u7684\u573a\u666f\uff0cad-hoc \u573a\u666f\u7684\u6311\u6218\u662f\u67e5\u8be2\u4e0d\u53ef\u9884\u6d4b\uff0c\u53ef\u5927\u53ef\u5c0f\uff0c\u53ef\u5feb\u53ef\u6162\uff0c\u7cfb\u7edf\u600e\u4e48\u81ea\u9002\u5e94\u8fd9\u4e9b\u5343\u5947\u767e\u602a\u7684\u67e5\u8be2\u662f\u4e00\u4e2a\u96be\u9898\u3002\\n\\n\u4ece\u4e0a\u9762\u7684\u573a\u666f\u4ecb\u7ecd\u4e5f\u80fd\u770b\u51fa Procella \u4e0d\u6253\u7b97\u652f\u6301\u6216\u8005\u76ee\u524d\u6682\u65f6\u4e0d\u652f\u6301\u7684\u573a\u666f\uff0c\u6bd4\u5982 OLTP\u3001ETL\u3001\u56fe\u8ba1\u7b97\u3002\\n\\nProcella \u7684\u4e3b\u8981\u7ec4\u4ef6\u6709\uff1aRoot Server\uff08RS\uff09\u3001Data Server\uff08DS\uff09\u3001Metadata Server\uff08MDS\uff09\u3001Ingestion Server\uff08IgS\uff09\u3001Registration Server\uff08RgS\uff09\u3001Compaction Server\uff08CS\uff09\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f9d\u8d56\u4e00\u4e9b\u5916\u90e8\u7ec4\u4ef6\uff1aMetadata Store\uff08Bigtable \u548c Spanner\uff09\u3001\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff08Colossus\uff0c[\u7b2c 8 \u671f](/issues/8)\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\uff09\u3001\u5bb9\u5668\u8c03\u5ea6\u548c\u7f16\u6392\uff08[Borg](https://research.google/pubs/pub43438)\uff09\u3002\\n\\nRS \u662f\u7528\u6237\u63d0\u4ea4 SQL \u7684\u5165\u53e3\uff0c\u8d1f\u8d23\u5206\u6790\u3001\u91cd\u5199\u3001\u8ba1\u5212\u548c\u4f18\u5316\u6267\u884c\u8ba1\u5212\uff08execution plan\uff09\u3002RS \u4f1a\u548c MDS\u3001Metadata Store \u548c DS \u76f4\u63a5\u901a\u4fe1\uff0c\u5176\u4e2d Metadata Store \u4fdd\u5b58\u7740\u8868\u7684 schema\u3001\u8868\u5230\u6587\u4ef6\u7684\u6620\u5c04\u3001\u7edf\u8ba1\u4fe1\u606f\u3001zone map \u7b49\u5143\u6570\u636e\uff0cMDS \u4fdd\u5b58\u7740 zone map\u3001bitmap\u3001bloom filter\u3001\u5206\u533a\u548c\u6392\u5e8f\u952e\u7b49\u7d22\u5f15\u4fe1\u606f\uff08\u8fd9\u4e9b\u7d22\u5f15\u4fe1\u606f\u4e00\u90e8\u5206\u5728\u9996\u6b21\u6ce8\u518c\u6587\u4ef6\u65f6\u751f\u6210\uff0c\u4e00\u90e8\u5206\u5728\u67e5\u8be2\u65f6\u751f\u6210\uff09\uff0cDS \u8d1f\u8d23\u8fd0\u884c RS \u6216\u8005\u5176\u5b83 DS \u53d1\u9001\u7684\u6267\u884c\u8ba1\u5212\u3002\u4e0d\u540c DS \u4e4b\u95f4\u901a\u4fe1\u4f7f\u7528 [Stubby](https://grpc.io/blog/principles) \u8fd9\u4e2a RPC \u6846\u67b6\uff08\u4e5f\u5c31\u662f\u540e\u6765\u5f00\u6e90\u7684 gRPC\uff09\uff0c\u540c\u65f6\u901a\u8fc7 RDMA \u6765\u6267\u884c shuffle \u64cd\u4f5c\uff08\u590d\u7528\u4e86 [BigQuery \u7684 shuffle \u5e93](https://cloud.google.com/blog/products/bigquery/in-memory-query-execution-in-google-bigquery)\uff09\u3002\\n\\nRgS \u8d1f\u8d23\u6267\u884c DDL \u547d\u4ee4\uff08\u5982 `CREATE`\u3001`ALTER`\u3001 `DROP`\uff09\u6765\u7ba1\u7406\u8868\uff0c\u6267\u884c\u7ed3\u679c\u4f1a\u4fdd\u5b58\u5230 Metadata Store\u3002\u7528\u6237\u53ef\u4ee5\u5728 schema \u4e2d\u6307\u5b9a\u5982\u5217\u540d\u3001\u6570\u636e\u7c7b\u578b\u3001\u5982\u4f55\u5206\u533a\u548c\u6392\u5e8f\u3001\u6570\u636e\u63a5\u5165\uff08data ingestion\uff09\u65b9\u5f0f\u7b49\u4fe1\u606f\u3002Procella \u652f\u6301\u4e24\u79cd\u6570\u636e\u63a5\u5165\u65b9\u5f0f\uff1a\u6279\u91cf\u63a5\u5165\uff08batch ingestion\uff09\u548c\u5b9e\u65f6\u63a5\u5165\uff08realtime ingestion\uff09\uff0c\u4e5f\u5c31\u662f [Lambda \u67b6\u6784](https://en.wikipedia.org/wiki/Lambda_architecture)\uff0c\u8fd9\u4e00\u70b9\u548c [Druid](https://druid.apache.org)\u3001[Pinot](https://pinot.apache.org) \u7c7b\u4f3c\u3002\u300c\u6279\u91cf\u63a5\u5165\u300d\u65f6\u7531\u5916\u90e8\u6279\u5904\u7406\u4efb\u52a1\uff08\u5982 MapReduce\uff09\u5c06\u6570\u636e\u5bfc\u5165\u5e76\u6ce8\u518c\u5230 RgS\uff0cRgS \u4f1a\u4ece\u6587\u4ef6\u5934\uff08header\uff09\u4e2d\u63d0\u53d6\u76f8\u5173\u4fe1\u606f\u5e76\u5efa\u7acb\u7d22\u5f15\uff0c\u67d0\u4e9b\u6ca1\u6cd5\u76f4\u63a5\u901a\u8fc7\u6587\u4ef6\u5934\u521b\u5efa\u7684\u7d22\u5f15\uff08\u5982 bloom filter\uff09\u4f1a\u5728\u67e5\u8be2\u65f6\u901a\u8fc7 DS \u6765\u521b\u5efa\u3002\u300c\u5b9e\u65f6\u63a5\u5165\u300d\u65f6\u7528\u6237\u901a\u8fc7 RPC \u6216\u8005 PubSub \u7684\u65b9\u5f0f\u628a\u6570\u636e\u5bfc\u5165 IgS\uff0c\u5f53 IgS \u63a5\u6536\u5230\u6570\u636e\u4ee5\u540e\u53ef\u80fd\u4f1a\u6839\u636e\u8868\u7ed3\u6784\u8f6c\u6362\u6570\u636e\u683c\u5f0f\uff0c\u5e76\u5199\u5165 WAL \u5230 Colossus\uff08\u540e\u53f0\u4f1a\u5b9a\u671f\u538b\u7f29\uff09\u3002IgS \u540c\u65f6\u8fd8\u4f1a\u628a\u6570\u636e\u5199\u5165 DS\uff0cDS \u4f1a\u5728\u5185\u5b58\u4e2d\u4e34\u65f6\u7f13\u51b2\u8fd9\u4e9b\u6570\u636e\u4f9b\u7528\u6237\u67e5\u8be2\uff0c\u5e76\u5b9a\u671f checkpoint \u5230 Colossus \u4ee5\u4fbf\u5728\u6545\u969c\u65f6\u6062\u590d\u6570\u636e\u3002IgS \u53ef\u80fd\u4e5f\u4f1a\u5c06\u6570\u636e\u5199\u5165\u591a\u4e2a DS\uff0c\u67e5\u8be2\u6267\u884c\u65f6\u4f1a\u8bbf\u95ee\u6240\u6709\u526f\u672c\u5e76\u4f7f\u7528\u6700\u5b8c\u6574\u7684\u96c6\u5408\u3002\\n\\nCS \u4f1a\u5b9a\u671f\u538b\u7f29\uff08compact\uff09\u548c\u91cd\u65b0\u5206\u533a\uff08repartition\uff09IgS \u5199\u5165\u7684 WAL \u65e5\u5fd7\uff0c\u8f6c\u6362\u6210\u5bf9\u4e8e DS \u6765\u8bf4\u66f4\u9ad8\u6548\u7684\u66f4\u5927\u7684\u5206\u533a\u3002\u5728 CS \u538b\u7f29\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u7531\u7528\u6237\u5b9a\u4e49\u7684\u903b\u8f91\u4ee5\u51cf\u5c11\u6570\u636e\u5927\u5c0f\uff0c\u8fd9\u4e9b\u903b\u8f91\u5305\u62ec\u8fc7\u6ee4\u3001\u805a\u5408\u3001\u6dd8\u6c70\u65e7\u6570\u636e\u3001\u4ec5\u4fdd\u7559\u6700\u65b0\u6570\u636e\u7b49\uff0c\u901a\u8fc7 SQL \u6765\u8868\u793a\u3002\u5f53\u5904\u7406\u5b8c\u4ee5\u540e CS \u4f1a\u4e0e RgS \u901a\u4fe1\u66f4\u65b0\u5143\u6570\u636e\uff0c\u4ece\u5143\u6570\u636e\u4e2d\u5220\u9664\u65e7\u6587\u4ef6\u7136\u540e\u63d2\u5165\u65b0\u751f\u6210\u7684\u6587\u4ef6\u3002\\n\\n**\u4e3a\u4e86\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u5bf9\u4e8e\u6027\u80fd\u7684\u8981\u6c42\uff0cProcella \u5728\u591a\u4e2a\u65b9\u9762\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5305\u62ec\uff1a\u7f13\u5b58\u3001\u6570\u636e\u683c\u5f0f\u3001\u8bc4\u4f30\u5f15\u64ce\uff08evaluation engine\uff09\u3001\u5206\u533a\u4e0e\u7d22\u5f15\u3001\u5206\u5e03\u5f0f\u64cd\u4f5c\u3001\u67e5\u8be2\u4f18\u5316\u5668\uff08optimizer\uff09\u7b49\u3002**\u672c\u671f\u4e0d\u4f1a\u5bf9\u6240\u6709\u4f18\u5316\u8fdb\u884c\u4ecb\u7ecd\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u8bf7\u67e5\u770b\u539f\u6587\u3002\\n\\n\u5bf9\u4e8e\u5b58\u7b97\u5206\u79bb\u7684\u5f15\u64ce\uff0c\u7f13\u5b58\u662f\u81f3\u5173\u91cd\u8981\u7684\uff0cProcella \u4e5f\u4e0d\u4f8b\u5916\u3002Procella \u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\u7684\u7f13\u5b58\uff1a\\n\\n- **Colossus \u5143\u6570\u636e\u7f13\u5b58**\uff1aDS \u4f1a\u7f13\u5b58 Colossus \u7684\u6587\u4ef6\u53e5\u67c4\uff0c\u8fd9\u4e2a\u53e5\u67c4\u5305\u542b\u6570\u636e\u5757\u5230 Colossus \u670d\u52a1\u5668\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u53ef\u4ee5\u4f18\u5316\u6253\u5f00\u6587\u4ef6\u7684\u6027\u80fd\uff08\u51cf\u5c11 1 \u4e2a\u6216\u591a\u4e2a RPC \u8bf7\u6c42\uff09\u3002\\n- **\u6587\u4ef6\u5934\uff08header\uff09\u7f13\u5b58**\uff1aProcella \u7684\u6570\u636e\u683c\u5f0f\uff08\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\u662f\u7c7b\u4f3c Parquet \u8fd9\u6837\u7684\u5217\u5b58\u683c\u5f0f\uff0c\u56e0\u6b64\u6587\u4ef6\u5934\u6216\u8005\u5c3e\u4f1a\u5305\u542b\u5f88\u591a\u91cd\u8981\u7684\u5143\u4fe1\u606f\uff0cDS \u4f1a\u5728\u4e00\u4e2a\u5355\u72ec\u7684 LRU \u7f13\u5b58\u4e2d\u4fdd\u5b58\u8fd9\u4e9b\u4fe1\u606f\uff0c\u51cf\u5c11\u4e0e Colossus \u7684\u4ea4\u4e92\u3002\\n- **\u6570\u636e\u7f13\u5b58**\uff1aProcella \u7684\u6570\u636e\u683c\u5f0f\u5728\u5185\u5b58\u548c\u78c1\u76d8\u4e0a\u662f\u540c\u6837\u7684\u7ed3\u6784\uff08\u53ef\u80fd\u662f\u80fd\u76f4\u63a5\u901a\u8fc7 mmap \u6620\u5c04\u5230\u5185\u5b58\uff09\uff0c\u56e0\u6b64\u6570\u636e\u7f13\u5b58\u7684\u7ba1\u7406\u5f88\u8f7b\u91cf\u3002\u540c\u65f6 DS \u8fd8\u4f1a\u7f13\u5b58\u4e00\u4e9b\u884d\u751f\u4fe1\u606f\uff0c\u5982\u67d0\u4e9b\u590d\u6742\u64cd\u4f5c\u7684\u8f93\u51fa\u3001bloom filter\u3002\u56e0\u4e3a Colossus \u7684\u6587\u4ef6\u4e00\u65e6\u5173\u95ed\u5c31\u662f\u4e0d\u53ef\u53d8\u7684\uff08immutable\uff09\uff0c\u6240\u4ee5\u4e0d\u5b58\u5728\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002\\n- **\u5143\u6570\u636e\u7f13\u5b58**\uff1aProcella \u7684\u5143\u6570\u636e\u4f9d\u8d56\u5916\u90e8\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\uff08Bigtable \u548c Spanner\uff09\uff0c\u867d\u7136\u5143\u6570\u636e\u5f88\u5bb9\u6613\u8fdb\u884c\u6a2a\u5411\u6269\u5c55\uff0c\u4f46\u5916\u90e8\u5b58\u50a8\u4e5f\u53ef\u80fd\u6210\u4e3a\u7cfb\u7edf\u74f6\u9888\uff0c\u56e0\u6b64 MDS \u901a\u8fc7\u4e00\u4e2a LRU \u7f13\u5b58\u4fdd\u5b58\u8fd9\u4e9b\u4fe1\u606f\u3002\\n- **\u4eb2\u548c\u6027\uff08affinity\uff09\u8c03\u5ea6**\uff1a\u5f53\u6267\u884c\u67e5\u8be2\u65f6\uff0c\u4f1a\u628a\u64cd\u4f5c\u5c3d\u91cf\u8c03\u5ea6\u5230\u5df2\u7ecf\u7f13\u5b58\u4e86\u8981\u5904\u7406\u7684\u6570\u636e\u6216\u8005\u5143\u6570\u636e\u7684\u8282\u70b9\uff0c\u63d0\u9ad8\u7f13\u5b58\u7684\u547d\u4e2d\u7387\u3002\u8fd9\u4e2a\u8c03\u5ea6\u7b56\u7565\u4e0d\u662f\u5f3a\u5236\u7684\uff0c\u6709\u53ef\u80fd\u4f1a\u8c03\u5ea6\u5230\u5176\u5b83\u8282\u70b9\u3002\\n\\n\u7efc\u5408\u4ee5\u4e0a\u6240\u6709\u7c7b\u578b\u7684\u7f13\u5b58\uff0cProcella \u5927\u4f53\u4e0a\u5df2\u7ecf\u53d8\u6210\u4e86\u4e00\u4e2a\u5168\u5185\u5b58\u6570\u636e\u5e93\u3002\u5728\u5176\u4e2d\u4e00\u4e2a\u5206\u6790\u62a5\u544a\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u867d\u7136\u5185\u5b58\u53ea\u80fd\u5b58\u653e 2% \u7684\u6570\u636e\uff0c\u4f46\u662f\u5b9e\u9645\u8868\u73b0\u662f\u6587\u4ef6\u53e5\u67c4\u7684\u7f13\u5b58\u547d\u4e2d\u7387\u8fbe\u5230\u4e86 99%+\uff0c\u6570\u636e\u7f13\u5b58\u7684\u547d\u4e2d\u7387\u8fbe\u5230\u4e86 90%\uff0c\u57fa\u672c\u4e0d\u4f9d\u8d56\u5916\u90e8\u7cfb\u7edf\u3002\\n\\n\u7b2c\u4e00\u7248 Procella \u7684\u6570\u636e\u683c\u5f0f\u7528\u7684\u662f\u548c Dremel \u4e00\u6837\u7684 [Capacitor](https://cloud.google.com/blog/products/bigquery/inside-capacitor-bigquerys-next-generation-columnar-storage-format)\uff0c\u4f46\u7531\u4e8e Capacitor \u7684\u8bbe\u8ba1\u4e3b\u8981\u9762\u5411\u5927\u89c4\u6a21\u626b\u63cf\u573a\u666f\uff0c\u6ca1\u6cd5\u652f\u6301\u9ad8\u6548\u67e5\u627e\uff08lookup\uff09\uff0c\u56e0\u6b64 Procella \u8bbe\u8ba1\u4e86\u4e00\u79cd\u65b0\u7684\u6570\u636e\u683c\u5f0f\u300cArtus\u300d\u3002Artus \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u521b\u65b0\u70b9\uff1a\\n\\n- **\u5b9a\u5236\u7684\u7f16\u7801\u65b9\u5f0f**\uff1a\u533a\u522b\u4e8e\u4f20\u7edf\u5217\u5b58\u683c\u5f0f\u4f7f\u7528\u7684\u901a\u7528\u538b\u7f29\u65b9\u5f0f\uff08\u5982 LZW\uff09\uff0cArtus \u7684\u7f16\u7801\u65b9\u5f0f\u53ef\u4ee5\u5728\u4e0d\u89e3\u538b\u6570\u636e\u5757\u7684\u524d\u63d0\u4e0b\u76f4\u63a5\u67e5\u627e\u5355\u884c\uff0c\u8fdb\u800c\u66f4\u52a0\u9002\u5408\u5c0f\u89c4\u6a21\u7684\u70b9\u67e5\u548c\u8303\u56f4\u626b\u63cf\u573a\u666f\u3002\\n- **\u591a\u8f6e\u81ea\u9002\u5e94\u7f16\u7801**\uff1a\u7b2c\u4e00\u8f6e\u5148\u626b\u63cf\u6570\u636e\u6536\u96c6\u8f7b\u91cf\u7ea7\u7684\u7edf\u8ba1\u4fe1\u606f\uff08\u5982\u53bb\u91cd\u4ee5\u540e\u7684\u6570\u91cf\u3001\u6700\u5c0f\u548c\u6700\u5927\u503c\uff09\uff0c\u7b2c\u4e8c\u8f6e\u4f7f\u7528\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u9009\u62e9\u6700\u4f18\u7684\u7f16\u7801\u65b9\u5f0f\u3002\u8fd9\u91cc\u300c\u6700\u4f18\u300d\u7684\u5224\u65ad\u903b\u8f91\u662f\u57fa\u4e8e\u5404\u79cd\u7f16\u7801\u65b9\u5f0f\u63d0\u4f9b\u7684\u9884\u4f30\u65b9\u6cd5\uff08estimation method\uff09\uff0c\u8fd9\u4e2a\u9884\u4f30\u65b9\u6cd5\u80fd\u7ed9\u51fa\u5904\u7406\u5bf9\u5e94\u6570\u636e\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\uff0c\u7136\u540e\u6839\u636e\u7528\u6237\u8bbe\u5b9a\u7684\u76ee\u6807\u51fd\u6570\uff08objective function\uff09\u6765\u81ea\u52a8\u9009\u62e9\u3002\\n- **\u9009\u62e9\u652f\u6301\u4e8c\u5206\u67e5\u627e\u7684\u7f16\u7801\u65b9\u5f0f**\uff1a\u5bf9\u4e8e\u6709\u5e8f\u7684\u5217\uff0c\u67e5\u627e\u6240\u9700\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(logN)\u3002\u540c\u65f6\u5728\u5217\u6570\u636e\u4e2d\u67e5\u627e\u67d0\u4e00\u884c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u505a\u5230 O(1)\uff0c\u56e0\u6b64\u67e5\u627e K \u5217\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(logN + K)\u3002O(1) \u662f\u6700\u4f18\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u5bf9\u4e8e\u5982 RLE\uff08Run-Length Encoding\uff09\u8fd9\u6837\u7684\u7f16\u7801\u9700\u8981\u6bcf B \u884c\u989d\u5916\u7ef4\u62a4\u4e00\u4e9b\u300c\u8df3\u5757\u300d\uff08skip block\uff09\u4fe1\u606f\uff0c\u5b9e\u9645\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5176\u5b9e\u662f O(B)\uff0c\u4f46 B \u7684\u53d6\u503c\u901a\u5e38\u5f88\u5c0f\uff08\u5982 32\u3001128\uff09\u3002\\n- **\u7528\u4e00\u79cd\u521b\u65b0\u6027\u7684\u65b9\u5f0f\u8868\u793a\u5d4c\u5957\u548c\u91cd\u590d\u6570\u636e\u7c7b\u578b**\uff1a\u5bf9\u4e8e\u67e5\u627e\u5d4c\u5957\uff08nested\uff09\u548c\u91cd\u590d\uff08repeated\uff09\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e\u53ef\u4ee5\u505a\u5230 O(1) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\\n- **\u628a\u5b57\u5178\u7d22\u5f15\u3001RLE \u4ee5\u53ca\u5176\u5b83\u7f16\u7801\u4fe1\u606f\u76f4\u63a5\u66b4\u9732\u7ed9\u8bc4\u4f30\u5f15\u64ce**\uff1a\u53ef\u4ee5\u628a\u8fc7\u6ee4\u903b\u8f91\u4e0b\u63a8\u5230\u6570\u636e\u683c\u5f0f\uff0c\u591a\u6570\u573a\u666f\u4e0b\u90fd\u80fd\u6709\u4e0d\u9519\u7684\u6027\u80fd\u63d0\u5347\u3002\\n- **\u5728\u6587\u4ef6\u5934\u548c\u5217\u5934\u8bb0\u5f55\u4e30\u5bcc\u7684\u5143\u6570\u636e**\uff1a\u8fd9\u4e9b\u5143\u6570\u636e\u5305\u62ec\u6392\u5e8f\u4fe1\u606f\u3001\u6700\u5c0f\u548c\u6700\u5927\u503c\u3001\u7f16\u7801\u4fe1\u606f\u3001bloom filter \u7b49\uff0c\u53ef\u4ee5\u5728\u4e0d\u8bfb\u53d6\u5b9e\u9645\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u526a\u679d\uff08pruning\uff09\u64cd\u4f5c\u3002\\n- **\u652f\u6301\u5b58\u50a8\u5012\u6392\u7d22\u5f15**\uff1aProcella \u4e3b\u8981\u5728 A/B \u5b9e\u9a8c\u5206\u6790\u573a\u666f\u7528\u5230\u5012\u6392\u7d22\u5f15\uff0c\u8fd9\u4e9b\u5012\u6392\u7d22\u5f15\u5b58\u50a8\u4e3a [Roaring bitmaps](https://www.roaringbitmap.org) \u683c\u5f0f\u3002Roaring bitmaps \u5df2\u7ecf\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u5927\u6570\u636e\u5f15\u64ce\uff0c\u5305\u62ec Spark\u3001Druid\u3001Kylin\u3001Doris\u3001ClickHouse \u7b49\u3002\\n\\n\u5728 YouTube Analytics \u6570\u636e\u96c6\u7684\u5b9e\u9645\u6d4b\u8bd5\u4e2d\uff0cArtus \u76f8\u6bd4 Capacitor \u6700\u591a\u80fd\u6709 140 \u500d\u7684\u6027\u80fd\u63d0\u5347\uff0c\u5e73\u5747\u4e5f\u6709 50 \u500d\u7684\u6027\u80fd\u5dee\u8ddd\u3002\\n\\n\u9ad8\u6027\u80fd\u7684\u8bc4\u4f30\u5f15\u64ce\uff08evaluation engine\uff09\u5bf9\u4e8e\u4f4e\u5ef6\u65f6\u8bf7\u6c42\u6765\u8bf4\u662f\u81f3\u5173\u91cd\u8981\u7684\uff0c\u5f88\u591a\u73b0\u4ee3\u5206\u6790\u7cfb\u7edf\u4f1a\u5728\u67e5\u8be2\u65f6\u901a\u8fc7 LLVM \u5c06\u6267\u884c\u8ba1\u5212\u7f16\u8bd1\u4e3a\u539f\u751f\u4ee3\u7801\uff0c\u4ee5\u6b64\u6765\u52a0\u901f\u67e5\u8be2\u3002\u4f46\u662f Procella \u56e0\u4e3a\u8fd8\u8981\u5904\u7406\u9ad8 QPS \u7684\u5728\u7ebf\u670d\u52a1\u573a\u666f\uff0c\u7f16\u8bd1\u7684\u8017\u65f6\u4f1a\u6210\u4e3a\u8fd9\u4e2a\u573a\u666f\u7684\u6027\u80fd\u74f6\u9888\u3002\u56e0\u6b64 Procella \u7814\u53d1\u4e86\u81ea\u5df1\u7684\u8bc4\u4f30\u5f15\u64ce\u300cSuperluminal\uff08\u8d85\u5149\u901f\uff09\u300d\uff0c\u5b83\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u7279\u70b9\uff1a\\n\\n- \u5e7f\u6cdb\u4f7f\u7528 C++ \u7684\u6a21\u677f\u5143\u7f16\u7a0b\uff08template metaprogramming\uff09\u7279\u6027\u5728\u7f16\u8bd1\u65f6\u751f\u6210\u4ee3\u7801\\n- \u4ee5\u5757\uff08block\uff09\u4e3a\u5355\u4f4d\u5904\u7406\u6570\u636e\uff0c\u66f4\u597d\u5730\u5229\u7528\u5411\u91cf\u5316\uff08vectorized\uff09\u8ba1\u7b97\u4ee5\u53ca\u7f13\u5b58\u611f\u77e5\uff08cache-aware\uff09\u7b97\u6cd5\u3002\u6bcf\u4e2a\u5757\u7684\u5927\u5c0f\u4f1a\u6839\u636e L1 \u7f13\u5b58\u7684\u5927\u5c0f\u8fdb\u884c\u9884\u4f30\u3002\\n- \u76f4\u63a5\u539f\u751f\u64cd\u4f5c\u5e95\u5c42\u6570\u636e\u7f16\u7801\uff0c\u5e76\u5728\u51fd\u6570\u5e94\u7528\u671f\u95f4\u5c3d\u53ef\u80fd\u4fdd\u7559\u5b83\u3002\u7f16\u7801\u4fe1\u606f\u6216\u8005\u662f\u4ece\u6587\u4ef6\u683c\u5f0f\u4e2d\u83b7\u53d6\uff0c\u6216\u8005\u662f\u5728\u6267\u884c\u65f6\u751f\u6210\u3002\\n- \u4ee5\u5217\u5f0f\u5b58\u50a8\u7684\u65b9\u5f0f\u5904\u7406\u7ed3\u6784\u5316\u6570\u636e\uff0c\u4e0d\u4f1a\u7269\u5316\uff08materialized\uff09\u4e2d\u95f4\u7ed3\u679c\u3002\\n- \u52a8\u6001\u5408\u5e76\u8fc7\u6ee4\u5668\u4ee5\u53ca\u4e0b\u63a8\u6267\u884c\u8ba1\u5212\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u4ec5\u4ec5\u626b\u63cf\u786e\u5207\u9700\u8981\u7684\u6570\u636e\u3002\\n\\n\u524d\u9762\u63d0\u5230 Procella \u4e00\u4e2a\u91cd\u8981\u4f7f\u7528\u573a\u666f\u5c31\u662f\u300c\u5b9e\u65f6\u7edf\u8ba1\u6570\u636e\u300d\uff0c\u901a\u5e38\u610f\u4e49\u4e0a\u7684 OLAP \u7cfb\u7edf\u90fd\u4e0d\u592a\u80fd\u5e94\u5bf9\u8fd9\u7c7b\u5b9e\u65f6\u573a\u666f\u7684\u8981\u6c42\uff08\u4e0d\u7ba1\u662f\u5ef6\u65f6\u8fd8\u662f QPS\uff09\uff0c\u6240\u4ee5\u4e00\u822c\u4f1a\u9009\u7528 OLTP \u6216\u8005\u7f13\u5b58\u7cfb\u7edf\uff08\u5982 Redis\uff09\u6765\u89e3\u51b3\u3002\u8fd9\u7c7b\u573a\u666f\u7684\u67e5\u8be2\u975e\u5e38\u7b80\u5355\uff1a`SELECT SUM(views) FROM Table WHERE video id = N`\uff0c\u6570\u636e\u89c4\u6a21\u4e5f\u4e0d\u5927\uff08\u6700\u591a 10 \u4ebf\u7ea7\u884c\uff09\uff0c\u4f46\u662f\u6bcf\u4e2a Procella \u5b9e\u4f8b\u9700\u8981\u5728\u627f\u8f7d\u767e\u4e07\u7ea7 QPS \u7684\u540c\u65f6\u5b9e\u73b0\u6beb\u79d2\u7ea7\u54cd\u5e94\uff0c\u6570\u636e\u4e5f\u9700\u8981\u80fd\u591f\u505a\u5230\u8fd1\u5b9e\u65f6\u66f4\u65b0\uff0c\u56e0\u6b64 Procella \u4e13\u95e8\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u300cstats serving\u300d\u6a21\u5f0f\uff0c\u8fd9\u4e2a\u6a21\u5f0f\u5305\u542b\u4ee5\u4e0b\u4e00\u4e9b\u4f18\u5316\uff1a\\n\\n- \u5f53\u65b0\u6570\u636e\u6ce8\u518c\u8fdb\u6765\u65f6\uff0cRgS \u4f1a\u901a\u77e5 DS\uff08\u4e3b\u4ece DS \u90fd\u5305\u62ec\uff09\u65b0\u6570\u636e\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff0c\u7136\u540e DS \u5c31\u4f1a\u7acb\u5373\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\u8fd9\u4e2a\u4f18\u5316\u662f\u4e3a\u4e86\u4fdd\u8bc1\u6267\u884c\u67e5\u8be2\u65f6\u4e0d\u4f1a\u8bbf\u95ee\u8fdc\u7aef\u5b58\u50a8\uff0c\u867d\u7136\u4f1a\u8017\u8d39\u4e00\u4e9b\u5185\u5b58\u4f46\u662f\u6309\u7167\u4e1a\u52a1\u7684\u6570\u636e\u91cf\u8fd9\u662f\u53ef\u63a5\u53d7\u7684\u3002\\n- MDS \u88ab\u4f5c\u4e3a\u4e00\u4e2a\u6a21\u5757\u7f16\u8bd1\u8fdb RS\uff0c\u5c3d\u53ef\u80fd\u51cf\u5c11 RPC \u901a\u4fe1\u3002\\n- \u6240\u6709\u5143\u6570\u636e\u90fd\u4f1a\u5f02\u6b65\u52a0\u8f7d\u8fdb\u5185\u5b58\uff0c\u548c\u6570\u636e\u4e00\u6837\u786e\u4fdd\u4e0d\u4f1a\u4ea7\u751f\u8fdc\u7aef\u8bbf\u95ee\u3002\\n- \u6fc0\u8fdb\u5730\u7f13\u5b58\u67e5\u8be2\u8ba1\u5212\uff0c\u964d\u4f4e\u5206\u6790\u548c\u8ba1\u5212\u67e5\u8be2\u7684\u5f00\u9500\u3002\\n- RS \u4f1a\u5c06\u76f8\u540c key \u7684\u8bf7\u6c42\u6279\u91cf\u53d1\u9001\u7ed9 DS\uff0c\u51cf\u5c11 RPC \u901a\u4fe1\u3002\\n- RS \u548c DS \u4f1a\u76d1\u63a7\u6bcf\u4e2a\u4efb\u52a1\u7684\u9519\u8bef\u7387\u548c\u54cd\u5e94\u65f6\u95f4\uff0c\u5982\u679c\u53d1\u73b0\u5f02\u5e38\u9ad8\u7684\u4efb\u52a1\u4f1a\u81ea\u52a8\u8f6c\u79fb\u5230\u5176\u5b83\u673a\u5668\u3002\u505a\u8fd9\u4e2a\u4f18\u5316\u4e00\u90e8\u5206\u4e5f\u662f\u56e0\u4e3a Borg \u7684\u8d44\u6e90\u9694\u79bb\u505a\u5f97\u4e0d\u591f\u597d\u3002\\n- \u5173\u95ed\u590d\u6742\u7684\u4f18\u5316\u548c\u64cd\u4f5c\uff08\u5982\u81ea\u9002\u5e94 join \u548c shuffle\uff09\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5f00\u9500\u4ee5\u53ca\u751f\u4ea7\u73af\u5883\u7684\u98ce\u9669\u3002\\n\\n\u6700\u540e\u662f\u4e00\u4e9b\u751f\u4ea7\u73af\u5883\u7684\u5b9e\u9645\u6570\u636e\u3002\u5728 YouTube Analytics\uff08YTA\uff09\u4e1a\u52a1\u4e2d\uff0c\u4e00\u5171\u6709 5 \u7ec4 Procella \u96c6\u7fa4\uff0c\u5176\u4e2d\u81f3\u5c11\u6709 3 \u4e2a\u5728\u670d\u52a1\u7ebf\u4e0a\u8bf7\u6c42\uff0c\u6bcf\u7ec4\u96c6\u7fa4\u6709\u5927\u7ea6 6000 \u4e2a\u6838\u4ee5\u53ca 20TB \u7684\u5185\u5b58\u3002YTA \u4e1a\u52a1\u6bcf\u5929\u6709\u8d85\u8fc7\u6570\u5341\u4ebf\u7684\u8bf7\u6c42\uff0c\u6d89\u53ca\u6570\u5341 PB \u7684\u6570\u636e\u3002YTA E2E \u7684\u54cd\u5e94\u65f6\u95f4 P50\u3001P99\u3001P99.9 \u5206\u522b\u662f 25\u3001412\u30012859 \u6beb\u79d2\u3002\u300c\u5b9e\u65f6\u7edf\u8ba1\u6570\u636e\u300d\u4e1a\u52a1\u6bcf\u5929\u6709\u4e0a\u5343\u4ebf\u7684\u8bf7\u6c42\uff0c\u54cd\u5e94\u65f6\u95f4 P50\u3001P99\u3001P99.99 \u5206\u522b\u662f 1.6\u30013.3\u300121.7 \u6beb\u79d2\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f Procella \u7684\u5168\u90e8\u4ecb\u7ecd\uff0c\u719f\u6089 Google \u7684\u540c\u5b66\u53ef\u80fd\u5173\u5fc3\u4e3a\u4ec0\u4e48 YouTube \u56e2\u961f\u4e0d\u76f4\u63a5\u7528 Google \u73b0\u6709\u7684\u4e00\u4e9b\u57fa\u7840\u8bbe\u65bd\u5462\u3002\u8bba\u6587\u4e2d\u4e5f\u5bf9\u76f8\u5173\u7cfb\u7edf\u505a\u4e86\u7b80\u5355\u4ecb\u7ecd\u548c\u6bd4\u8f83\uff0c\u5176\u4e2d\uff1a\\n\\n- [Dremel](https://research.google/pubs/pub36632)\uff08VLDB 2010\uff09\u662f\u4e00\u4e2a\u4e3a ad-hoc \u573a\u666f\u4f18\u5316\u7684\u5217\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\uff0c\u652f\u6301\u591a\u79cd\u540e\u7aef\uff08\u5982 ColumnIO\u3001Capacitor\u3001Bigtable\uff09\uff0c\u540c\u65f6 Dremel \u4e5f\u662f Google Cloud BigQuery \u7684\u5e95\u5c42\u5f15\u64ce\u3002Procella \u4e0e Dremel \u6709\u8bf8\u591a\u76f8\u4f3c\u4e4b\u5904\uff0c\u5982 RPC \u534f\u8bae\u3001SQL \u5206\u6790\u5668\u3001\u5e95\u5c42\u5b58\u50a8\uff08Colossus\uff09\u3001\u5bb9\u5668\u7f16\u6392\uff08Borg\uff09\u3002\u4f46\u4e5f\u6709\u5f88\u591a\u4e0d\u4e00\u6837\u7684\u5730\u65b9\uff0c\u5982\u5927\u91cf\u4f7f\u7528\u7f13\u5b58\uff08Dremel \u57fa\u672c\u662f\u65e0\u72b6\u6001\u7684\uff09\u3001\u4e3a\u4e0d\u540c\u4e1a\u52a1\u573a\u666f\u90e8\u7f72\u4e0d\u540c\u7684\u96c6\u7fa4\uff08Dremel \u662f\u4e00\u4e2a\u591a\u79df\u7cfb\u7edf\uff09\u3001\u53ef\u7d22\u5f15\u7684\u6570\u636e\u683c\u5f0f\uff08Capacitor \u4e0d\u53ef\u7d22\u5f15\uff09\u3002Dremel \u5f71\u54cd\u4e86\u540e\u7eed\u5f88\u591a\u5927\u6570\u636e\u5f00\u6e90\u9879\u76ee\uff0c\u5982 Parquet\uff08Parquet \u6700\u521d\u53eb\u505a [RedElm](https://github.com/julienledem/redelm)\uff0c\u662f\u7531 Dremel \u7684\u5b57\u6bcd\u91cd\u65b0\u6392\u5217\u7ec4\u6210\uff09\u3002\\n- [PowerDrill](https://research.google/pubs/pub40465)\uff08VLDB 2012\uff09\u662f\u4e00\u4e2a\u5168\u5185\u5b58\u5217\u5f0f\u5206\u5e03\u5f0f SQL \u67e5\u8be2\u5f15\u64ce\u3002PowerDrill \u9002\u5408\u5c0f QPS \u4ee5\u53ca\u7b80\u5355\u67e5\u8be2\u7684\u573a\u666f\uff0c\u4e3b\u8981\u5e94\u7528\u5728\u65e5\u5fd7\u6570\u636e\u5206\u6790\u4ee5\u53ca\u5185\u90e8 dashboard\u3002\\n- [F1](https://research.google/pubs/pub41344)\uff08VLDB 2013\uff09\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u67e5\u8be2\u5f15\u64ce\uff0c\u652f\u6301\u591a\u79cd\u540e\u7aef\uff08\u5982 ColumnIO\u3001Capacitor\u3001Bigtable\u3001Spanner\u3001Mesa\uff09\u3002F1 \u548c Procella \u6700\u5927\u7684\u4e0d\u540c\u662f\uff0c\u56e0\u4e3a F1 \u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u67e5\u8be2\u5f15\u64ce\uff0c\u7528\u6237\u9700\u8981\u6839\u636e\u573a\u666f\u9009\u7528\u5408\u9002\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u5982 OLTP \u573a\u666f\u9009 Spanner\u3001ad-hoc \u5206\u6790\u573a\u666f\u9009 Capacitor \u7b49\u3002\u4f46\u662f Procella \u7528\u4e00\u5957\u7cfb\u7edf\u540c\u65f6\u6ee1\u8db3\u4e86\u591a\u79cd\u573a\u666f\u7684\u9700\u6c42\uff0c\u8ba1\u7b97\u548c\u6570\u636e\u683c\u5f0f\u4e5f\u662f\u5f3a\u7ed1\u5b9a\u7684\u3002\\n- [Mesa](https://research.google/pubs/pub42851)\uff08VLDB 2014\uff09\u662f\u4e00\u4e2a\u96c6\u5b58\u50a8\u548c\u67e5\u8be2\u4e00\u4f53\u7684\u6570\u636e\u7cfb\u7edf\u3002Mesa \u6700\u521d\u662f\u4e3a\u4e86\u6ee1\u8db3 Google \u5e7f\u544a\u4e1a\u52a1\u7684\u9700\u6c42\u800c\u8bbe\u8ba1\uff0c\u56e0\u6b64\u5728\u8bbe\u8ba1\u4e0a\u6709\u5f88\u591a\u72ec\u7279\u7684\u5730\u65b9\uff0c\u5982\u9884\u805a\u5408\u6570\u636e\u3001\u57fa\u4e8e delta \u7684\u6570\u636e\u63a5\u5165\uff08\u66f4\u65b0\u65f6\u6548\u5728\u5206\u949f\u7ea7\uff09\u3002Mesa \u5e76\u4e0d\u652f\u6301 SQL \u67e5\u8be2\uff0c\u800c\u662f\u901a\u8fc7 F1 \u6765\u5b9e\u73b0\u3002\u767e\u5ea6\u5f00\u6e90\u7684 [Doris](http://doris.incubator.apache.org) \u5373\u662f\u57fa\u4e8e Mesa \u6765\u8bbe\u8ba1\uff08\u4e00\u4e2a\u9898\u5916\u8bdd\uff0cDoris \u7684 SQL \u67e5\u8be2\u662f\u57fa\u4e8e Impala \u5b9e\u73b0\uff09\u3002\\n\\n## Presto at Facebook: State of the Union\\n\\n[[\u94fe\u63a5]](https://www.youtube.com/watch?v=JuWiWmUtn3M)\\n\\n\u4eca\u5e74 3 \u6708 24 \u65e5 PrestoDB \u4e3e\u529e\u4e86 PrestoCon Day\uff08[\u7b2c 6 \u671f](/issues/6)\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\u300cPresto: SQL on Everything\u300d\u8fd9\u7bc7\u8bba\u6587\uff09\uff0c\u8fd9\u4e2a\u89c6\u9891\u6765\u81ea\u524d\u9762 Procella \u8bba\u6587\u7684\u7b2c\u4e00\u4f5c\u8005 Biswapesh Chattopadhyay\uff0c\u4ece\u4ed6\u7684 [LinkedIn](https://www.linkedin.com/in/biswapesh) \u4e0a\u770b\u4ed6\u4e8e 2019 \u5e74\u4ece Google \u79bb\u804c\u5e76\u52a0\u5165\u4e86 Facebook\uff0c\u9886\u5bfc\u6574\u4e2a\u5927\u6570\u636e\u57fa\u7840\u8bbe\u65bd\u56e2\u961f\u3002Biswapesh \u9996\u5148\u603b\u7ed3\u4e86 PrestoDB \u76ee\u524d\u4e3a\u6b62\u7684\u4e00\u4e9b\u8fdb\u5c55\uff0c\u5982 Disaggregated coordinator\u3001CBO\u3001RaptorX\u3001Velox\uff08\u539f\u751f\u4ee3\u7801\u52a0\u901f\u5668\uff0c\u6709\u70b9\u7c7b\u4f3c Procella \u7684 Superluminal\uff09\u3001CoreSQL\u3002\u8fd9\u4e9b\u7279\u6027\u6709\u4e9b\u5df2\u7ecf\u5728 Facebook \u751f\u4ea7\u73af\u5883\u7a33\u5b9a\u8fd0\u884c\uff0c\u6709\u4e9b\u8fd8\u5728\u7070\u5ea6\u6d4b\u8bd5\uff0c\u6709\u4e9b\u8fd8\u5904\u4e8e\u65e9\u671f\u8bbe\u8ba1\u9636\u6bb5\u3002\u672a\u6765\u89c4\u5212\u4e2d\u5217\u4e3e\u4e86\u4e00\u4e9b PrestoDB \u7684\u76ee\u6807\uff0c\u5982\u652f\u6301\u66f4\u591a\u7c7b\u578b\u7684 SQL\uff08HQL \u7b49\uff09\u3001\u66f4\u591a\u8fd0\u884c\u6a21\u5f0f\uff08\u6d41\u5f0f\u3001\u6279\u5904\u7406\u3001\u4ea4\u4e92\u5f0f\u67e5\u8be2\u3001\u56fe\u8ba1\u7b97\uff09\u3001\u66f4\u591a\u5143\u6570\u636e\u5b58\u50a8\uff08Hive Metastore\u3001Iceberg\u3001Delta Lake\uff09\u3001\u66f4\u591a\u683c\u5f0f\uff08ORC\u3001Parquet\uff09\u3002\\n\\n## Origin and History of Apache Arrow\\n\\n[[\u94fe\u63a5]](https://www.dremio.com/origin-history-of-apache-arrow)\\n\\n2016 \u5e74 2 \u6708 Cloudera \u516c\u5f00[\u5ba3\u5e03](https://blog.cloudera.com/introducing-apache-arrow-a-fast-interoperable-in-memory-columnar-data-structure-standard)\u4e86 Apache Arrow \u9879\u76ee\uff08\u4ee5\u4e0b\u7b80\u79f0 Arrow\uff09\uff0c\u8ddd\u4eca\u8fd9\u4e2a\u9879\u76ee\u5df2\u7ecf\u53d1\u5c55\u4e86 5 \u5e74\u65f6\u95f4\u3002Arrow \u6700\u521d\u7531 [Pandas](https://pandas.pydata.org) \u548c [Ibis](https://ibis-project.org) \u9879\u76ee\u7684\u4f5c\u8005 Wes McKinney \u5728 2014 \u5e74\u53d1\u8d77\uff0c\u5f53\u65f6\u4ed6\u8fd8\u5728 Cloudera \u5de5\u4f5c\uff0c\u9879\u76ee\u540d\u4e5f\u8fd8\u4e0d\u53eb\u505a Arrow\u30022015 \u5e74 Wes \u548c Jacques Nadeau \u53ca [Apache Drill](https://drill.apache.org) \u56e2\u961f\u6709\u4e86\u4e00\u4e9b\u63a5\u89e6\uff0cJacques \u7b49\u4eba\u5bf9\u4e8e\u8fd9\u4e2a\u9879\u76ee\u8868\u793a\u4e86\u6d53\u539a\u7684\u5174\u8da3\u3002\u8fd9\u91cc\u7a0d\u5fae\u626f\u8fdc\u4e00\u4e9b\uff0cApache Drill \u662f\u7531 Tomer Shiran \u5728 MapR \u5de5\u4f5c\u65f6\u53d1\u8d77\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u53d7 Google Dremel \u542f\u53d1\u548c\u5f71\u54cd\uff0c2015 \u5e74\u90a3\u4f1a\u513f Tomer \u548c Jacques \u6b63\u5728\u51c6\u5907\u521b\u7acb [Dremio](https://www.dremio.com)\uff08Tomer \u662f CEO\uff0cJacques \u662f CTO\uff09\u3002\u540e\u6765\u7ecf\u8fc7\u65e9\u671f\u53c2\u4e0e\u8005[\u6295\u7968](https://docs.google.com/spreadsheets/d/1q6UqluW6SLuMKRwW2TBGBzHfYLlXYm37eKJlIxWQGQM)\uff0c\u6b63\u5f0f\u786e\u5b9a\u4e86\u4f7f\u7528 Arrow \u4f5c\u4e3a\u9879\u76ee\u540d\uff08\u56e0\u4e3a\u5411\u91cf\u7684\u6570\u5b66\u7b26\u53f7\u662f\u7bad\u5934\uff09\u3002\u8fd9\u91cc\u63d0\u5230\u5411\u91cf\uff0c\u662f\u56e0\u4e3a Arrow \u662f\u53d7\u73b0\u5728\u5f88\u706b\u7684\u5411\u91cf\u5316\uff08vectorization\uff09\u5f71\u54cd\u3002\u63d0\u5230\u5411\u91cf\u5316\u5f80\u5f80\u8fd8\u4f1a\u8bb2\u5230\u5217\u5f0f\u5b58\u50a8\uff0c\u6211\u4eec\u719f\u77e5\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\u5982 Parquet \u5df2\u7ecf\u5b9a\u4e49\u4e86\u6570\u636e\u5982\u4f55\u5728\u78c1\u76d8\u4e0a\u7ec4\u7ec7\uff0c\u4f46\u662f\u5f53\u628a\u8fd9\u4e9b\u6570\u636e\u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6\u51fa\u6765\u5904\u7406\u65f6\uff0c\u5b83\u4eec\u5728\u5185\u5b58\u4ee5\u53ca CPU \u4e2d\u5e94\u8be5\u4ee5\u4f55\u79cd\u683c\u5f0f\u5b58\u5728\u5462\uff1f\u662f\u7ee7\u7eed\u4ee5\u5217\u5f0f\u683c\u5f0f\u5904\u7406\u8fd8\u662f\u8f6c\u6210\u884c\u5f0f\u5462\uff1f\u76ee\u524d\u5927\u90e8\u5206\u8ba1\u7b97\u5f15\u64ce\u5176\u5b9e\u8fd8\u662f\u4ee5\u884c\u5f0f\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u662f\u5411\u91cf\u5316\u8bc1\u660e\u4e86\u4ee5\u5217\u5f0f\u8fdb\u884c\u5904\u7406\u5728 OLAP \u573a\u666f\u662f\u66f4\u52a0\u9ad8\u6548\u7684\u3002**\u56e0\u6b64 Arrow \u7684\u76ee\u6807\u662f\u5236\u5b9a\u4e00\u79cd\u8bed\u8a00\u65e0\u5173\u7684\u5185\u5b58\u4e2d\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\uff0c\u5e76\u4ee5\u5e93\u7684\u5f62\u5f0f\u96c6\u6210\u5230\u5404\u79cd\u8ba1\u7b97\u5f15\u64ce\u4e2d\uff0c\u907f\u514d\u91cd\u590d\u9020\u8f6e\u5b50\u3002**\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u4ece\u78c1\u76d8 \u2192 \u5185\u5b58 \u2192 CPU \u4e0d\u9700\u8981\u7ecf\u8fc7\u4efb\u4f55\u683c\u5f0f\u8f6c\u6362\u548c\u62f7\u8d1d\uff0c\u6700\u5927\u5316\u5904\u7406\u6548\u7387\u3002Arrow \u5b98\u65b9\u76ee\u524d\u5df2\u7ecf\u652f\u6301 12 \u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u5982\u679c\u60f3\u62d3\u5c55\u5230\u65b0\u8bed\u8a00\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5728 C++ \u5b9e\u73b0\u4e4b\u4e0a\u6269\u5c55\u3002\u73b0\u5728 Arrow \u5df2\u7ecf\u4e0d\u4ec5\u4ec5\u662f\u4e00\u79cd\u5b58\u50a8\u683c\u5f0f\uff0c\u8fd8\u5305\u62ec RPC \u6846\u67b6\uff08[Flight](https://arrow.apache.org/blog/2019/10/13/introducing-arrow-flight)\uff09\u3001\u9ad8\u6027\u80fd\u6267\u884c\u5185\u6838\uff08[Gandiva](https://www.dremio.com/announcing-gandiva-initiative-for-apache-arrow)\uff09\u3001\u67e5\u8be2\u5f15\u64ce\uff08[DataFusion](https://arrow.apache.org/blog/2019/02/04/datafusion-donation)\uff09\u7b49\u7ec4\u4ef6\uff0c\u9010\u6e10\u4e30\u5bcc Arrow \u7684\u751f\u6001\u3002\u6709\u4e86\u8fd9\u4e9b\u57fa\u7840\u7ec4\u4ef6\uff0c\u4f7f\u5f97\u5b9e\u73b0\u4e00\u4e2a\u65b0\u7684 OLAP \u7cfb\u7edf\u7684\u95e8\u69db\u5927\u5927\u964d\u4f4e\uff0c\u4e5f\u96be\u602a InfluxDB \u521b\u59cb\u4eba Paul Dix \u8981[\u5927\u8086\u9f13\u5439](https://www.influxdata.com/blog/apache-arrow-parquet-flight-and-their-ecosystem-are-a-game-changer-for-olap)\u3002Arrow \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u91ce\u5fc3\u7684\u9879\u76ee\uff0c\u503c\u5f97\u957f\u671f\u5173\u6ce8\u3002\\n\\n## Diving Deep on S3 Consistency\\n\\n[[\u94fe\u63a5]](https://www.allthingsdistributed.com/2021/04/s3-strong-consistency.html)\\n\\n\u53bb\u5e74 12 \u6708 1 \u65e5\uff0cAWS [\u5ba3\u5e03](https://aws.amazon.com/blogs/aws/amazon-s3-update-strong-read-after-write-consistency)\u5728 S3 \u53d1\u5e03 14 \u5e74\u540e\u7ec8\u4e8e\u652f\u6301\u5f3a\u4e00\u81f4\u6027\u3002\u4f5c\u4e3a\u5bf9\u8c61\u5b58\u50a8\u7684\u521b\u9020\u8005\uff0cS3 \u4e00\u76f4\u662f\u8fd9\u4e2a\u9886\u57df\u7684\u6807\u6746\uff0c\u57fa\u672c\u5c31\u662f\u5bf9\u8c61\u5b58\u50a8\u7684\u4ee3\u540d\u8bcd\uff08\u4e00\u4e2a\u4e0d\u592a\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0c\u56fd\u5185\u901a\u5e38\u7528 OSS \u6765\u6307\u4ee3\u5bf9\u8c61\u5b58\u50a8\uff09\u3002\u4f46\u5bf9\u8c61\u5b58\u50a8\u7684\u300c\u6700\u7ec8\u4e00\u81f4\u6027\u300d\u4e00\u76f4\u88ab\u4eba\u6240[\u8bdf\u75c5](https://databricks.com/session_na20/from-hdfs-to-s3-migrate-pinterest-apache-spark-clusters)\uff0c\u7279\u522b\u662f\u968f\u7740\u8d8a\u6765\u8d8a\u591a\u4e1a\u52a1\u573a\u666f\u4f9d\u8d56\u5bf9\u8c61\u5b58\u50a8\uff08\u6bd4\u5982\u5927\u6570\u636e\uff09\uff0c\u8fd9\u662f S3 \u8bde\u751f\u65f6\u5b8c\u5168\u9884\u6599\u4e0d\u5230\u7684\u3002\u800c AWS \u7684\u7ade\u4e89\u8005\u4eec\u867d\u7136\u662f\u540e\u6765\u8005\uff0c\u4f46\u5df2\u7ecf\u7eb7\u7eb7\u652f\u6301\u5f3a\u4e00\u81f4\u6027\uff0c\u6bd4\u5982 [Google Cloud Storage](https://cloud.google.com/blog/products/gcp/how-google-cloud-storage-offers-strongly-consistent-object-listing-thanks-to-spanner)\u3001[Azure Storage](https://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf)\u3002Amazon \u7684 CTO Werner Vogels \u8fd1\u671f\u53d1\u5e03\u7684\u8fd9\u7bc7\u535a\u5ba2\u62ab\u9732\u4e86\u66f4\u591a\u6709\u5173 S3 \u5982\u4f55\u5b9e\u73b0\u5f3a\u4e00\u81f4\u6027\u7684\u7ec6\u8282\uff0c\u4ee5 S3 \u76ee\u524d\u7684\u4f53\u91cf\u589e\u52a0\u65b0\u7279\u6027\u5fc5\u987b\u505a\u5230\u5c0f\u5fc3\u7ffc\u7ffc\uff0c\u4e0d\u80fd\u5bf9\u73b0\u6709\u7cfb\u7edf\u9020\u6210\u4efb\u4f55\u5f71\u54cd\u3002\u5177\u4f53\u7684\uff0cS3 \u5728\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u4e2d\u65b0\u589e\u4e86\u4e00\u4e2a\u53eb\u505a [Witness](http://www2.cs.uh.edu/~paris/MYPAPERS/Icdcs86.pdf) \u7684\u7ec4\u4ef6\u901a\u8fc7\u4e8b\u4ef6\u901a\u77e5\u7684\u673a\u5236\u6765\u786e\u4fdd\u7f13\u5b58\u7684\u4e00\u81f4\u6027\uff0c\u8fd9\u6837\u65e2\u5b9e\u73b0\u4e86\u5f3a\u4e00\u81f4\u6027\u7684\u76ee\u6807\uff0c\u4e5f\u786e\u4fdd\u4e86 S3 \u6574\u4f53\u7684\u7a33\u5b9a\u6027\u6ca1\u6709\u53d7\u5230\u5f71\u54cd\u3002\u6709\u8da3\u7684\u662f\u8fd9\u7bc7\u535a\u5ba2\u7684\u8bc4\u8bba\u4e2d\u6709\u4eba\u4e5f\u5bf9\u8fd9\u4e2a\u8bbe\u8ba1\u63d0\u51fa\u4e86\u4e00\u4e9b\u8d28\u7591\uff0c\u6000\u7591 S3 \u662f\u5426\u771f\u7684\u80fd\u505a\u5230\u5f3a\u4e00\u81f4\u6027\uff0c\u6bd5\u7adf\u8fd9\u6b21\u6539\u8fdb\u5e76\u6ca1\u6709\u6539\u53d8 S3 \u7cfb\u7edf\u7684\u6838\u5fc3\u8bbe\u8ba1\u3002\\n\\n## A State of Feast\\n\\n[[\u94fe\u63a5]](https://feast.dev/blog/a-state-of-feast)\\n\\nFeast \u9879\u76ee\u7531 Willem Pienaar \u5728 Gojek\uff08\u4e00\u5bb6\u9762\u5411\u4e1c\u5357\u4e9a\u5e02\u573a\u7684\u300c\u5565\u90fd\u505a\u300d\u516c\u53f8\uff09\u5de5\u4f5c\u65f6\u53d1\u8d77\uff0c\u5e76\u548c Google Cloud \u5408\u4f5c\uff0c\u5728 2019 \u5e74\u8054\u5408\u53d1\u8868\u4e86\u4e00\u7bc7[\u4ecb\u7ecd\u6587\u7ae0](https://cloud.google.com/blog/products/ai-machine-learning/introducing-feast-an-open-source-feature-store-for-machine-learning)\u3002Feast \u7684\u5b9a\u4f4d\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u662f\u505a\u5f00\u6e90\u7684\u7279\u5f81\u5b58\u50a8\u6846\u67b6\uff0c\u53eb\u5b58\u50a8\u7cfb\u7edf\u53ef\u80fd\u4e0d\u592a\u5408\u9002\uff0c\u6bd5\u7adf\u5b9e\u9645\u7684\u6570\u636e\u5b58\u50a8\u8fd8\u662f\u8981\u4f9d\u9760\u5916\u90e8\u7cfb\u7edf\uff0cFeast \u4e13\u6ce8\u5728\u5982\u4f55\u7edf\u4e00\u7ba1\u7406\u548c\u4f7f\u7528\u7279\u5f81\u3002\u8bf4\u5230\u7279\u5f81\u7ba1\u7406\uff0c\u6709\u8fc7\u76f8\u5173\u7ecf\u9a8c\u7684\u540c\u5b66\u4e00\u5b9a\u77e5\u9053\u300c\u8bad\u7ec3/\u670d\u52a1\u504f\u659c\u300d\uff08Training-Serving Skew\uff09\uff0c\u8fd9\u4e00\u70b9\u5728\u8457\u540d\u7684\u300cRules of Machine Learning\u300d\u4e2d\u4e5f\u6709[\u63d0\u5230](https://developers.google.com/machine-learning/guides/rules-of-ml#training-serving_skew)\u3002\u6570\u636e\u79d1\u5b66\u5bb6\u53ef\u80fd\u6709 [80% \u7684\u65f6\u95f4](https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says)\u90fd\u5728\u6e05\u6d17\u548c\u51c6\u5907\u6570\u636e\uff0c\u7279\u5f81\u5de5\u7a0b\uff08feature engineering\uff09\u5bf9\u4e8e\u6a21\u578b\u8d28\u91cf\u4e5f\u81f3\u5173\u91cd\u8981\u3002\u5927\u516c\u53f8\u53ef\u80fd\u90fd\u4f1a\u81ea\u5df1\u9020\u5404\u79cd\u8f6e\u5b50\u6765\u7ba1\u7406\u7279\u5f81\uff0c\u6bd4\u5982 Uber \u7684 [Michelangelo](https://eng.uber.com/michelangelo-machine-learning-platform)\uff0c\u73b0\u5728 Uber \u7684\u8fd9\u51e0\u4f4d\u4e5f\u51fa\u6765\u521b\u4e1a\uff0c\u6210\u7acb\u4e86\u4e00\u5bb6\u53eb\u505a [Tecton](https://www.tecton.ai) \u7684\u516c\u53f8\u3002Feast \u7684\u4f5c\u8005 Willem Pienaar \u4e5f[\u52a0\u5165](https://www.tecton.ai/blog/feast-announcement)\u4e86 Tecton\uff0c\u4e0d\u8fc7\u4ed6\u8fd8\u4f1a\u7ee7\u7eed\u8d1f\u8d23 Feast \u5f00\u6e90\u793e\u533a\u3002\u672a\u6765 Feast \u4f1a\u671d\u7740\u66f4\u6613\u7528\u3001\u66f4\u6a21\u5757\u5316\u3001\u66f4\u4e91\u5382\u5546\u4e2d\u7acb\u7684\u5b9a\u4f4d\u53bb\u53d1\u5c55\uff0c\u540c\u65f6\u8865\u8db3\u4e0e Tecton \u95ed\u6e90\u7248\u672c\u4e4b\u95f4\u7684\u4e00\u4e9b\u529f\u80fd\u5dee\u5f02\u3002\u5982\u679c\u4f60\u5bf9\u4ec0\u4e48\u662f\u7279\u5f81\u5b58\u50a8\u611f\u5174\u8da3\uff0c\u4e5f\u63a8\u8350\u9605\u8bfb[\u8fd9\u7bc7\u6587\u7ae0](https://www.tecton.ai/blog/what-is-a-feature-store)\u3002\\n\\n## Uptown Records \u5341\u5e74\uff0c\u4e0d\u53ea\u662f\u4e00\u5bb6\u5531\u7247\u5e97\\n\\n[[\u94fe\u63a5]](https://mp.weixin.qq.com/s/0A9WqPBGl462QOSn-e30Xw)\\n\\nUptown \u662f\u4e00\u5bb6\u4f4d\u4e8e\u4e0a\u6d77\u4ee5\u9ed1\u80f6\u4e3a\u4e3b\u7684\u72ec\u7acb\u5531\u7247\u5e97\uff0c\u5982\u679c\u4f60\u66fe\u7ecf\u5728\u4e0a\u6d77\u751f\u6d3b\u8fc7\u5e76\u4e14\u559c\u7231\u97f3\u4e50\u4e00\u5b9a\u542c\u8bf4\u8fc7\u5b83\u3002Uptown \u7684\u8bde\u751f\u5f97\u8ffd\u6eaf\u5230 2011 \u5e74\uff0c\u5728\u5e73\u6b66\u8def\u548c\u5e78\u798f\u8def\u4ea4\u53c9\u53e3\u7684\u4e00\u95f4\u5730\u4e0b\u5ba4\uff0c\u539f\u672c\u60f3\u8981\u505a\u6210\u4e00\u95f4\u9152\u5427\uff0c\u540e\u6765\u9634\u5dee\u9633\u9519\u5730\u53d8\u6210\u4e86\u4e00\u5bb6\u72ec\u7acb\u5531\u7247\u5e97\uff0c\u8001\u677f Sacco \u548c\u8001\u677f\u5a18 Sophia \u5c31\u8fd9\u6837\u4e00\u76f4\u7ecf\u8425\u5230\u4e86\u73b0\u5728\u3002\u5927\u6982 5\u30016 \u5e74\u524d\u6211\u521d\u5230\u4e0a\u6d77\u65f6\uff0c\u5c31\u548c\u53f6\u5b50\u4e00\u8d77\u6155\u540d\u524d\u5f80\u4e86\u8fd9\u95f4\u6ca1\u6709\u4efb\u4f55\u62db\u724c\u7684\u5730\u4e0b\u5ba4\uff0c\u8d70\u4e0b\u9634\u6697\u7684\u697c\u68af\uff0c\u7136\u540e\u7a7f\u8fc7\u957f\u957f\u7684\u72ed\u7a84\u7684\u660f\u6697\u8fc7\u9053\uff0c\u5c3d\u5934\u7684\u4e00\u95f4\u5c0f\u623f\u5b50\u5c31\u662f Uptown\u3002\u5e97\u91cc\u5f53\u65f6\u53ea\u6709\u4e00\u540d\u5458\u5de5\uff0c\u5c4b\u91cc\u653e\u7740\u97f3\u4e50\uff0c\u987e\u5ba2\u53ea\u6709\u6211\u4eec\u4e24\u4e2a\uff0c\u57fa\u672c\u628a\u5e97\u91cc\u9648\u5217\u7684\u5531\u7247\u90fd\u7ffb\u4e86\u4e00\u904d\uff0c\u5370\u8c61\u6bd4\u8f83\u6df1\u7684\u662f\u770b\u5230\u4e86\u51e0\u5f20 Carsick Cars \u7684\u5531\u7247\uff0c\u5927\u90e8\u5206\u8fd8\u662f\u56fd\u5916\u7684\u6211\u4e0d\u8ba4\u8bc6\u7684\u827a\u672f\u5bb6\u3002\u540e\u6765\u542c\u8bf4 Uptown \u5f00\u4e86\u5206\u5e97\uff0c\u5728\u6c38\u798f\u8def\uff0c\u4e5f\u7ec8\u4e8e\u4e0d\u662f\u5728\u5730\u4e0b\uff0c\u4f46\u4e00\u76f4\u6ca1\u6709\u9020\u8bbf\u30022019 \u5e74\u56e0\u4e3a\u8981\u7ed9\u4e00\u4e2a[\u597d\u670b\u53cb](/issues/5)\u9001\u793c\u7269\u7279\u5730\u53bb\u4e86\u4e00\u6b21\u6c38\u798f\u8def\u7684 Uptown\uff0c\u867d\u8bf4\u5728\u5730\u4e0a\u4f46\u62db\u724c\u4f9d\u7136\u4e0d\u660e\u663e\uff0c\u9ed1\u8272\u62db\u724c\u4e0a\u53ea\u6709 RnB\uff08Records & Beer\uff09\u8fd9\u51e0\u4e2a\u5b57\uff0c\u4e0d\u4ed4\u7ec6\u7559\u610f\u7684\u8bdd\u5f88\u5bb9\u6613\u9519\u8fc7\u3002\u8fd9\u6b21\u4e70\u4e86\u4e24\u5f20\u5531\u7247\uff0c\u4e00\u5f20\u662f New Order \u7684\u300aMovement\u300b\uff0c\u4e00\u5f20\u662f JAMC \u7684\u300aAutomatic\u300b\uff0c\u6210\u8272\u90fd\u8fd8\u4e0d\u9519\u3002\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea\u300cBIE \u522b\u7684\u300d\u516c\u4f17\u53f7\uff0c\u4ecb\u7ecd\u4e86\u5f88\u591a Uptown \u65e9\u671f\u4e0d\u4e3a\u4eba\u77e5\u7684\u6545\u4e8b\uff0c\u6bd4\u5982\u4e0a\u6d77\u80f6\u5708\u53e6\u4e00\u4e2a\u8457\u540d\u7684\u7ec4\u7ec7 Daily Vinyl \u7684\u8054\u5408\u521b\u59cb\u4eba\u66fe\u7ecf\u4e5f\u662f Uptown \u7684\u5458\u5de5\u3002\u73b0\u5728\u5e73\u6b66\u8def\u7684\u8fd9\u95f4\u5730\u4e0b\u5ba4\u79df\u7ea6\u5230\u671f\uff0c\u56e0\u4e3a\u65e0\u6cd5\u627f\u62c5\u6da8\u4ef7\u4ee5\u540e\u7684\u623f\u79df\uff0cUptown \u4e0d\u5f97\u4e0d\u53d1\u8d77\u4e86\u300cSave Uptown\u300d\u7684\u7b79\u6b3e\u6d3b\u52a8\uff0c\u8bd5\u56fe\u4fdd\u4f4f\u8fd9\u4e2a\u5bf9\u4e8e\u57ce\u5e02\u97f3\u4e50\u573a\u666f\u6709\u7740\u91cd\u5927\u610f\u4e49\u7684\u5730\u65b9\u3002\u4ece[\u5927\u4f17\u70b9\u8bc4](http://www.dianping.com/shop/H1OY8mlbOWjK5hJ7)\u7684\u4fe1\u606f\u770b\uff0c\u5e73\u6b66\u8def\u7684 Uptown \u6700\u7ec8\u8fd8\u662f\u6ca1\u80fd\u5ef6\u7eed\uff0c\u5c31\u50cf\u51e0\u5e74\u524d\u7684\u53e6\u4e00\u5bb6\u4e0a\u6d77\u97f3\u4e50\u5730\u6807 Shelter \u4e00\u6837\uff08\u7c7b\u4f3c\u7684\u6545\u4e8b\u8fd8\u6709\u5f88\u591a\uff09\u3002\u6bcf\u4e2a\u57ce\u5e02\u90fd\u6709\u5c5e\u4e8e\u8fd9\u4e2a\u57ce\u5e02\u7684\u300c\u89d2\u843d\u300d\uff0c\u6b63\u662f\u8fd9\u4e9b\u89d2\u843d\u7684\u5b58\u5728\u6170\u85c9\u7740\u5f62\u5f62\u8272\u8272\u7684\u4eba\u4eec\u3002"},{"id":"/10","metadata":{"permalink":"/issues/10","source":"@site/blog/10.md","title":"Issue #10","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aTectonic\u3001Redlock\u3001Flexible Paxos\u3001\u660e\u5929\u7684\u76d0","date":"2021-04-29T16:50:00.000Z","formattedDate":"April 29, 2021","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":28.035,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #10","date":"2021-04-29 16:50:00 +0800","tags":["issue"]},"prevItem":{"title":"Issue #11","permalink":"/issues/11"},"nextItem":{"title":"Issue #9","permalink":"/issues/9"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aTectonic\u3001Redlock\u3001Flexible Paxos\u3001\u660e\u5929\u7684\u76d0\\n\\n\x3c!--truncate--\x3e\\n\\n## Facebook\u2019s Tectonic Filesystem: Efficiency from Exascale\\n\\n[[\u94fe\u63a5]](https://www.usenix.org/conference/fast21/presentation/pan)\\n\\n\u8fd9\u7bc7\u8bba\u6587\u53d1\u8868\u5728 2021 \u5e74\u7684 FAST \u4f1a\u8bae\uff0c\u4ecb\u7ecd\u4e86 Facebook \u81ea\u7814\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf Tectonic\uff0c\u8fd9\u4e2a\u7cfb\u7edf\u65e9\u5728 2016 \u5e74\u5c31\u5df2\u7ecf[\u516c\u5f00\u5206\u4eab](https://atscaleconference.com/videos/facebooks-disaggregated-storage-and-compute-for-mapreduce)\u8fc7\uff0c\u5728\u5185\u90e8\u53c8\u88ab\u53eb\u505a Warm Storage\u3002Tectonic \u7684\u76ee\u6807\u662f\u7528\u4e00\u4e2a\u7cfb\u7edf\u540c\u65f6\u6ee1\u8db3\u5bf9\u8c61\u5b58\u50a8\uff08blob storage\uff09\u548c\u6570\u636e\u4ed3\u5e93\uff08data warehouse\uff09\u8fd9\u4e24\u79cd\u622a\u7136\u4e0d\u540c\u7684\u5b58\u50a8\u9700\u6c42\uff0c\u76ee\u524d\u5df2\u7ecf\u6709\u6570\u5341\u4e2a\u79df\u6237\uff08\u5173\u4e8e\u79df\u6237\u7684\u6982\u5ff5\u540e\u9762\u4f1a\u8bb2\uff09\u4ee5\u53ca EB \u7ea7\u7684\u6570\u636e\u91cf\u3002\\n\\n\u5728\u4ecb\u7ecd Tectonic \u4e4b\u524d\u9700\u8981\u5148\u4ecb\u7ecd Facebook \u5728\u7528\u7684\u53e6\u5916\u51e0\u4e2a\u5b58\u50a8\u7cfb\u7edf\uff1a[Haystack](https://www.usenix.org/conference/osdi10/finding-needle-haystack-facebooks-photo-storage)\u3001[f4](https://www.usenix.org/conference/osdi14/technical-sessions/presentation/muralidhar) \u4ee5\u53ca HDFS\u3002Haystack \u548c f4 \u90fd\u662f Facebook \u81ea\u7814\u7684\u5bf9\u8c61\u5b58\u50a8\uff0cHDFS \u5219\u662f\u5927\u6570\u636e\u6570\u4ed3\u6700\u4e3b\u8981\u7684\u5b58\u50a8\u7cfb\u7edf\u3002\\n\\nHaystack \u7684\u8bba\u6587\u53d1\u8868\u5728 2010 \u5e74\u7684 OSDI \u4f1a\u8bae\uff0c\u5f53\u65f6\u7684 Facebook \u5df2\u7ecf\u5b58\u50a8\u4e86\u8d85\u8fc7 2600 \u4ebf\u5f20\u7167\u7247\u4ee5\u53ca 20PB \u7684\u6570\u636e\uff0c\u4f20\u7edf\u7684\u5b58\u50a8\u65b9\u6848\u5e76\u4e0d\u9002\u5408\u7ba1\u7406\u8fd9\u4e48\u5927\u89c4\u6a21\u7684\u56fe\u7247\uff0c\u56e0\u6b64\u624d\u6709\u4e86 Haystack \u8fd9\u4e2a\u7cfb\u7edf\u3002f4 \u7684\u8bba\u6587\u53d1\u8868\u5728 2014 \u5e74\u7684 OSDI \u4f1a\u8bae\uff0c\u8ddd\u79bb 2010 \u5e74 Facebook \u5b58\u50a8\u7684\u7167\u7247\u6570\u91cf\u5df2\u7ecf\u589e\u957f\u5230\u8d85\u8fc7 4000 \u4ebf\u5f20\uff0cHaystack \u7684\u5b58\u50a8\u53d8\u5f97\u8d8a\u6765\u8d8a\u6602\u8d35\uff0c\u6025\u9700\u4e00\u4e2a\u66f4\u9ad8\u6548\u7684\u5b58\u50a8\u7cfb\u7edf\u6765\u7ba1\u7406\u90a3\u4e9b\u4e0d\u5e38\u88ab\u8bbf\u95ee\u7684\u6e29\u6570\u636e\uff0cf4 \u7684\u6838\u5fc3\u4fbf\u662f\u901a\u8fc7 Reed-Solomon\uff08RS\uff09\u7f16\u7801\u6765\u964d\u4f4e\u5b58\u50a8\u6210\u672c\uff0c\u5728 f4 \u4e0a\u7ebf 19 \u4e2a\u6708\u4ee5\u540e\u603b\u5171\u5b58\u50a8\u4e86\u8d85\u8fc7 65PB \u7684\u6570\u636e\uff0c\u5e76\u8282\u7701\u4e86 53PB \u7684\u5b58\u50a8\u7a7a\u95f4\u3002Haystack \u7684\u7406\u8bba\u526f\u672c\u6570\uff08replication factor\uff09\u662f 3.6x\uff0c\u4f46\u662f\u7531\u4e8e\u6bcf\u5757\u78c1\u76d8\u7684 IOPS \u4e0d\u4f1a\u968f\u7740\u78c1\u76d8\u5bb9\u91cf\u7684\u589e\u52a0\u800c\u6709\u663e\u8457\u63d0\u5347\uff0c\u56e0\u6b64 Haystack \u96c6\u7fa4\u9700\u8981\u989d\u5916\u914d\u7f6e\u5927\u91cf\u7684\u300c\u7a7a\u95f2\u300d\u78c1\u76d8\u624d\u80fd\u6ee1\u8db3\u7cfb\u7edf\u5bf9\u4e8e IOPS \u7684\u8981\u6c42\uff0c\u5bfc\u81f4\u5b9e\u9645\u7684\u526f\u672c\u6570\u589e\u52a0\u5230\u4e86 5.3x\uff0c\u76f8\u6bd4\u4e4b\u4e0b f4 \u7684\u526f\u672c\u6570\u662f 2.8x\u3002Haystack \u5bf9\u4e8e IOPS \u7684\u9700\u6c42\u4f7f\u5f97\u96c6\u7fa4\u7684\u5b58\u50a8\u5bb9\u91cf\u660e\u663e\u8fc7\u5269\uff0c\u800c f4 \u7684\u6570\u636e\u56e0\u4e3a\u4e0d\u7ecf\u5e38\u88ab\u8bbf\u95ee\u78c1\u76d8\u7684 IOPS \u53c8\u6709\u5f88\u591a\u7a7a\u95f2\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u4e24\u79cd\u7cfb\u7edf\u7684\u8d44\u6e90\u90fd\u6709\u5f88\u5927\u7684\u6d6a\u8d39\uff0c\u4e5f\u6709\u660e\u663e\u53ef\u4ee5\u4e92\u8865\u7684\u7a7a\u95f4\u3002\\n\\nHDFS \u5df2\u7ecf\u662f\u5927\u6570\u636e\u9886\u57df\u5b58\u50a8\u7cfb\u7edf\u7684\u4e8b\u5b9e\u6807\u51c6\uff0c\u5b83\u7684\u4f18\u70b9\u4e0d\u7528\u8fc7\u591a\u4ecb\u7ecd\uff08\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u770b\u770b[\u7b2c 8 \u671f](/issues/8)\u5bf9 GFS \u7684\u4ecb\u7ecd\uff09\uff0c\u7f3a\u70b9\u5176\u5b9e\u4e5f\u5f88\u660e\u663e\uff0c\u56e0\u4e3a NameNode \u662f\u5355\u70b9\uff0c\u4e0d\u7ba1\u662f\u5728\u53ef\u7528\u6027\u8fd8\u662f\u96c6\u7fa4\u5bb9\u91cf\u4e0a\u90fd\u6709\u5f88\u5927\u9650\u5236\u3002\u56e0\u6b64 Facebook \u7ba1\u7406\u4e86\u6570\u5341\u4e2a\u5927\u5927\u5c0f\u5c0f\u7684 HDFS \u96c6\u7fa4\uff0c\u8fd9\u4e0d\u4ec5\u5e26\u6765\u4e86\u5f88\u5927\u7684\u8fd0\u7ef4\u6210\u672c\uff0c\u5bf9\u4e8e\u4e0a\u5c42\u670d\u52a1\u6765\u8bf4\u4e5f\u9700\u8981\u611f\u77e5\u5230\u4e0d\u540c\u96c6\u7fa4\u7684\u6570\u636e\u3002\u6309\u7167 Facebook \u76ee\u524d\u7684\u6570\u636e\u91cf\uff0c\u5355\u4e2a HDFS \u96c6\u7fa4\u5df2\u7ecf\u65e0\u6cd5\u627f\u8f7d\u67d0\u4e9b\u6570\u4ed3\u7684\u6570\u636e\u96c6\uff0c\u56e0\u6b64\u4e0d\u5f97\u4e0d\u628a\u6570\u636e\u62c6\u5206\u5230\u4e0d\u540c\u7684\u96c6\u7fa4\uff0c\u8fdb\u4e00\u6b65\u5c06\u8ba1\u7b97\u5f15\u64ce\u7684\u903b\u8f91\u590d\u6742\u5316\u3002\\n\\n\u56e0\u6b64\u56de\u5230 Tectonic \u9762\u4e34\u7684 3 \u4e2a\u6311\u6218\uff08\u540c\u65f6\u4e5f\u662f\u76ee\u6807\uff09\uff1a**\u5355\u96c6\u7fa4\u652f\u6491 EB \u7ea7\u6570\u636e\u5b58\u50a8\uff0c\u4e0d\u540c\u79df\u6237\u4e4b\u95f4\u7684\u6027\u80fd\u9694\u79bb\uff0c\u4ee5\u53ca\u652f\u6301\u4e00\u5b9a\u7a0b\u5ea6\u7684\u79df\u6237\u4e2a\u6027\u5316\u5b9a\u5236**\u3002Tectonic \u7684\u67b6\u6784\u7531\u51e0\u90e8\u5206\u7ec4\u6210\uff1achunk \u96c6\u7fa4\u3001\u5143\u6570\u636e\u96c6\u7fa4\u3001\u65e0\u72b6\u6001\u7684\u540e\u53f0\u670d\u52a1\u4ee5\u53ca\u5ba2\u6237\u7aef\u5e93\u3002Chunk \u96c6\u7fa4\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\uff1b\u5143\u6570\u636e\u96c6\u7fa4\u8d1f\u8d23\u7ba1\u7406\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u7ed3\u6784\u3001block \u5230 chunk \u7684\u6620\u5c04\u5173\u7cfb\u7b49\uff1b\u65e0\u72b6\u6001\u7684\u540e\u53f0\u670d\u52a1\u8d1f\u8d23\u5982\u5783\u573e\u56de\u6536\u3001\u6570\u636e\u91cd\u65b0\u5747\u8861\uff08rebalance\uff09\u7b49\u5de5\u4f5c\uff1b\u5ba2\u6237\u7aef\u5e93\u4e0e chunk \u548c\u5143\u6570\u636e\u96c6\u7fa4\u4ea4\u4e92\uff0c\u5e76\u63d0\u4f9b\u7c7b\u4f3c HDFS \u7684 API\u3002\u6bcf\u4e2a Tectonic \u96c6\u7fa4\u652f\u6301\u5341\u4e2a\u5de6\u53f3\u7684\u79df\u6237\uff0c\u79df\u6237\u4e4b\u95f4\u4e0d\u4f1a\u5171\u4eab\u6570\u636e\uff0c\u6bd4\u5982\u5bf9\u8c61\u5b58\u50a8\u548c\u6570\u4ed3\u5206\u522b\u662f\u4e0d\u540c\u7684\u79df\u6237\uff0c\u6bcf\u4e2a\u79df\u6237\u540c\u65f6\u53c8\u670d\u52a1\u4e0a\u767e\u4e2a\u5e94\u7528\uff0c\u6bd4\u5982 Newsfeed\u3001\u641c\u7d22\u3001\u5e7f\u544a\u7b49\u3002\\n\\n\u5728 Tectonic \u4e2d\u4e00\u4e2a\u6587\u4ef6\u4f1a\u88ab\u5206\u5272\u4e3a\u6570\u4e2a block\uff0c\u6bcf\u4e2a block \u53c8\u4f1a\u7531\u591a\u4e2a chunk \u7ec4\u6210\uff0cchunk \u96c6\u7fa4\u5373\u662f\u5b58\u50a8\u8fd9\u4e9b chunk \u7684\u670d\u52a1\u3002\u8fd9\u91cc\u7684 block \u662f\u4e00\u4e2a\u903b\u8f91\u6982\u5ff5\uff0cchunk \u96c6\u7fa4\u5e76\u4e0d\u611f\u77e5\uff0c\u800c\u662f\u7531\u5143\u6570\u636e\u96c6\u7fa4\u6765\u7ef4\u62a4\u6587\u4ef6\u5230 block\u3001block \u5230 chunk \u7684\u6620\u5c04\u5173\u7cfb\u3002\u8bba\u6587\u4e2d\u5e76\u6ca1\u6709\u8bf4\u660e\u6bcf\u4e2a block \u548c chunk \u7684\u5177\u4f53\u5927\u5c0f\uff0c\u4f46\u662f\u4ece\u540e\u9762\u5217\u4e3e\u7684\u751f\u4ea7\u73af\u5883\u6570\u636e\u4e2d\u53ef\u4ee5\u5927\u6982\u4f30\u7b97\u51fa\u5355\u4e2a block \u7684\u5927\u5c0f\u5728 90MB \u5de6\u53f3\u3002Chunk \u8282\u70b9\u4f7f\u7528\u4e86 [XFS](https://en.wikipedia.org/wiki/XFS) \u6587\u4ef6\u7cfb\u7edf\uff0c\u6bcf\u4e2a chunk \u5373\u4e3a\u4e00\u4e2a\u6587\u4ef6\uff0c\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u5305\u62ec get\u3001put\u3001append\u3001delete\u3001list \u4ee5\u53ca scan\u3002\u6bcf\u4e2a chunk \u8282\u70b9\u914d\u7f6e\u4e86 36 \u5757\u786c\u76d8\uff08\u540c\u6837\u7684\u6839\u636e\u751f\u4ea7\u73af\u5883\u6570\u636e\u53ef\u4ee5\u7b97\u51fa\u5355\u5757\u786c\u76d8\u7684\u5bb9\u91cf\u5728 10TB \u5de6\u53f3\uff09\uff0c\u5e76\u540c\u65f6\u6709\u4e00\u5757 1TB \u7684 SSD \u7528\u4e8e\u5b58\u50a8 XFS \u7684\u5143\u6570\u636e\u4ee5\u53ca\u7f13\u5b58\u70ed\u7684 chunk\u3002\u6570\u636e\u590d\u5236\u7684\u6700\u5c0f\u5355\u5143\u662f block\uff0cblock \u7684\u6301\u4e45\u6027\u53ef\u4ee5\u901a\u8fc7 Reed-Solomon \u7f16\u7801\u6216\u8005\u590d\u5236\u6765\u5b8c\u6210\u3002Tectonic \u652f\u6301\u5355\u72ec\u5bf9\u6bcf\u4e2a block \u4f7f\u7528\u4e0d\u540c\u7684\u6301\u4e45\u5316\u65b9\u6cd5\uff0c\u800c\u4e0d\u662f\u50cf\u5176\u5b83\u7cfb\u7edf\u4e00\u6837\u662f\u4e00\u4e2a\u5168\u5c40\u914d\u7f6e\u76f4\u63a5\u5f71\u54cd\u6240\u6709\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u4ee5\u5728\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u591a\u79cd\u590d\u5236\u7b56\u7565\u3002\\n\\n\u5728\u4efb\u4f55\u5b58\u50a8\u7cfb\u7edf\u4e2d\uff0c\u5143\u6570\u636e\u90fd\u662f\u6574\u4e2a\u7cfb\u7edf\u7684\u6838\u5fc3\uff0c**Tectonic \u7684\u5143\u6570\u636e\u8bbe\u8ba1\u6709\u8fd9\u4e48\u51e0\u4e2a\u7279\u70b9\uff1a\u5b58\u7b97\u5206\u79bb\uff0c\u591a\u5c42\u5143\u6570\u636e\uff0c\u57fa\u4e8e\u54c8\u5e0c\u5206\u7247\uff0c\u5143\u6570\u636e\u7f13\u5b58\uff0cread-after-write \u4e00\u81f4\u6027**\u3002\u4e0b\u9762\u5206\u522b\u8bb2\u89e3\u3002\\n\\n\u5b58\u7b97\u5206\u79bb\u662f\u6307\u5143\u6570\u636e\u96c6\u7fa4\u5206\u4e3a\u903b\u8f91\u8282\u70b9\u548c\u5b58\u50a8\u8282\u70b9\uff0c\u903b\u8f91\u8282\u70b9\u662f\u65e0\u72b6\u6001\u7684\u540e\u9762\u4f1a\u63d0\u5230\uff0c\u5b58\u50a8\u8282\u70b9\u76ee\u524d\u4f7f\u7528\u7684\u662f Facebook \u81ea\u7814\u7684\u5206\u5e03\u5f0f K/V \u5b58\u50a8 [ZippyDB](https://www.youtube.com/watch?v=ZRP7z0HnClc)\u3002ZippyDB \u662f\u57fa\u4e8e RocksDB \u548c Paxos \u6765\u5b9e\u73b0\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u5e7f\u6cdb\u7528\u4e8e Facebook \u5185\u90e8\u5404\u79cd\u4e1a\u52a1\uff0c\u5982 Newsfeed\u3001Instagram\u3001WhatsApp \u7b49\u3002ZippyDB \u6839\u636e shard \u8fdb\u884c\u590d\u5236\uff0c\u652f\u6301\u5355 shard \u5185\u7684\u4e8b\u52a1\u64cd\u4f5c\uff0c\u4f46\u4e0d\u652f\u6301\u8de8\u591a\u4e2a shard \u7684\u4e8b\u52a1\u3002ZippyDB \u4e5f\u4f1a\u81ea\u52a8\u5730\u5728\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u8fdb\u884c shard \u8fc1\u79fb\uff0c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002Tectonic \u7684\u5143\u6570\u636e\u4f1a\u6839\u636e\u67d0\u4e2a ID \u6765\u5206\u7247\u8fdb\u800c\u5206\u5e03\u5230\u4e0d\u540c\u7684 shard\uff0c\u4f8b\u5982\u76ee\u5f55 ID\u3001\u6587\u4ef6 ID\u3001block ID\u3002\\n\\nTectonic \u5c06\u5143\u6570\u636e\u5206\u4e3a\u4e86 Name\u3001File\u3001Block \u4e09\u5c42\uff0cName \u5c42\u4fdd\u5b58\u7684\u662f\u6587\u4ef6\u7cfb\u7edf\u7684\u76ee\u5f55\u7ed3\u6784\uff0cFile \u548c Block \u5c42\u5206\u522b\u4fdd\u5b58\u6587\u4ef6\u5230 block\u3001block \u5230 chunk \u7684\u6620\u5c04\u5173\u7cfb\u3002\u4e4b\u6240\u4ee5\u8981\u628a\u5143\u6570\u636e\u62c6\u5206\u6210\u591a\u5c42\u7ed3\u6784\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u8bf7\u6c42\u70ed\u70b9\uff0c\u70ed\u70b9\u95ee\u9898\u5728\u5927\u6570\u636e\u573a\u666f\u5c24\u4e3a\u5e38\u89c1\uff0c\u4f8b\u5982\u8bbf\u95ee\u4e00\u4e2a\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u3002\u8fd9\u4e2a\u8bbe\u8ba1\u4e0e [Azure Data Lake Store](https://dl.acm.org/doi/10.1145/3035918.3056100)\uff08ADLS\uff09\u975e\u5e38\u7c7b\u4f3c\uff0c\u4e0d\u8fc7 ADLS \u7684\u5143\u6570\u636e\u662f\u8303\u56f4\u5206\u5272\uff08range partitioning\uff09\u7684\uff0c\u800c Tectonic \u662f\u54c8\u5e0c\u5206\u5272\uff0c\u5728\u4e4b\u524d\u4ecb\u7ecd\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\u7684[\u6587\u7ae0](https://xiaogaozi.org/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u8fd9\u4e24\u79cd\u6570\u636e\u5206\u5272\u65b9\u6cd5\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\u3002\u7b80\u5355\u8bb2\u8303\u56f4\u5206\u5272\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u5feb\u901f\u626b\u63cf\uff08\u6bd4\u5982\u9012\u5f52\u904d\u5386\u4e00\u4e2a\u76ee\u5f55\uff09\uff0c\u7f3a\u70b9\u662f\u5bb9\u6613\u4ea7\u751f\u70ed\u70b9\uff0c\u56e0\u6b64\u91c7\u7528\u8303\u56f4\u5206\u5272\u7684\u7cfb\u7edf\u901a\u5e38\u90fd\u9700\u8981\u642d\u914d\u4e00\u4e2a\u597d\u7684\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861\u7cfb\u7edf\uff0c\u52a8\u6001\u5206\u5272\u3001\u5408\u5e76\u3001\u8fc1\u79fb\u6570\u636e\u3002\u54c8\u5e0c\u5206\u5272\u7684\u4f18\u70b9\u662f\u6570\u636e\u5929\u7136\u5c31\u662f\u5747\u5300\u5206\u5e03\u7684\uff0c\u4e5f\u5c31\u6ca1\u6709\u4e86\u8303\u56f4\u5206\u5272\u7684\u70ed\u70b9\u95ee\u9898\uff0c\u4f46\u662f\u7f3a\u70b9\u662f\u6ca1\u6cd5\u5feb\u901f\u626b\u63cf\u3002Tectonic \u5c06\u8fd1 2/3 \u7684\u8bf7\u6c42\u90fd\u662f\u5728 Block \u5c42\uff0c\u56e0\u6b64\u54c8\u5e0c\u5206\u5272\u53ef\u4ee5\u5f88\u597d\u5730\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff08\u60f3\u8c61\u5982\u679c\u91c7\u7528\u8303\u56f4\u5206\u5272\u90a3\u4e48\u4e00\u4e2a\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6\u7684 block \u5143\u4fe1\u606f\u53ef\u80fd\u90fd\u4f1a\u96c6\u4e2d\u5728 1 \u4e2a\u8282\u70b9\u4e0a\uff09\u3002\u6709\u5174\u8da3\u4e86\u89e3 ADLS \u4e3a\u4ec0\u4e48\u91c7\u7528\u8303\u56f4\u5206\u5272\u7684\u540c\u5b66\u53ef\u4ee5\u884d\u751f\u9605\u8bfb [Windows Azure Storage](https://sigops.org/s/conferences/sosp/2011/current/2011-Cascais/printable/11-calder.pdf) \u7684\u8fd9\u7bc7\u8bba\u6587\u3002\\n\\nTectonic \u5141\u8bb8 block\u3001\u6587\u4ef6\u3001\u76ee\u5f55\u88ab\u5bc6\u5c01\uff08seal\uff09\uff0c\u5f53\u4e00\u4e2a\u76ee\u5f55\u88ab\u5bc6\u5c01\u4ee5\u540e\u5c06\u4e0d\u80fd\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\uff08\u4f46\u662f\u5b50\u76ee\u5f55\u4e0d\u53d7\u9650\u5236\uff09\u3002\u56e0\u4e3a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\u4e00\u65e6\u5bc6\u5c01\u5c06\u4e0d\u4f1a\u88ab\u4fee\u6539\uff0c\u6240\u4ee5\u4ed6\u4eec\u7684\u5143\u6570\u636e\u53ef\u4ee5\u7f13\u5b58\u5728\u5143\u6570\u636e\u670d\u52a1\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u4e0a\uff0c\u5927\u5927\u964d\u4f4e\u8bfb\u8d1f\u8f7d\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u4ea7\u751f\u4e00\u81f4\u6027\u95ee\u9898\u3002\u4e00\u4e2a\u4f8b\u5916\u662f block \u5230 chunk \u7684\u6620\u5c04\u5173\u7cfb\u6709\u53ef\u80fd\u88ab\u66f4\u65b0\uff0c\u4f8b\u5982 chunk \u4ece\u4e00\u4e2a\u78c1\u76d8\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u78c1\u76d8\uff0c\u6b64\u65f6\u9700\u8981\u5931\u6548 Block \u5c42\u7684\u7f13\u5b58\u3002\u5f53\u8bfb\u53d6\u7684\u65f6\u5019\u4f1a\u4e3b\u52a8\u68c0\u6d4b\u7f13\u5b58\u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u4fbf\u4f1a\u89e6\u53d1\u7f13\u5b58\u66f4\u65b0\u3002\\n\\n\u4e3a\u4e86\u4fdd\u8bc1\u540c\u4e00\u4e2a\u76ee\u5f55\u5185\u7684\u5143\u6570\u636e\u64cd\u4f5c\u7684\u5f3a\u4e00\u81f4\u6027\uff0cTectonic \u4f9d\u8d56 K/V \u5b58\u50a8\u672c\u8eab\u63d0\u4f9b\u5f3a\u4e00\u81f4\u6027\u7684\u64cd\u4f5c\u4ee5\u53ca\u5355\u5206\u7247\u5185\uff08in-shard\uff09\u7684 [read-modify-write](https://en.wikipedia.org/wiki/Read%E2%80%93modify%E2%80%93write) \u7ea7\u522b\u7684\u539f\u5b50\u4e8b\u52a1\u3002\u5177\u4f53\u6765\u8bf4\uff0cTectonic \u4fdd\u8bc1\u5305\u62ec\u6570\u636e\u64cd\u4f5c\uff08\u5982 append \u548c read\uff09\u3001\u6d89\u53ca\u5355\u4e2a\u5bf9\u8c61\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\uff08\u5982 create \u548c list\uff09\u3001\u540c\u4e00\u4e2a\u7236\u76ee\u5f55\u5185\u7684\u79fb\u52a8\uff08move\uff09\u64cd\u4f5c\u5728\u5185\u7684\u8fd9\u4e9b\u64cd\u4f5c\u7684 read-after-write \u4e00\u81f4\u6027\u3002ZippyDB \u76ee\u524d\u8fd8\u4e0d\u652f\u6301\u8de8\u591a\u5206\u533a\uff08cross-shard\uff09\u7684\u4e8b\u52a1\uff0c\u56e0\u6b64 Tectonic \u4e5f\u6ca1\u6cd5\u63d0\u4f9b\u539f\u5b50\u7684\u8de8\u76ee\u5f55\u79fb\u52a8\u64cd\u4f5c\uff0c\u73b0\u5728\u7684\u5b9e\u73b0\u662f\u4e00\u4e2a\u4e24\u9636\u6bb5\u7684\u8fc7\u7a0b\u3002\u6bd4\u5982\u8981\u628a\u4e00\u4e2a\u5b50\u76ee\u5f55\u4ece\u5f53\u524d\u7684\u7236\u76ee\u5f55\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u7236\u76ee\u5f55\uff0c\u9996\u5148\u5728\u65b0\u7684\u7236\u76ee\u5f55\u521b\u5efa\u4e00\u4e2a\u94fe\u63a5\uff0c\u7136\u540e\u5220\u9664\u65e7\u7236\u76ee\u5f55\u4e2d\u7684\u94fe\u63a5\uff1b\u8de8\u76ee\u5f55\u7684\u6587\u4ef6\u79fb\u52a8\u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u5148\u628a\u6587\u4ef6\u62f7\u8d1d\u5230\u65b0\u76ee\u5f55\uff0c\u7136\u540e\u4ece\u539f\u76ee\u5f55\u4e2d\u5220\u9664\uff0c\u8fd9\u91cc\u7684\u62f7\u8d1d\u4e0d\u4f1a\u6d89\u53ca\u5230\u5e95\u5c42\u6570\u636e\uff0c\u4ec5\u4ec5\u662f\u5143\u6570\u636e\u7ef4\u5ea6\u7684\u64cd\u4f5c\u3002\\n\\nTectonic \u7684\u5ba2\u6237\u7aef\u5e93\u901a\u8fc7\u7f16\u6392\u5143\u6570\u636e\u548c chunk \u670d\u52a1\u7684\u4fe1\u606f\u6765\u66b4\u9732\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u62bd\u8c61\u7ed9\u4e0a\u5c42\u5e94\u7528\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u5e94\u7528\u5bf9\u6bcf\u4e00\u6b21\u8bfb\u5199\u64cd\u4f5c\u90fd\u53ef\u4ee5\u975e\u5e38\u7075\u6d3b\u5730\u63a7\u5236\u3002\u8bfb\u5199\u64cd\u4f5c\u7684\u7c92\u5ea6\u662f chunk\uff0c\u5f53\u5199\u5165\u6570\u636e\u65f6\u5ba2\u6237\u7aef\u5e93\u4f1a\u8d1f\u8d23\u590d\u5236\u6216\u8005 RS \u7f16\u7801\u8fd9\u4e9b chunk\uff0c\u5e76\u4e14\u5728\u8bfb\u53d6\u7684\u65f6\u5019\u91cd\u65b0\u7ec4\u7ec7\u3002Tectonic \u9650\u5236\u6bcf\u4e2a\u6587\u4ef6\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u4e2a\u5199\u5165\u65b9\uff08single-writer\uff09\uff0c\u5f53\u5e94\u7528\u5199\u5165\u6570\u636e\u65f6\u9700\u8981\u5148\u751f\u6210\u4e00\u4e2a token \u5e76\u5728\u6253\u5f00\u6587\u4ef6\u65f6\u628a\u8fd9\u4e2a token \u6dfb\u52a0\u5230\u6587\u4ef6\u7684\u5143\u6570\u636e\u4e2d\uff0c\u6b64\u65f6\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u5e94\u7528\u4e5f\u5c1d\u8bd5\u5199\u5165\uff0c\u4f1a\u7528\u65b0\u7684 token \u8986\u76d6\u5f53\u524d\u5199\u5165\u65b9\u7684 token\uff0c\u5e76\u4e14\u5bc6\u5c01\u6240\u6709\u5f53\u524d\u5199\u5165\u65b9\u5df2\u7ecf\u6253\u5f00\u7684 block\u3002\u5982\u679c\u5e94\u7528\u9700\u8981\u591a\u5199\u5165\u65b9\u7684\u8bed\u4e49\uff0c\u53ef\u4ee5\u5728 Tectonic \u4e4b\u4e0a\u5b9e\u73b0\u3002\\n\\n\u4ee5\u4e0a\u662f Tectonic \u6838\u5fc3\u7684\u7cfb\u7edf\u5b9e\u73b0\uff0c\u4e0d\u8fc7 Tectonic \u662f\u9762\u5411\u591a\u79df\u6237\u8bbe\u8ba1\u7684\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u89e3\u51b3\u591a\u79df\u6237\u573a\u666f\u7684\u5f88\u591a\u95ee\u9898\uff0c\u4f8b\u5982\u5982\u4f55\u4fdd\u969c\u8d44\u6e90\u80fd\u516c\u5e73\u5206\u914d\u7ed9\u6bcf\u4e2a\u79df\u6237\u3001\u5982\u4f55\u5728\u7ef4\u6301\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u6027\u80fd\u9694\u79bb\u3001\u5982\u4f55\u8ba9\u6bcf\u4e2a\u79df\u6237\u6709\u4e00\u5b9a\u7684\u5b9a\u5236\u7a7a\u95f4\u53bb\u4f18\u5316\u5b83\u81ea\u5df1\u7684\u8bf7\u6c42\u3002\\n\\nTectonic \u628a\u8d44\u6e90\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a\u957f\u671f\uff08non-ephemeral\uff09\u548c\u77ed\u671f\uff08ephemeral\uff09\u3002\u5b58\u50a8\u5bb9\u91cf\u5373\u5c5e\u4e8e\u957f\u671f\u8d44\u6e90\uff0c\u4e00\u65e6\u5206\u914d\u7ed9\u67d0\u4e2a\u79df\u6237\u5c31\u4e0d\u4f1a\u518d\u5206\u7ed9\u5176\u5b83\u79df\u6237\u3002\u6bcf\u4e2a\u79df\u6237\u4f1a\u6709\u4e00\u4e2a\u9884\u5148\u5b9a\u4e49\u597d\u7684\u5bb9\u91cf\u914d\u989d\uff0c\u8fd9\u4e2a\u914d\u989d\u4e0d\u4f1a\u52a8\u6001\u4f38\u7f29\uff0c\u9700\u8981\u624b\u52a8\u8c03\u6574\u3002\u77ed\u671f\u8d44\u6e90\u662f\u90a3\u4e9b\u968f\u7740\u65f6\u95f4\u9700\u6c42\u4e0d\u65ad\u53d8\u5316\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u5b58\u50a8\u7684 IOPS \u5bb9\u91cf\u3001\u5143\u6570\u636e\u8bf7\u6c42\u5bb9\u91cf\u3002\u56e0\u4e3a\u77ed\u671f\u8d44\u6e90\u9700\u6c42\u53d8\u5316\u5f97\u5f88\u5feb\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u4e2a\u7ec6\u7c92\u5ea6\u7684\u5b9e\u65f6\u81ea\u52a8\u5316\u7ba1\u7406\u6765\u786e\u4fdd\u8d44\u6e90\u5171\u4eab\u7684\u516c\u5e73\u6027\u3001\u8d44\u6e90\u9694\u79bb\u6027\u4ee5\u53ca\u9ad8\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002\\n\\n\u77ed\u671f\u8d44\u6e90\u5171\u4eab\u662f Tectonic \u9762\u4e34\u7684\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u6311\u6218\uff0c\u539f\u56e0\u5728\u4e8e\u4e0d\u4ec5\u79df\u6237\u7684\u9700\u6c42\u662f\u591a\u79cd\u591a\u6837\u7684\uff0c\u800c\u4e14\u6bcf\u4e2a\u79df\u6237\u670d\u52a1\u7684\u5e94\u7528\u4e5f\u6709\u7740\u4e0d\u540c\u7684\u8bf7\u6c42\u6a21\u5f0f\u548c\u6027\u80fd\u8981\u6c42\uff0c\u6bd4\u5982\u5bf9\u8c61\u5b58\u50a8\u7c7b\u578b\u7684\u79df\u6237\u4f1a\u540c\u65f6\u5305\u542b\u6765\u81ea Facebook \u751f\u4ea7\u73af\u5883\u7684\u8bf7\u6c42\u4ee5\u53ca\u540e\u53f0\u7684\u5783\u573e\u56de\u6536\u8bf7\u6c42\u3002\u5982\u679c\u6309\u7167\u79df\u6237\u7684\u7c92\u5ea6\u6765\u7ba1\u7406\u77ed\u671f\u8d44\u6e90\u5c06\u6ca1\u6cd5\u5e94\u5bf9\u540c\u4e00\u79df\u6237\u5185\u90e8\u7684\u4e0d\u540c\u9700\u6c42\uff0c\u4f46\u5982\u679c\u6309\u7167\u5e94\u7528\u7684\u7c92\u5ea6\u6765\u7ba1\u7406\u4e5f\u4e0d\u5408\u9002\uff0c\u56e0\u4e3a Tectonic \u670d\u52a1\u7740\u4e0a\u767e\u4e2a\u5e94\u7528\uff0c\u5e94\u7528\u8fd9\u4e2a\u7c92\u5ea6\u8fc7\u4e8e\u7ec6\u4e5f\u589e\u52a0\u4e86\u7ba1\u7406\u7684\u590d\u6742\u5ea6\u3002\\n\\n\u56e0\u6b64 Tectonic \u628a\u77ed\u671f\u8d44\u6e90\u6309\u7167\u5e94\u7528\u7ec4\u7684\u7c92\u5ea6\u6765\u7ba1\u7406\uff0c\u8fd9\u4e9b\u5e94\u7528\u7ec4\u88ab\u53eb\u505a TrafficGroup\u3002\u540c\u4e00\u4e2a TrafficGroup \u4e2d\u7684\u5e94\u7528\u6709\u7740\u76f8\u4f3c\u7684\u8d44\u6e90\u548c\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\uff0c\u6bd4\u5982\u4e00\u4e2a TrafficGroup \u662f\u6765\u81ea\u751f\u4ea7\u73af\u5883\u8bf7\u6c42\u7684\u5e94\u7528\u7ec4\uff0c\u53e6\u4e00\u4e2a TrafficGroup \u662f\u6765\u81ea\u540e\u53f0\u670d\u52a1\u8bf7\u6c42\u7684\u5e94\u7528\u7ec4\u3002\u6bcf\u4e2a Tectonic \u96c6\u7fa4\u652f\u6301\u5927\u7ea6 50 \u4e2a TrafficGroup\uff0c\u6bcf\u4e2a\u79df\u6237\u90fd\u6709\u4e0d\u540c\u6570\u91cf\u7684 TrafficGroup\uff0c\u79df\u6237\u9700\u8981\u8d1f\u8d23\u4e3a\u4ed6\u4eec\u7684\u5e94\u7528\u9009\u62e9\u9002\u5408\u7684 TrafficGroup\u3002\u6bcf\u4e2a TrafficGroup \u4f1a\u5bf9\u5e94\u4e00\u4e2a TrafficClass\uff0cTrafficClass \u7528\u6765\u63cf\u8ff0\u5bf9\u4e8e\u54cd\u5e94\u65f6\u95f4\u7684\u9700\u6c42\u4ee5\u53ca\u51b3\u5b9a\u54ea\u4e9b\u8bf7\u6c42\u53ef\u4ee5\u83b7\u5f97\u7a7a\u95f2\u8d44\u6e90\u3002\u76ee\u524d\u6709 3 \u79cd TrafficClass\uff1a\u9ec4\u91d1\u3001\u767d\u94f6\u3001\u9752\u94dc\uff0c\u5206\u522b\u5bf9\u5e94\u5ef6\u8fdf\u654f\u611f\u3001\u666e\u901a\u548c\u540e\u53f0\u5e94\u7528\u3002\u7a7a\u95f2\u8d44\u6e90\u4f1a\u6839\u636e\u4e0d\u540c TrafficClass \u7684\u4f18\u5148\u7ea7\u6765\u5206\u914d\u5230\u540c\u4e00\u79df\u6237\u5185\u7684\u4e0d\u540c\u5e94\u7528\uff0c\u5982\u679c\u67d0\u4e2a\u79df\u6237\u7684\u8d44\u6e90\u6709\u5269\u4f59\uff0c\u4f1a\u4f18\u5148\u7ed9\u5b83\u81ea\u5df1\u7684 TrafficGroup\uff0c\u4e4b\u540e\u624d\u662f\u7ed9\u5176\u5b83\u79df\u6237\u3002\\n\\n\u5ba2\u6237\u7aef\u5e93\u901a\u8fc7\u4e00\u4e2a\u901f\u7387\u9650\u5236\u5668\uff08rate limiter\uff09\u6765\u63a7\u5236\u8bf7\u6c42\u901f\u7387\uff0c\u8fd9\u4e2a\u901f\u7387\u9650\u5236\u5668\u57fa\u4e8e [leaky bucket \u7b97\u6cd5](https://en.wikipedia.org/wiki/Leaky_bucket)\u5b9e\u73b0\uff0c\u901a\u8fc7\u4e00\u4e2a\u9ad8\u6027\u80fd\u3001\u8fd1\u5b9e\u65f6\u7684\u5206\u5e03\u5f0f\u8ba1\u6570\u5668\u6765\u7edf\u8ba1\u8fd1\u671f\u6bcf\u4e2a\u79df\u6237\u3001\u6bcf\u4e2a TrafficGroup \u7684\u8bf7\u6c42\u6b21\u6570\u3002\u5f53\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\u65f6\u4f1a\u589e\u52a0\u8ba1\u6570\uff0c\u540c\u65f6\u4f1a\u6309\u7167\u81ea\u5df1\u7684 TrafficGroup\u3001\u540c\u79df\u6237\u5185\u7684\u5176\u5b83 TrafficGroup \u4ee5\u53ca\u5176\u5b83\u79df\u6237\u7684\u987a\u5e8f\u68c0\u67e5\u662f\u5426\u6709\u7a7a\u95f2\u5bb9\u91cf\uff0c\u5982\u679c\u6709\uff0c\u8bf7\u6c42\u4f1a\u7ee7\u7eed\u53d1\u9001\u7ed9\u540e\u7aef\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8bf7\u6c42\u4f1a\u88ab\u5ef6\u8fdf\u53d1\u9001\u6216\u8005\u62d2\u7edd\uff0c\u5177\u4f53\u5982\u4f55\u5904\u7406\u89c6\u8bf7\u6c42\u7684\u8d85\u65f6\u65f6\u95f4\u800c\u5b9a\u3002\\n\\n\u4e3a\u4e86\u4fdd\u969c\u5728\u6bcf\u4e2a\u5b58\u50a8\u8282\u70b9\u4e0a\u9ec4\u91d1 TrafficClass\uff08\u5ef6\u8fdf\u654f\u611f\uff09\u5e94\u7528\u7684\u8bf7\u6c42\u4e0d\u4f1a\u88ab\u4f4e\u4f18\u5148\u7ea7\u8bf7\u6c42\u963b\u585e\uff0cTectonic \u5b9e\u73b0\u4e86\u4e00\u4e2a\u6743\u91cd\u8f6e\u8be2\uff08weighted round-robin\uff0cWRR\uff09\u8c03\u5ea6\u5668\u3002\u5177\u4f53\u7684\uff0cWRR \u6709\u4e09\u4e2a\u7b56\u7565\u3002\u9996\u5148\u5f53\u8c03\u5ea6\u5668\u8ba4\u4e3a\u4f4e\u4f18\u5148\u7ea7\u8bf7\u6c42\u53ef\u4ee5\u5ef6\u8fdf\u6267\u884c\u65f6\u5c31\u4f1a\u4f18\u5148\u6267\u884c\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u8bf7\u6c42\uff0c\u5982\u4f55\u754c\u5b9a\u662f\u5426\u53ef\u4ee5\u5ef6\u8fdf\u6267\u884c\u662f\u901a\u8fc7\u4e00\u4e2a\u8d2a\u5fc3\u4f18\u5316\u6765\u5b9e\u73b0\uff0c\u7b80\u5355\u7406\u89e3\u662f\u786e\u4fdd\u4f4e\u4f18\u5148\u7ea7\u8bf7\u6c42\u5ef6\u8fdf\u6267\u884c\u4ee5\u540e\u4e5f\u6709\u8db3\u591f\u7684\u65f6\u95f4\u6765\u5b8c\u6210\u3002\u5176\u6b21\uff0c\u8c03\u5ea6\u5668\u4f1a\u9650\u5236\u6bcf\u4e2a\u78c1\u76d8\u5373\u5c06\u6267\u884c\uff08in flight\uff09\u7684\u975e\u9ec4\u91d1\u7b49\u7ea7\u7684 IO \u8bf7\u6c42\u6570\u91cf\uff0c\u5982\u679c\u8d85\u8fc7\u8bbe\u5b9a\u7684\u9608\u503c\u8fd9\u4e9b\u4f4e\u4f18\u5148\u7ea7\u8bf7\u6c42\u5c31\u4f1a\u88ab\u963b\u585e\u3002\u6700\u540e\uff0c\u5982\u679c\u67d0\u4e2a\u78c1\u76d8\u7684\u9ec4\u91d1\u7b49\u7ea7\u7684\u8bf7\u6c42\u5df2\u7ecf\u7b49\u5f85\u4e86\u8db3\u591f\u957f\u65f6\u95f4\u8fd8\u6ca1\u6709\u88ab\u6267\u884c\uff0c\u5c06\u4f1a\u505c\u6b62\u8c03\u5ea6\u975e\u9ec4\u91d1\u7b49\u7ea7\u7684\u8bf7\u6c42\u5230\u8fd9\u4e2a\u78c1\u76d8\u3002\\n\\n\u6bcf\u4e2a Tectonic \u96c6\u7fa4\u652f\u6301\u5927\u7ea6 10 \u4e2a\u79df\u6237\uff0c\u6bcf\u4e2a\u79df\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u975e\u5e38\u7075\u6d3b\u5730\u63a7\u5236\u8bf7\u6c42\u3002\u8fd9\u4e2a\u7075\u6d3b\u6027\u4e3b\u8981\u5f97\u76ca\u4e8e\u4e24\u70b9\uff1a\u5ba2\u6237\u7aef\u5e93\u80fd\u591f\u76f4\u63a5\u5728 chunk \u7c92\u5ea6\u64cd\u4f5c\u6570\u636e\uff0c\u4ee5\u53ca\u4e3a\u6bcf\u6b21\u8bf7\u6c42\u8bbe\u7f6e\u4e0d\u540c\u7684\u914d\u7f6e\u3002\u5176\u5b83\u4e00\u4e9b\u7cfb\u7edf\uff08\u5982 HDFS\uff09\u53ea\u652f\u6301\u76ee\u5f55\u7ea7\u522b\u7684\u6301\u4e45\u6027\u914d\u7f6e\uff0c\u7136\u800c Tectonic \u80fd\u652f\u6301\u5230 block \u7ea7\u522b\u3002\u8bba\u6587\u63a5\u4e0b\u6765\u5206\u522b\u4ecb\u7ecd\u4e86 Tectonic \u5728\u6570\u4ed3\u548c\u5bf9\u8c61\u5b58\u50a8\u8fd9\u4e24\u79cd\u7c7b\u578b\u573a\u666f\u5982\u4f55\u8fdb\u884c\u9488\u5bf9\u6027\u4f18\u5316\uff0c\u7b80\u5355\u603b\u7ed3\u51e0\u4e2a\u70b9\uff1a\u6570\u4ed3\u573a\u666f\u5199\u5165\u65f6\u4f1a\u7b49\u6570\u636e\u7f13\u51b2\u5230\u4e00\u6574\u4e2a block \u5927\u5c0f\u4ee5\u540e\u518d\u8fdb\u884c RS \u7f16\u7801\uff1b\u957f\u671f\u6570\u636e\u7528 RS(9,6) \u7f16\u7801\uff0c\u77ed\u671f\u6570\u636e\uff08\u5982 shuffle \u6570\u636e\uff09\u7528 RS(3,3) \u7f16\u7801\uff1b\u5199\u5165\u6570\u636e\u524d\u4f1a\u5148\u53d1\u9001\u9884\u7559\u8bf7\u6c42\uff0c\u4e14\u8bf7\u6c42\u4f1a\u8d85\u8fc7\u5b9e\u9645\u6240\u9700\u7684\u8282\u70b9\u6570\uff08\u5982 RS(9,6) \u4f1a\u53d1\u9001\u7ed9 19 \u53f0\u5b58\u50a8\u8282\u70b9\uff09\uff1b\u5bf9\u8c61\u5b58\u50a8\u573a\u666f\u5199\u5165\u65f6\u53ea\u8981\u5927\u591a\u6570\u8282\u70b9\u8fd4\u56de\u5c31\u4ee3\u8868\u8bf7\u6c42\u6210\u529f\uff1b\u5f53 block \u88ab\u5bc6\u5c01\u4ee5\u540e\u4f1a\u6309\u7167 RS(10,4) \u8fdb\u884c\u7f16\u7801\u3002\u4ece\u8bc4\u6d4b\u7ed3\u679c\u6765\u770b\uff0cTectonic \u5728\u8bfb\u5199\u6027\u80fd\u4e0a\u57fa\u672c\u548c Haystack \u76f8\u5f53\uff0c\u4f46\u6574\u4f53\u8fd8\u662f\u8981\u66f4\u6162\u4e00\u4e9b\uff0c\u7279\u522b\u662f\u957f\u5c3e\u8bfb\u8bf7\u6c42\uff08\u5982 P95\u3001P99\uff09\u3002\\n\\n\u8bba\u6587\u4e2d\u5206\u4eab\u4e86\u4e00\u4e9b Facebook \u751f\u4ea7\u73af\u5883\u7684\u771f\u5b9e\u6570\u636e\uff0c\u67d0\u4e2a Tectonic \u96c6\u7fa4\u4e00\u5171\u6709 4208 \u53f0\u5b58\u50a8\u8282\u70b9\uff0c\u603b\u5bb9\u91cf\u662f 1590PB\uff0c\u76ee\u524d\u5df2\u7ecf\u4f7f\u7528\u4e86 1250PB\uff0c\u603b\u5171 100.7 \u4ebf\u6587\u4ef6\u548c 150 \u4ebf block\u3002\u8fd9\u4e2a\u96c6\u7fa4\u6709\u4e24\u4e2a\u79df\u6237\uff0c\u4e5f\u5c31\u662f\u5bf9\u8c61\u5b58\u50a8\u548c\u6570\u4ed3\uff0c\u5bf9\u8c61\u5b58\u50a8\u5927\u7ea6\u4f7f\u7528\u4e86 49% \u7684\u7a7a\u95f4\uff0c\u5269\u4e0b 51% \u662f\u6570\u4ed3\u3002\u4ece IOPS \u548c\u541e\u5410\u770b\uff0c\u5bf9\u8c61\u5b58\u50a8\u8bf7\u6c42\u4e00\u76f4\u6bd4\u8f83\u7a33\u5b9a\uff0c\u800c\u6570\u4ed3\u5219\u6709\u660e\u663e\u7684\u6ce2\u5cf0\u6ce2\u8c37\u3002\u4e09\u5c42\u5143\u6570\u636e\u670d\u52a1\u6309 QPS \u4ece\u5927\u5230\u5c0f\u6392\u5217\u5206\u522b\u662f\uff1aFile\u3001Name\u3001Block\uff0c\u6bcf\u4e2a\u5143\u6570\u636e\u5206\u7247\u6700\u9ad8\u80fd\u652f\u6491 1 \u4e07 QPS\uff0c\u53ea\u6709 1% \u7684 Name \u5c42\u8bf7\u6c42\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u6700\u5927 QPS \u9650\u5236\u3002\\n\\n\u6700\u540e\u662f\u4e00\u4e9b\u5728 Tectonic \u8bbe\u8ba1\u8fc7\u7a0b\u4e2d\u7684\u6743\u8861\u3001\u59a5\u534f\u548c\u603b\u7ed3\u3002\u4e4b\u6240\u4ee5\u9009\u62e9\u901a\u8fc7\u5ba2\u6237\u7aef\u5e93\u800c\u4e0d\u662f\u4ee3\u7406\u4e0e\u5e95\u5c42\u4ea4\u4e92\u662f\u4e3a\u4e86\u51cf\u5c11\u7f51\u7edc\u3001\u786c\u4ef6\u5f00\u9500\uff08Tectonic \u6bcf\u79d2\u7684\u7f51\u7edc\u541e\u5410\u80fd\u8fbe\u5230 TB \u7ea7\uff09\uff0c\u5f53\u7136\u5ba2\u6237\u7aef\u5e93\u8fd9\u4e2a\u65b9\u6848\u4e5f\u6709\u7f3a\u70b9\uff0c\u6bd4\u5982\u5e93\u7684\u7a33\u5b9a\u6027\u4f1a\u76f4\u63a5\u5f71\u54cd\u5e94\u7528\u3002\u5728\u8de8\u6570\u636e\u4e2d\u5fc3\u8bbf\u95ee\u7684\u573a\u666f\u8fd8\u662f\u9700\u8981\u901a\u8fc7\u4ee3\u7406\uff0c\u5ba2\u6237\u7aef\u5e93\u76f4\u63a5\u8bf7\u6c42\u4e0d\u9002\u5408\u3002Tectonic \u7684\u5143\u6570\u636e\u6027\u80fd\u76f8\u6bd4 HDFS \u8fd8\u662f\u5dee\u4e0d\u5c11\uff0c\u6bd5\u7adf NameNode \u662f\u5168\u5185\u5b58\u5b58\u50a8\u4e5f\u4e0d\u6d89\u53ca\u591a\u5206\u533a\u64cd\u4f5c\uff0c\u56e0\u6b64\u5728\u4f7f\u7528 Tectonic \u65f6\u5e94\u7528\u53ef\u80fd\u4e5f\u9700\u8981\u505a\u4e00\u4e9b\u4f18\u5316\uff0c\u4f8b\u5982\u91cd\u547d\u540d\u4e00\u6279\u6587\u4ef6\u5728 HDFS \u4e2d\u53ef\u4ee5\u4e00\u4e2a\u4e00\u4e2a\u4e32\u884c\u64cd\u4f5c\uff0c\u4f46\u662f\u5728 Tectonic \u4e2d\u8ba1\u7b97\u5f15\u64ce\u9700\u8981\u5e76\u884c\u64cd\u4f5c\u3002\u56e0\u4e3a Tectonic \u662f\u54c8\u5e0c\u5206\u5272\u6570\u636e\uff0c\u6240\u4ee5\u5e76\u4e0d\u652f\u6301\u9012\u5f52\u904d\u5386\u76ee\u5f55\uff0c\u4e5f\u5c31\u4e0d\u652f\u6301\u7c7b\u4f3c HDFS \u4e2d\u7684 `du` \u64cd\u4f5c\uff0c\u4e00\u4e2a\u53d8\u901a\u7684\u5b9e\u73b0\u662f Tectonic \u4f1a\u5468\u671f\u6027\u5730\u805a\u5408\u6bcf\u4e2a\u76ee\u5f55\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u7b2c\u4e00\u7248 chunk \u5b58\u50a8\u4f1a\u5c06\u591a\u4e2a block \u7ec4\u5408\u5e76\u8fdb\u884c RS \u7f16\u7801\uff0c\u76ee\u7684\u662f\u51cf\u5c11\u5143\u6570\u636e\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u8fd9\u6837\u4f1a\u5927\u5e45\u964d\u4f4e\u96c6\u7fa4\u7684\u53ef\u7528\u6027\u3002\u6700\u521d Name \u548c File \u5c42\u5143\u6570\u636e\u4e5f\u6ca1\u6709\u5206\u5f00\uff0c\u76f4\u5230\u540e\u6765\u53d1\u73b0\u5bb9\u6613\u4ea7\u751f\u70ed\u70b9\u624d\u5206\u5f00\u3002\u5728 Tectonic \u8fd9\u4e2a\u91cf\u7ea7\u5185\u5b58\u6570\u636e\u635f\u574f\u53d8\u5f97\u975e\u5e38\u5e38\u89c1\uff0c\u56e0\u6b64\u5728\u5404\u4e2a\u73af\u8282\u90fd\u9700\u8981\u5f3a\u5236\u68c0\u67e5 checksum \u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002\\n\\n\u603b\u7684\u6765\u8bf4 Tectonic \u7684\u8bbe\u8ba1\u6bd4\u8f83\u7b80\u6d01\uff0c\u6ca1\u6709\u592a\u591a\u5916\u90e8\u4f9d\u8d56\u3002\u5728 EB \u7ea7\u8fd9\u4e2a\u6570\u636e\u89c4\u6a21\u5143\u6570\u636e\u7ba1\u7406\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u6311\u6218\uff0c\u7528\u4e00\u5957\u5b58\u50a8\u7cfb\u7edf\u6765\u6ee1\u8db3\u4e0d\u540c\u7c7b\u578b\u79df\u6237\u7684\u9700\u6c42\u4e5f\u662f\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u70b9\uff0c\u867d\u7136\u5355\u7eaf\u4ece\u6027\u80fd\u4e0a\u6bd4\u8f83\u80af\u5b9a\u4e0d\u5982\u4e13\u6709\u7cfb\u7edf\uff0c\u4e0d\u8fc7\u5f88\u591a\u65f6\u5019\u6027\u80fd\u5e76\u4e0d\u662f\u552f\u4e00\u7684\u8861\u91cf\u56e0\u7d20\u3002\u5c3d\u7ba1\u53eb\u505a\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u4e5f\u727a\u7272\u4e86\u4e00\u4e9b\u4f20\u7edf\u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u6027\uff08\u5982 POSIX \u517c\u5bb9\uff09\uff0c\u8fd9\u4e5f\u5927\u5927\u7b80\u5316\u4e86\u5f88\u591a\u65b9\u9762\u7684\u7cfb\u7edf\u8bbe\u8ba1\u3002\\n\\n## How to do distributed locking\\n\\n[[\u94fe\u63a5]](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea Martin Kleppmann\uff0c\u4ed6\u540c\u65f6\u4e5f\u662f\u8457\u540d\u6280\u672f\u4e66\u7c4d[\u300aDesigning Data-Intensive Applications\u300b](http://dataintensive.net)\u7684\u4f5c\u8005\uff0c\u66fe\u5728 LinkedIn \u5de5\u4f5c\u3002\u6587\u7ae0\u6e90\u81ea\u4ed6\u5199\u4e66\u8fc7\u7a0b\u4e2d\u505a\u7684\u5404\u79cd\u7814\u7a76\uff0c\u4e3b\u8981\u8bba\u8bc1\u4e86 Redis \u5b98\u65b9\u7684\u5206\u5e03\u5f0f\u9501 [Redlock](https://redis.io/topics/distlock) \u7684\u8bbe\u8ba1\u662f\u5426\u8db3\u591f\u5b89\u5168\u3002\u5177\u4f53\u8bba\u8bc1\u8fc7\u7a0b\u53ef\u4ee5\u67e5\u770b\u6587\u7ae0\uff0c\u5927\u4f53\u7684\u7ed3\u8bba\u5c31\u662f Redlock \u7528\u4e00\u4e2a\u590d\u6742\u7684\u8bbe\u8ba1\u5b9e\u73b0\u4e86\u4e00\u4e2a\u5e76\u4e0d\u5b89\u5168\u7684\u9501\uff0c\u7279\u522b\u662f Redlock \u7684\u7b97\u6cd5\u4f9d\u8d56\u4e86\u4e00\u4e9b\u5371\u9669\u7684\u5047\u8bbe\uff08\u6bd4\u5982\u65f6\u95f4\u3001\u7cfb\u7edf\u65f6\u949f\uff09\uff0c\u4e00\u65e6\u8fd9\u4e9b\u5047\u8bbe\u4e0d\u6210\u7acb\uff0c\u9501\u7684\u5b89\u5168\u6027\u5c06\u5f88\u5bb9\u6613\u88ab\u6253\u7834\u3002\u8fd9\u7bc7\u6587\u7ae0\u7684\u8349\u7a3f\u5176\u5b9e\u4e5f\u88ab Redis \u7684\u4f5c\u8005 Salvatore Sanfilippo \u5ba1\u6838\u8fc7\uff0cSalvatore \u540e\u6765\u8fd8\u5728\u81ea\u5df1\u7684\u535a\u5ba2\u4e0a\u5199\u4e86\u4e00\u7bc7\u53eb\u505a[\u300cIs Redlock safe?\u300d](http://antirez.com/news/101)\u7684\u6587\u7ae0\u6765\u9010\u4e00\u53cd\u9a73 Martin \u7684\u89c2\u70b9\uff0c\u4e0d\u8fc7 Martin \u8868\u793a\u81ea\u5df1\u4f9d\u7136\u575a\u6301\u4e4b\u524d\u7684\u89c2\u70b9\u3002\\n\\n## A More Flexible Paxos\\n\\n[[\u94fe\u63a5]](https://www.sougou.io/a-more-flexible-paxos)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u6765\u81ea Sugu Sougoumarane\uff0c\u8fd9\u4e2a\u540d\u5b57\u4f60\u4e5f\u8bb8\u964c\u751f\uff0c\u4e0d\u8fc7\u4ed6\u662f\u8457\u540d\u5f00\u6e90\u9879\u76ee [Vitess](https://vitess.io) \u7684\u521b\u59cb\u6210\u5458\u4e4b\u4e00\uff0c\u66fe\u5728 YouTube \u548c PayPal \u5de5\u4f5c\u3002\u6587\u7ae0\u7684\u4e3b\u9898\u662f\u4ecb\u7ecd\u4e00\u79cd\u66f4\u7075\u6d3b\u7684 Paxos \u7b97\u6cd5\u5b9e\u73b0\uff0c\u901a\u5e38\u6211\u4eec\u5bf9\u4e8e\u5171\u8bc6\u7b97\u6cd5\u7684\u7406\u89e3\u90fd\u8ba4\u4e3a\u5f53\u8fdb\u884c leader \u9009\u4e3e\u6216\u8005\u590d\u5236\u6570\u636e\u65f6\u9700\u8981\u81f3\u5c11\u591a\u6570\u7968\uff08quorum\uff09\u624d\u80fd\u4fdd\u8bc1\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5f3a\u4e00\u81f4\u6027\uff0c\u4f46\u662f Sugu \u63d0\u51fa\u4e00\u4e2a\u5047\u8bbe\uff0c\u5728\u5305\u542b N \u4e2a\u8282\u70b9\u7684\u96c6\u7fa4\u4e2d\uff0c\u5982\u679c\u53c2\u4e0e\u9009\u4e3e\u7684\u8282\u70b9\u6570\u662f L\uff0c\u53c2\u4e0e\u6570\u636e\u590d\u5236\u7684\u8282\u70b9\u6570\u662f P\uff0c\u90a3\u4e48\u53ea\u8981 L + P > N\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u4f9d\u7136\u662f\u53ef\u9760\u7684\u3002\u4f8b\u5982\u96c6\u7fa4\u6709 11 \u4e2a\u8282\u70b9\uff0c\u4f20\u7edf\u4e0a\u9700\u8981 11 / 2 + 1 = 6 \u4e2a\u8282\u70b9\u53c2\u4e0e\u9009\u4e3e\u548c\u6570\u636e\u590d\u5236\uff0c\u6309\u7167\u65b0\u7684\u7b97\u6cd5\u53ef\u4ee5\u7528 9 \u4e2a\u8282\u70b9\u53c2\u4e0e\u9009\u4e3e\uff0c\u7136\u540e\u7528 11 - 9 + 1 = 3 \u4e2a\u8282\u70b9\u53c2\u4e0e\u6570\u636e\u590d\u5236\u3002\u8fd9\u4e2a\u65b0\u7b97\u6cd5\u5e26\u6765\u7684\u597d\u5904\u662f\u968f\u7740 N \u7684\u589e\u5927\u4e0d\u4f1a\u5f71\u54cd\u5199\u6027\u80fd\uff08\u66f4\u5c0f\u7684 P\uff09\u3002\u65e0\u72ec\u6709\u5076\uff0cHeidi Howard\u3001Dahlia Malkhi \u548c Alexander Spiegelman \u4e5f\u6709\u7c7b\u4f3c\u7684\u89c2\u5bdf\uff08[\u4e0a\u4e00\u671f](/issues/9)\u66fe\u7ecf\u63d0\u5230\u8fc7 Dahlia\uff09\uff0c\u5e76\u5199\u4e86\u4e00\u7bc7\u8bba\u6587\u79f0\u4e4b\u4e3a [Flexible Paxos](https://fpaxos.github.io)\u3002\u76ee\u524d Flexible Paxos \u6700\u8457\u540d\u7684\u5b9e\u73b0\u6050\u6015\u5c31\u662f Facebook \u5f00\u6e90\u7684 [LogDevice](https://logdevice.io/docs/Consensus.html)\uff0c\u5df2\u7ecf\u88ab[\u7528](https://engineering.fb.com/2017/08/31/core-data/logdevice-a-distributed-data-store-for-logs)\u5728\u4e86\u5305\u62ec Scribe\u3001TAO\u3001\u673a\u5668\u5b66\u4e60 pipeline \u7b49\u573a\u666f\u3002\\n\\n## \u6628\u5929\u7684\u9ece\u5fd8\u5e74\u548c\u660e\u5929\u7684\u76d0\\n\\n[[\u94fe\u63a5]](https://mp.weixin.qq.com/s/V_gjwcIqnn6k350L_LK2wQ)\\n\\n\u6700\u65e9\u542c\u8bf4\u9ece\u5fd8\u5e74\u662f\u6765\u81ea[\u4e00\u4e2a\u670b\u53cb](/issues/5#boiled-hippo)\u4ecb\u7ecd\uff0c\u8fd9\u4e2a\u670b\u53cb\u548c\u9ece\u5fd8\u5e74\u662f\u6d59\u5927\u6821\u53cb\uff0c\u867d\u7136\u4e0d\u540c\u7ea7\u4e5f\u4e0d\u540c\u4e13\u4e1a\uff0c\u4f46\u56e0\u4e3a\u6709\u7740\u97f3\u4e50\u8fd9\u4e2a\u5171\u540c\u7684\u7231\u597d\u800c\u7ed3\u8bc6\u3002\u521d\u6b21\u89c1\u9762\u89c9\u5f97\u8fd9\u4e2a\u7537\u751f\u7626\u7626\u9ad8\u9ad8\uff0c\u8bb2\u8bdd\u58f0\u97f3\u4e5f\u4e0d\u5927\uff0c\u6ca1\u60f3\u5230\u540e\u6765\u7adf\u7136\u7ec4\u5efa\u4e86\u4e00\u4e2a\u540e\u670b\u4e50\u961f\uff0c\u4e5f\u5c31\u662f\u300c\u667a\u9f7f\u300d\u3002\u4ece\u667a\u9f7f\u7684\u97f3\u4e50\u80fd\u542c\u51fa\u5f88\u591a\u4e50\u961f\u7684\u5f71\u5b50\uff0c\u6bd4\u5982 Joy Division\u3001P.K. 14\uff0c\u770b\u8fc7\u552f\u4e00\u4e00\u6b21\u667a\u9f7f\u7684\u73b0\u573a\u662f\u5728\u4e0a\u6d77\u7684\u8001\u80b2\u97f3\u5802\uff0c\u90a3\u5929\u4ed6\u4eec\u7ffb\u5531\u4e86 P.K. 14 \u7684\u300a\u5feb\u300b\uff0c\u73b0\u5728\u60f3\u6765\u4e5f\u662f\u6bd4\u8f83\u5e78\u8fd0\u7684\uff0c\u56e0\u4e3a\u540e\u6765\u667a\u9f7f\u5c31\u89e3\u6563\u4e86\uff0c\u7559\u4e0b\u4e86\u4e00\u5f20\u7531\u6768\u6d77\u83d8\u5236\u4f5c\u7684[\u4e13\u8f91](https://downloads.maybemars.org/album/dance-on-the-street)\u3002\u667a\u9f7f\u867d\u7136\u89e3\u6563\u4e86\uff0c\u4f46\u662f\u9ece\u5fd8\u5e74\u7684\u4e50\u961f\u751f\u6daf\u8fd8\u5728\uff0c\u6700\u65b0\u7684\u4e50\u961f\u53eb\u505a\u300c\u660e\u5929\u7684\u76d0\u300d\uff0c\u8fd9\u7bc7\u91c7\u8bbf\u4e2d\u4e5f\u900f\u9732\u4e86\u4eca\u5e74\u5c06\u4f1a\u53d1\u5e03\u9996\u5f20\u4e13\u8f91\uff0c\u5236\u4f5c\u4eba\u662f\u6211\u975e\u5e38\u559c\u6b22\u7684\u97f3\u4e50\u4eba\u6768\u5e06\u3002"},{"id":"/9","metadata":{"permalink":"/issues/9","source":"@site/blog/9.md","title":"Issue #9","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aDelos\u3001Virtual Consensus\u3001Elastic Horovod\u3001OpenAI K8s\u3001Late Troubles","date":"2021-03-23T12:30:00.000Z","formattedDate":"March 23, 2021","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":24.785,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #9","date":"2021-03-23 12:30:00 +0800","tags":["issue"]},"prevItem":{"title":"Issue #10","permalink":"/issues/10"},"nextItem":{"title":"Issue #8","permalink":"/issues/8"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aDelos\u3001Virtual Consensus\u3001Elastic Horovod\u3001OpenAI K8s\u3001Late Troubles\\n\\n\x3c!--truncate--\x3e\\n\\n## Virtual Consensus in Delos\\n\\n[[\u94fe\u63a5]](https://www.usenix.org/conference/osdi20/presentation/balakrishnan)\\n\\n\u4e00\u81f4\u6027\u534f\u8bae\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u9886\u57df\u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u5728\u4e4b\u524d\u4ecb\u7ecd\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\u7684[\u4e00\u7bc7\u6587\u7ae0](https://xiaogaozi.org/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\u4e2d\u5df2\u7ecf\u7b80\u5355\u68b3\u7406\u4e86\u4e00\u81f4\u6027\u534f\u8bae\u7684\u4e0d\u540c\u7c7b\u522b\u4ee5\u53ca\u4e00\u4e9b\u7ecf\u5178\u7684\u5171\u8bc6\u7b97\u6cd5\u3002\u4eca\u5929\u8981\u4ecb\u7ecd\u7684\u8fd9\u7bc7\u8bba\u6587\u5e76\u4e0d\u662f\u53d1\u660e\u4e86\u4e00\u79cd\u65b0\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u800c\u662f\u5bf9\u4e00\u81f4\u6027\u534f\u8bae\u8fdb\u884c\u4e86\u62c6\u89e3\u548c\u62bd\u8c61\uff08\u5373\u8bba\u6587\u6807\u9898\u4e2d Virtual Consensus \u7684\u542b\u4e49\uff09\uff0c\u8fd9\u4e2a\u62bd\u8c61\u53ef\u4ee5\u7b80\u5316\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5f00\u53d1\u548c\u52a0\u5feb\u8fed\u4ee3\u901f\u5ea6\u3002Delos \u76ee\u524d\u5df2\u7ecf\u4f5c\u4e3a Facebook \u96c6\u7fa4\u8c03\u5ea6\u7ba1\u7406\u7cfb\u7edf [Twine](https://www.usenix.org/conference/osdi20/presentation/tang) \u7684\u63a7\u5236\u5e73\u9762\uff08control plane\uff09\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7a33\u5b9a\u8fd0\u884c\u6570\u5e74\uff08Delos \u662f\u5e0c\u814a Cyclades \u7fa4\u5c9b\u4e2d\u4e00\u4e2a\u5c9b\u5c7f\u7684\u540d\u79f0\uff0c\u79bb Paxos \u5c9b\u4e0d\u8fdc\uff09\u3002\u672c\u7bc7\u8bba\u6587\u53d1\u8868\u5728 2020 \u5e74\u7684 OSDI \u4f1a\u8bae\uff0c\u5e76\u83b7\u5f97\u4e86\u5f53\u5e74\u7684\u6700\u4f73\u8bba\u6587\u3002\\n\\n\u5728\u4ecb\u7ecd Delos \u7cfb\u7edf\u4e4b\u524d\u5148\u8bb2\u8bb2\u4e3a\u4ec0\u4e48\u8981\u6709 Virtual Consensus \u8fd9\u4e2a\u6982\u5ff5\u3002\u73b0\u6709\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u901a\u5e38\u90fd\u662f\u57fa\u4e8e\u67d0\u4e00\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u6765\u5f00\u53d1\u7684\uff0c\u6bd4\u5982 ZooKeeper \u662f\u57fa\u4e8e Zab\u3001etcd \u662f\u57fa\u4e8e Raft\u3001Chubby \u662f\u57fa\u4e8e Paxos\u3002\u540c\u65f6\u5b66\u672f\u754c\u5bf9\u4e8e\u4e00\u81f4\u6027\u534f\u8bae\u7684\u7814\u7a76\u5e76\u6ca1\u6709\u4e2d\u6b62\uff0c\u4e0d\u65ad\u4f1a\u6709\u65b0\u7684\u534f\u8bae\u51fa\u73b0\uff08[\u5927\u90e8\u5206](https://vadosware.io/post/paxosmon-gotta-concensus-them-all)\u53ef\u80fd\u90fd\u662f\u57fa\u4e8e Paxos \u8fdb\u884c\u6539\u826f\uff09\u3002\u56e0\u4e3a\u8fd9\u4e9b\u7cfb\u7edf\u7684\u5206\u5e03\u5f0f\u534f\u8bae\u5c42\u548c\u72b6\u6001\u590d\u5236\u5c42\u662f\u7d27\u8026\u5408\u7684\uff0c\u5982\u679c\u60f3\u8981\u4ece\u4e00\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u5207\u6362\u5230\u53e6\u4e00\u79cd\uff0c\u57fa\u672c\u4e0a\u662f\u9700\u8981\u91cd\u5199\u7cfb\u7edf\u7684\uff08\u5f53\u7136\u5f88\u591a\u4eba\u4e5f\u559c\u6b22\u91cd\u590d\u9020\u8f6e\u5b50\uff09\u3002\u65f6\u95f4\u56de\u6eaf\u5230 2017 \u5e74\uff0c\u5f53\u65f6\u7684 Facebook \u9700\u8981\u4e00\u4e2a\u4fdd\u8bc1\u4e00\u81f4\u6027\u3001\u53ef\u7528\u6027\u3001\u6301\u4e45\u6027\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u4f5c\u4e3a\u4ed6\u4eec\u7684\u6838\u5fc3\u63a7\u5236\u5e73\u9762\u6765\u5b58\u50a8\u5143\u6570\u636e\uff0c\u8fd9\u4e2a\u7cfb\u7edf\u8981\u5728 6-9 \u4e2a\u6708\u4e4b\u5185\u4e0a\u7ebf\uff0c\u5e76\u4e14\u652f\u6301\u6301\u7eed\u7684\u8fed\u4ee3\u3002\u867d\u7136\u5f53\u65f6\u5df2\u7ecf\u6709\u4e00\u4e9b\u73b0\u6210\u7684\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9\uff0c\u6bd4\u5982 ZooKeeper\u3001[ZippyDB](https://www.usenix.org/conference/osdi18/presentation/annamalai)\u3001[UDB](https://www.usenix.org/conference/fast20/presentation/cao-zhichao)\uff08\u5206\u5e03\u5f0f MySQL\uff09\u3001[LogDevice](https://logdevice.io)\uff0c\u4f46\u8fd9\u4e9b\u7cfb\u7edf\u8981\u4e48\u4e0d\u652f\u6301\u590d\u6742\u7684 API\uff08\u6bd4\u5982 get\u3001put\u3001multi-get\u3001multi-put\u3001scan \u7b49\uff09\uff0c\u8981\u4e48\u53ef\u7528\u6027\u8fbe\u4e0d\u5230\u8981\u6c42\u3002\u66f4\u91cd\u8981\u7684\u662f\u6bcf\u4e2a\u7cfb\u7edf\u90fd\u548c\u67d0\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u7ed1\u5b9a\uff0c\u6ca1\u6cd5\u5e73\u6ed1\u8fc7\u6e21\u5230\u65b0\u7684\u534f\u8bae\u3002\\n\\n\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c Delos \u63d0\u51fa\u4e86 Virtual Consensus \u8fd9\u4e2a\u6982\u5ff5\uff08\u4ee5\u4e0b\u7b80\u79f0 VC\uff09\uff0cVC \u7684\u76ee\u6807\u662f\u53ef\u4ee5\u5e73\u6ed1\u5207\u6362\u4e00\u81f4\u6027\u534f\u8bae\uff08\u751a\u81f3\u540c\u65f6\u4f7f\u7528\u591a\u79cd\u534f\u8bae\uff09\uff0c\u5e76\u628a\u4e00\u81f4\u6027\u534f\u8bae\u4e2d\u5f88\u591a\u53ef\u4ee5\u590d\u7528\u7684\u903b\u8f91\u62bd\u51fa\u6765\uff0c\u4ece\u800c\u964d\u4f4e\u5b9e\u73b0\u65b0\u534f\u8bae\u7684\u6210\u672c\u3002 VC \u628a\u4e00\u81f4\u6027\u534f\u8bae\u5206\u89e3\u4e3a\u4e86\u63a7\u5236\u5e73\u9762\u548c\u6570\u636e\u5e73\u9762\u4e24\u90e8\u5206\uff0c\u63a7\u5236\u5e73\u9762\u8d1f\u8d23 leader \u9009\u4e3e\u3001\u914d\u7f6e\u53c2\u6570\u3001\u6210\u5458\u7ba1\u7406\u7b49\uff0c\u6570\u636e\u5e73\u9762\u8d1f\u8d23\u4fdd\u8bc1\u6570\u636e\u7684\u987a\u5e8f\uff08ordering\uff09\u4ee5\u53ca\u6301\u4e45\u6027\u3002\u5728 VC \u4e2d\u63a7\u5236\u5e73\u9762\u79f0\u4f5c\u300cVirtualLog\u300d\uff0c\u8fd9\u662f\u53ef\u4ee5\u590d\u7528\u7684\u90e8\u5206\uff1b\u6570\u636e\u5e73\u9762\u79f0\u4f5c\u300cLoglet\u300d\uff0cLoglet \u53ef\u4ee5\u7528\u4e0d\u540c\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff08\u6bd4\u5982 Raft\u3001Paxos\uff09\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u5176\u5b83\u5206\u5e03\u5f0f\u7cfb\u7edf\uff08\u6bd4\u5982 ZooKeeper\u3001HDFS\uff09\u7684\u5c01\u88c5\u3002\u5982\u540c\u865a\u62df\u5185\u5b58\u4e00\u6837\uff0cVirtualLog \u628a\u591a\u4e2a\u7269\u7406\u7684 Logets \u6620\u5c04\u5230\u4e00\u4e2a\u8fde\u7eed\u7684\u865a\u62df\u7684 VirtualLog \u5730\u5740\u7a7a\u95f4\u4e2d\u3002\u5bf9 VirtualLog \u7684\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u4e9b Loglets \u7684\u7ec6\u8282\u88ab VirtualLog \u9690\u85cf\u4e86\u8d77\u6765 \uff0c\u770b\u8d77\u6765\u5c31\u50cf\u662f\u4e00\u4e2a\u8fde\u7eed\u7684 log\u3002\\n\\nVirtualLog \u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u4e00\u4e2a\u5ba2\u6237\u7aef\u5c42\u66b4\u9732\u8bbf\u95ee log \u7684 API\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7ba1\u7406\u5143\u6570\u636e\u7684 MetaStore\u3002\u8fd9\u91cc\u7684\u5143\u6570\u636e\u662f\u6307\u4ece VirtualLog \u5730\u5740\u5230 Loglet \u7684\u6620\u5c04\u5173\u7cfb\uff0c\u591a\u4e2a Loglets \u7ec4\u6210\u4e86\u4e00\u4e2a\u94fe\uff08chain\uff09\uff0c\u7c7b\u4f3c\u4e00\u4e2a\u5355\u5411\u94fe\u8868\u3002\u968f\u7740\u65f6\u95f4\u63a8\u79fb\uff0c\u94fe\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u52a8\uff08\u6bd4\u5982\u4ece 1 \u4e2a Loglet \u53d8\u6210 2 \u4e2a\uff09\uff0cMetaStore \u5728\u4fdd\u5b58\u6bcf\u4e2a\u94fe\u65f6\u4e5f\u4f1a\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u7248\u672c\u53f7\uff0c\u6bcf\u5f53\u9700\u8981\u66f4\u65b0\u94fe\u65f6\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u66f4\u5927\u7684\u7248\u672c\u53f7\uff0c\u8fd9\u4e2a\u66f4\u65b0\u64cd\u4f5c\u662f\u4e00\u4e2a\u7c7b\u4f3c CAS\uff08compare-and-swap\uff09\u7684\u8fc7\u7a0b\uff0c\u4f1a\u548c\u5f53\u524d\u7248\u672c\u53f7\u8fdb\u884c\u6bd4\u8f83\uff0c\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u907f\u514d\u5e76\u53d1\u51b2\u7a81\u3002\u5f53\u9700\u8981\u4fee\u6539\u94fe\u65f6\u5c31\u4f1a\u89e6\u53d1\u300c\u91cd\u65b0\u914d\u7f6e\uff08reconfiguration\uff09\u300d\u6d41\u7a0b\uff0c\u8fd9\u4e2a\u6d41\u7a0b\u5206\u4e3a 3 \u6b65\uff1a\u5bc6\u5c01\uff08sealing\uff09\u5f53\u524d\u94fe\u3001\u628a MetaStore \u4e2d\u7684\u94fe\u4fee\u6539\u4e3a\u65b0\u7684\u94fe\u3001\u4ece MetaStore \u83b7\u53d6\u65b0\u7684\u94fe\u3002MetaStore \u9700\u8981\u4fdd\u8bc1\u5bb9\u9519\u4e00\u81f4\u6027\uff08fault-tolerant consensus\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f97\u901a\u8fc7\u7c7b\u4f3c Paxos \u8fd9\u6837\u7684\u4e00\u81f4\u6027\u534f\u8bae\u53bb\u5b9e\u73b0\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\u5177\u4f53\u5982\u4f55\u5b9e\u73b0\u3002\\n\\n\u56e0\u4e3a VirtualLog \u5df2\u7ecf\u8d1f\u8d23\u4e86\u63a7\u5236\u5e73\u9762\u7684\u5de5\u4f5c\uff0cLoglet \u7684\u804c\u8d23\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u6570\u636e\u7684\u5168\u5c40\u987a\u5e8f\u6027\uff08total order\uff09\u4ee5\u53ca\u6301\u4e45\u6027\uff0c\u4e0d\u9700\u8981\u627f\u62c5 leader \u9009\u4e3e\u3001\u6210\u5458\u53d8\u66f4\u7ba1\u7406\u7b49\u5de5\u4f5c\uff0c\u4e5f\u4e0d\u9700\u8981\u5b9e\u73b0\u5bb9\u9519\u4e00\u81f4\u6027\uff0c\u56e0\u6b64\u5b9e\u73b0\u4e00\u4e2a Loglet \u7684\u6210\u672c\u975e\u5e38\u4f4e\uff08\u76f8\u6bd4\u5b9e\u73b0\u4e00\u4e2a\u5b8c\u6574\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff09\u3002\u4f46\u6709\u4e00\u4e2a\u8981\u6c42\u5fc5\u987b\u6ee1\u8db3\uff0c\u524d\u9762\u63d0\u5230\u5728\u91cd\u65b0\u914d\u7f6e\u65f6\u9700\u8981\u5bc6\u5c01\u94fe\uff0c\u8fd9\u4e2a\u5bc6\u5c01\u64cd\u4f5c\u662f\u901a\u8fc7\u53d1\u9001 `seal` \u547d\u4ee4\u7ed9 Loglet \u5b9e\u73b0\u7684\uff0cLoglet \u8d1f\u8d23\u66f4\u65b0\u672c\u5730\u7684 seal \u72b6\u6001\uff0cseal \u72b6\u6001\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u4f1a\u6709\u4e24\u79cd\u53d6\u503c\u3002\u4e3a\u4e86\u4fdd\u8bc1\u540e\u7eed\u4e0d\u4f1a\u9519\u8bef\u5730\u628a\u65b0\u6570\u636e\u6dfb\u52a0\u5230\u5df2\u7ecf\u5bc6\u5c01\u7684\u94fe\uff0cLoglet \u9700\u8981\u4fdd\u8bc1 `seal` \u547d\u4ee4\u662f\u9ad8\u53ef\u7528\u7684\uff08highly available\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u786e\u4fdd\u5927\u591a\u6570\uff08quorum\uff09\u7684 Loglet \u90fd\u66f4\u65b0\u5b8c\u6210\u3002\\n\\n\u5728\u4e86\u89e3\u5b8c VC \u7684\u6982\u5ff5\u4ee5\u540e\u6765\u770b\u770b Delos \u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002Delos \u662f\u4e00\u4e2a\u57fa\u4e8e VC \u601d\u60f3\u5b9e\u73b0\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u53ef\u4ee5\u7b80\u5355\u628a\u5b83\u7406\u89e3\u6210\u7c7b\u4f3c etcd\u3001ZooKeeper \u7684\u7cfb\u7edf\u3002Delos \u5206\u4e3a 3 \u5c42\uff1aAPI\u3001Core \u548c Loglet\u3002API \u5c42\u63d0\u4f9b\u591a\u79cd\u7c7b\u578b\u7684\u63a5\u53e3\uff0c\u4f8b\u5982 table API\u3001ZooKeeper API\uff1bCore \u5c42\u9664\u4e86\u5305\u542b VirtualLog \u4ee5\u5916\uff0c\u8fd8\u6709 Delos \u81ea\u5df1\u7684 runtime\uff0c\u4ee5\u53ca\u57fa\u4e8e RocksDB \u7684\u672c\u5730\u5b58\u50a8\uff1bLoglet \u5c42\u5c31\u662f\u5404\u79cd\u4e0d\u540c\u7684 Loglet \u5b9e\u73b0\u3002\u5f53 Delos \u63a5\u6536\u5230\u8bfb\u5199\u4e8b\u52a1\uff08read-write transaction\uff09\u65f6\u4f1a\u5148\u5c06\u6570\u636e\u8ffd\u52a0\uff08append\uff09\u5230 VirtualLog\uff0cVirtualLog \u8d1f\u8d23\u628a\u6570\u636e\u53d1\u9001\u7ed9\u5e95\u5c42\u7684 Loglet\uff08\u5177\u4f53 Loglet \u600e\u4e48\u5904\u7406 append \u8bf7\u6c42\u540e\u9762\u4f1a\u8bb2\uff09\uff0c\u7136\u540e Delos \u5f00\u59cb\u4ece VirtualLog \u540c\u6b65\uff08synchronize\uff09\u65e5\u5fd7\uff0c\u6bcf\u5f53\u8bfb\u5230\u4e00\u4e2a\u4e8b\u52a1\uff08\u8fd9\u4e2a\u4e8b\u52a1\u65e2\u53ef\u80fd\u662f\u5f53\u524d Delos \u8282\u70b9\u4e5f\u53ef\u80fd\u662f\u5176\u5b83\u8282\u70b9\u5199\u7684\uff09\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5e76\u4fdd\u5b58\u5230\u672c\u5730\u7684 RocksDB \u4e2d\uff0c\u6700\u540e\u5f53\u628a\u5f53\u524d Delos \u8282\u70b9\u81ea\u5df1\u5199\u5165\u7684\u6700\u540e\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u5b8c\u6bd5\u540e\u5c31\u8fd4\u56de\u8bf7\u6c42\u3002\u5bf9\u5e94\u7684\uff0cDelos \u63a5\u6536\u5230\u53ea\u8bfb\u4e8b\u52a1\uff08read-only transaction\uff09\u65f6\uff0c\u9996\u5148\u901a\u8fc7 VirtualLog \u68c0\u67e5\u5168\u5c40\u65e5\u5fd7\u7684\u672b\u5c3e\uff08tail\uff09\u4f4d\u7f6e\u662f\u591a\u5c11\uff0c\u7136\u540e\u4e0e VirtualLog \u540c\u6b65\u65e5\u5fd7\u76f4\u5230\u8fbe\u5230\u4e0a\u4e00\u6b65\u5f97\u5230\u7684\u4f4d\u7f6e\uff08\u540c\u6b65\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u5199\u4e8b\u52a1\u5c31\u9700\u8981\u66f4\u65b0 RocksDB\uff09\uff0c\u6700\u540e\u5728\u672c\u5730\u7684 RocksDB \u4e2d\u6267\u884c\u8fd9\u4e2a\u8bfb\u8bf7\u6c42\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u5904\u7406\u53ea\u8bfb\u4e8b\u52a1\u65f6 Delos \u8282\u70b9\u53ef\u80fd\u9700\u8981\u4e0e\u5e95\u5c42 Loglet \u540c\u6b65\u65e5\u5fd7\uff0c\u8fd9\u663e\u7136\u4f1a\u5bf9\u8bfb\u6027\u80fd\u9020\u6210\u5f71\u54cd\uff0c\u4e3a\u4e86\u4f18\u5316\u8fd9\u4e00\u6b65 Delos \u4f1a\u5728\u4e0e VirtualLog \u7684\u4e00\u6b21\u540c\u6b65\u8bf7\u6c42\u4e2d\u5305\u542b\u591a\u4e2a\u53ea\u8bfb\u4e8b\u52a1\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u540c\u6b65\u8bf7\u6c42\u53ea\u5904\u7406\u4e00\u4e2a\u4e8b\u52a1\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\u5982\u679c\u9700\u8981\u540c\u6b65\u7684\u65e5\u5fd7\u4e2d\u4e0d\u5305\u542b\u4efb\u4f55\u5199\u4e8b\u52a1\u90a3\u5176\u5b9e\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u6b65\u3002\\n\\n\u524d\u9762\u63d0\u5230 VirtualLog \u9700\u8981\u4e00\u4e2a MetaStore \u6765\u4fdd\u5b58\u5f53\u524d\u7684\u94fe\u72b6\u6001\uff0cDelos \u6700\u521d\u662f\u901a\u8fc7\u5916\u90e8\u7684 ZooKeeper \u670d\u52a1\u6765\u4f5c\u4e3a MetaStore\u3002\u540e\u6765\u4e3a\u4e86\u53bb\u6389\u5bf9\u5916\u90e8\u7cfb\u7edf\u7684\u4f9d\u8d56\u6539\u4e3a\u4e86\u5728 Delos \u670d\u52a1\u4e2d\u5185\u5d4c\u4e00\u4e2a MetaStore\uff0c\u591a\u4e2a Delos \u670d\u52a1\u4fbf\u6784\u6210\u4e86\u4e00\u4e2a MetaStore \u96c6\u7fa4\uff0c\u5e76\u901a\u8fc7 Paxos \u6765\u4fdd\u8bc1\u5bb9\u9519\u4e00\u81f4\u6027\u3002\\n\\nDelos \u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u4e86 5 \u79cd Loglet\uff1aZKLoglet \u57fa\u4e8e ZooKeeper \u5b9e\u73b0\uff0c\u8fd9\u662f Delos \u6700\u521d\u4e0a\u7ebf\u65f6\u4f7f\u7528\u7684 Loglet\uff1bLogDeviceLoglet \u57fa\u4e8e LogDevice \u5b9e\u73b0\uff1bBackupLoglet \u57fa\u4e8e\u7c7b\u4f3c HDFS \u7684\u7cfb\u7edf\u5b9e\u73b0\uff0c\u76ee\u7684\u662f\u4f5c\u4e3a\u65e5\u5fd7\u7684\u51b7\u5b58\uff1bNativeLoglet \u987e\u540d\u601d\u4e49\u662f\u6700\u539f\u751f\u7684 Loglet\uff0c\u53ea\u5305\u542b\u6700\u5fc5\u8981\u7684\u529f\u80fd\uff0c\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5916\u90e8\u7cfb\u7edf\uff0c\u4e5f\u662f\u76ee\u524d Delos \u5728\u4f7f\u7528\u7684 Loglet\uff08\u66ff\u4ee3 ZKLoglet\uff09\uff1b\u6700\u540e\u662f StripedLoglet\uff0c\u8fd9\u4e2a Loglet \u5176\u5b9e\u662f\u591a\u4e2a\u5176\u5b83 Loglet \u7684\u7ec4\u5408\uff0c\u53ef\u4ee5\u6709\u591a\u79cd\u7ec4\u5408\u65b9\u5f0f\u3002\u8bba\u6587\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u540e\u4e24\u79cd Loglet\u3002\\n\\nNativeLoglet \u7531\u4e24\u4e2a\u7ec4\u4ef6\u7ec4\u6210\uff1aLogServer \u548c Sequencer\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u90fd\u662f\u72ec\u7acb\u7684\u670d\u52a1\uff0c\u5e76\u4e14\u548c Delos \u670d\u52a1\u90e8\u7f72\u5728\u4e00\u8d77\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u5206\u5f00\uff09\u3002LogServer \u8d1f\u8d23\u5904\u7406\u6709\u5173\u65e5\u5fd7\u7684\u5404\u79cd\u8bf7\u6c42\uff0c\u5e76\u5c06\u65e5\u5fd7\u6301\u4e45\u5316\u5230\u672c\u5730\u78c1\u76d8\uff0cLogServer \u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4e14\u9700\u8981\u4e3a\u5947\u6570\u4e2a\uff08\u56e0\u4e3a\u6d89\u53ca\u5230\u7c7b\u4f3c\u6295\u591a\u6570\u7968\u7684\u573a\u666f\uff09\uff1bSequencer \u53ea\u6709 1 \u4e2a\uff0c\u804c\u8d23\u4e5f\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u5904\u7406 `append` \u8bf7\u6c42\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5904\u7406\u6d41\u7a0b\u3002\\n\\n\u8fd9\u91cc\u6709\u51e0\u4e2a\u6982\u5ff5\u9700\u8981\u5148\u4ecb\u7ecd\u4e00\u4e0b\u3002\u5f53\u8bf4\u5230\u4e00\u4e2a\u547d\u4ee4\u88ab\u300c\u672c\u5730\u63d0\u4ea4\uff08locally committed\uff09\u300d\u65f6\u8868\u793a\u7684\u662f\u4e00\u4e2a LogServer \u5df2\u7ecf\u5c06\u8fd9\u4e2a\u547d\u4ee4\u540c\u6b65\u5230\u4e86\u5b83\u7684\u672c\u5730\u65e5\u5fd7\u4e2d\u3002\u5f53\u8bf4\u5230\u4e00\u4e2a\u547d\u4ee4\u88ab\u300c\u5168\u5c40\u63d0\u4ea4\uff08globally committed\uff09\u300d\u65f6\u8868\u793a\u8fd9\u4e2a\u547d\u4ee4\u5df2\u7ecf\u88ab\u5927\u591a\u6570\u7684 LogServer \u672c\u5730\u63d0\u4ea4\uff0c\u5e76\u4e14\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u524d\u7684\u6240\u6709\u547d\u4ee4\u4e5f\u90fd\u5df2\u7ecf\u5168\u5c40\u63d0\u4ea4\u3002\u300c\u5168\u5c40\u672b\u5c3e\uff08global tail\uff09\u300d\u8868\u793a\u6700\u8fd1\u4e00\u4e2a\u8fd8\u6ca1\u6709\u88ab\u5168\u5c40\u63d0\u4ea4\u7684\u65e5\u5fd7\u4f4d\u7f6e\uff0cNativeLoglet \u7684\u65e5\u5fd7\u662f\u6ca1\u6709\u7a7a\u9699\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4f4d\u7f6e 0 \u5f00\u59cb\u5230\u5168\u5c40\u672b\u5c3e\u7ed3\u675f\u4e2d\u95f4\u7684\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u6709\u65e5\u5fd7\u6570\u636e\u3002\u540c\u65f6\u6bcf\u4e2a\u7ec4\u4ef6\uff08LogServer\u3001Sequencer\u3001Delos \u670d\u52a1\u7b49\uff09\u90fd\u7ef4\u62a4\u4e86\u4e00\u4e2a `knownTail` \u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4fdd\u5b58\u7684\u662f\u5f53\u524d\u8fd9\u4e2a\u7ec4\u4ef6\u83b7\u53d6\u5230\u7684\u5168\u5c40\u672b\u5c3e\u7684\u503c\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u4e4b\u95f4\u5728\u4ea4\u4e92\u65f6\u90fd\u4f1a\u5e26\u4e0a\u5404\u81ea\u7684 `knownTail`\uff0c\u5982\u679c\u53d1\u73b0\u81ea\u5df1\u672c\u5730\u7684\u503c\u66f4\u5c0f\u5c31\u66f4\u65b0\u5230\u6700\u65b0\u7684\u503c\u3002\\n\\n\u63a5\u4e0b\u6765\u8bb2\u4e00\u4e0b NativeLoglet \u652f\u6301\u7684\u51e0\u79cd\u8bf7\u6c42\u3002\u9996\u5148\u662f `append` \u8bf7\u6c42\uff0cDelos \u670d\u52a1\u4f1a\u5c06\u8bf7\u6c42\u53d1\u9001\u7ed9 Sequencer\uff0cSequencer \u4f1a\u7ed9\u6bcf\u4e2a\u547d\u4ee4\u5206\u914d\u4e00\u4e2a\u4f4d\u7f6e\uff08\u7c7b\u4f3c\u4e00\u4e2a\u8ba1\u6570\u5668\uff09\uff0c\u7136\u540e Sequencer \u8d1f\u8d23\u8f6c\u53d1\u547d\u4ee4\u7ed9\u6240\u6709 LogServer\uff0c\u5f53\u5927\u591a\u6570 LogServer \u90fd\u6b63\u5e38\u8fd4\u56de\u65f6\u5373\u8868\u793a\u8bf7\u6c42\u6210\u529f\u3002\u5982\u679c\u5927\u591a\u6570 LogServer \u90fd\u8fd4\u56de\u8bf4\u5df2\u7ecf\u5bc6\u5c01\u4e86\uff0c\u8bf7\u6c42\u4f1a\u5931\u8d25\u3002\u9664\u6b64\u4e4b\u5916\u7684\u5176\u5b83\u60c5\u51b5\uff08\u6bd4\u5982\u8d85\u65f6\u3001LogServer \u8bf7\u6c42\u5931\u8d25\u7b49\uff09Sequencer \u90fd\u4f1a\u4e0d\u65ad\u91cd\u8bd5\u76f4\u5230\u8bf7\u6c42\u6210\u529f\u6216\u8005 NativeLoglet \u88ab\u5bc6\u5c01\uff0c\u91cd\u8bd5\u662f\u5e42\u7b49\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u540c\u6837\u7684\u547d\u4ee4\u4e00\u5b9a\u4f1a\u5199\u5165\u540c\u6837\u7684\u4f4d\u7f6e\u3002Sequencer \u7ef4\u62a4\u4e86\u4e00\u4e2a\u8bf7\u6c42\u961f\u5217\uff0c\u5f53\u6536\u5230\u5927\u591a\u6570 LogServer \u7684\u8fd4\u56de\u65f6\u5373\u8ba4\u4e3a\u8fd9\u4e2a\u547d\u4ee4\u5df2\u7ecf\u5168\u5c40\u63d0\u4ea4\uff0c\u90a3\u4e9b\u53d1\u9001\u7ed9\u8fd8\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c\u7684 LogServer \u7684\u8bf7\u6c42\u5c31\u53ef\u4ee5\u5ffd\u7565\u4e86\uff0c\u8fd9\u6837\u5904\u7406\u53ef\u4ee5\u9632\u6b62\u67d0\u4e9b\u7279\u522b\u6162\u7684 LogServer \u5f71\u54cd\u6574\u4f53\u6027\u80fd\uff0c\u540c\u65f6\u4ece\u8fd9\u91cc\u4e5f\u80fd\u770b\u5230\u6bcf\u4e2a LogServer \u4fdd\u5b58\u7684\u547d\u4ee4\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u7f3a\u5931\u7684\u547d\u4ee4\u4e5f\u4e0d\u9700\u8981\u8865\u4e0a\u3002\\n\\n\u7136\u540e\u662f `seal` \u8bf7\u6c42\u3002\u6b63\u5982\u524d\u9762\u6240\u4ecb\u7ecd\u7684\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u662f\u7528\u4e8e\u5bc6\u5c01 Loglet\u3002\u4efb\u4f55\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\u7ed9 LogServer\uff0c\u5f53\u5927\u591a\u6570 LogServer \u90fd\u6b63\u5e38\u8fd4\u56de\u65f6\u5373\u8868\u793a\u8bf7\u6c42\u6210\u529f\uff0c\u540e\u7eed\u7684 `append` \u8bf7\u6c42\u4e5f\u4f1a\u5931\u8d25\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u5f53 LogServer \u88ab\u5bc6\u5c01\u4ee5\u540e\uff0c\u6bcf\u4e2a LogServer \u672c\u5730\u65e5\u5fd7\u7684\u672b\u5c3e\uff08tail\uff09\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u3002\\n\\n\u63a5\u7740\u662f `checkTail` \u8bf7\u6c42\u3002\u8fd9\u4e2a\u8bf7\u6c42\u4f1a\u8fd4\u56de\u5168\u5c40\u672b\u5c3e\u4ee5\u53ca\u5f53\u524d NativeLoglet \u7684\u5bc6\u5c01\u72b6\u6001\u3002\u4efb\u4f55\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\u7ed9 LogServer\uff0c\u5e76\u7b49\u5f85\u5927\u591a\u6570 LogServer \u8fd4\u56de\u3002\u4e00\u65e6\u5927\u591a\u6570 LogServer \u8fd4\u56de\uff0c`checkTail` \u8bf7\u6c42\u4f1a\u6839\u636e\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u4e0d\u540c\u7684\u540e\u7eed\u5904\u7406\uff0c\u8fd9\u4e9b\u8fd4\u56de\u7ed3\u679c\u4f1a\u6709 3 \u79cd\u53ef\u80fd\uff1a\u5168\u90e8\u5bc6\u5c01\u3001\u90e8\u5206\u5bc6\u5c01\u3001\u5168\u90e8\u672a\u5bc6\u5c01\u3002\u300c\u5168\u90e8\u5bc6\u5c01\u300d\u5373\u6240\u6709 LogServer \u90fd\u5df2\u7ecf\u5904\u4e8e\u5bc6\u5c01\u72b6\u6001\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u540c\u65f6\u4e5f\u4f1a\u5305\u542b\u6bcf\u4e2a LogServer \u7684\u672b\u5c3e\u4f4d\u7f6e\uff0c\u524d\u9762\u4ecb\u7ecd `seal` \u8bf7\u6c42\u5df2\u7ecf\u63d0\u5230\u4e0d\u540c LogServer \u5bc6\u5c01\u540e\u7684\u672b\u5c3e\u53ef\u80fd\u662f\u4e0d\u540c\u7684\uff0c\u5f53 `checkTail` \u53d1\u73b0\u8fd9\u79cd\u60c5\u51b5\u65f6\u4f1a\u89e6\u53d1\u4e00\u4e2a\u4fee\u590d\uff08repair\uff09\u64cd\u4f5c\uff0c\u5bf9\u90a3\u4e9b\u6709\u6f0f\u6389\u547d\u4ee4\u7684 LogServer \u8fdb\u884c\u8865\u5168\uff08\u901a\u8fc7\u4ece\u5176\u5b83 LogServer \u62f7\u8d1d\u6570\u636e\u8fc7\u6765\uff09\u3002\u300c\u90e8\u5206\u5bc6\u5c01\u300d\u5373\u8fd4\u56de\u7ed3\u679c\u4e2d\u540c\u65f6\u5b58\u5728\u5bc6\u5c01\u548c\u672a\u5bc6\u5c01\u4e24\u79cd\u72b6\u6001\uff0c\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\u5ba2\u6237\u7aef\u4f1a\u5148\u53d1\u9001 `seal` \u8bf7\u6c42\u7ed9 LogServer\uff0c\u7136\u540e\u518d\u6b21\u53d1\u9001 `checkTail`\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u90fd\u4f1a\u5f97\u5230\u5168\u90e8\u5bc6\u5c01\u7684\u7ed3\u679c\u3002\u300c\u5168\u90e8\u672a\u5bc6\u5c01\u300d\u5373\u6240\u6709 LogServer \u90fd\u5904\u4e8e\u672a\u5bc6\u5c01\u72b6\u6001\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u4f1a\u4ece\u6240\u6709 LogServer \u8fd4\u56de\u7684\u672b\u5c3e\u4f4d\u7f6e\u4e2d\u6311\u9009\u6700\u5927\u7684\u90a3\u4e2a\u503c\uff0c\u7136\u540e\u7b49\u5f85\u5b83\u81ea\u5df1\u7684 `knownTail` \u8fbe\u5230\u8fd9\u4e2a\u503c\uff08\u8bba\u6587\u4e2d\u5e76\u6ca1\u6709\u5177\u4f53\u4ecb\u7ecd\u5ba2\u6237\u7aef\u7684 `knownTail` \u662f\u5982\u4f55\u66f4\u65b0\uff09\uff0c\u5982\u679c\u7b49\u5f85\u8fc7\u7a0b\u4e2d\u6709 LogServer \u88ab\u5bc6\u5c01\u4e86\u5c31\u4f1a\u53d8\u6210\u300c\u90e8\u5206\u5bc6\u5c01\u300d\u7684\u72b6\u6001\uff0c\u6b64\u65f6\u5c31\u4f1a\u6309\u7167\u521a\u624d\u63cf\u8ff0\u7684\u6d41\u7a0b\u8fdb\u884c\u5904\u7406\u3002\\n\\n\u6700\u540e\u662f `readNext` \u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7 `checkTail` \u83b7\u53d6\u5230\u5168\u5c40\u672b\u5c3e\uff0c\u56e0\u6b64\u5b83\u4f1a\u6839\u636e\u8fd9\u4e2a\u672b\u5c3e\u4f4d\u7f6e\u9996\u5148\u8bf7\u6c42\u672c\u5730\u7684 LogServer\uff08\u524d\u9762\u63d0\u5230\u8fc7 LogServer \u548c Delos \u670d\u52a1\u662f\u90e8\u7f72\u5728\u4e00\u8d77\u7684\uff09\uff0c\u5982\u679c\u672c\u5730\u7684 LogServer \u6ca1\u6709\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u6570\u636e\uff0c\u5c31\u4f1a\u518d\u53d1\u9001\u8bf7\u6c42\u7ed9\u5176\u5b83 LogServer\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f NativeLoglet \u7684\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u5b83\u4e0d\u9700\u8981\u5177\u5907\u7c7b\u4f3c\u5bb9\u9519\u4e00\u81f4\u6027\u8fd9\u6837\u7684\u7279\u6027\uff0cFacebook \u4ec5\u4ec5\u7528\u4e86 4 \u4e2a\u6708\u5c31\u5b9e\u73b0\u5b8c\u6210\u5e76\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002\u5f53\u7136 LogServer\u3001Sequencer \u90fd\u6709\u53ef\u80fd\u51fa\u95ee\u9898\uff0c\u8fd9\u4e9b\u9519\u8bef\u7684\u68c0\u6d4b\u65e2\u6709\u4e00\u4e9b\u5185\u90e8\u673a\u5236\u6765\u4fdd\u8bc1\uff0c\u4e5f\u6709\u4e00\u4e9b\u5916\u90e8\u76d1\u63a7\u7cfb\u7edf\u6765\u89e6\u53d1\u3002\u4e00\u65e6\u53d1\u73b0\u95ee\u9898\u5c31\u4f1a\u8fdb\u5165\u91cd\u65b0\u914d\u7f6e\u6d41\u7a0b\uff0c\u5373\u5bc6\u5c01\u73b0\u6709 Loglet\uff0c\u521b\u5efa\u65b0\u7684 Loglet \u5e76\u66f4\u65b0\u94fe\u3002\\n\\nStripedLoglet \u662f\u591a\u4e2a Loglet \u7684\u7ec4\u5408\uff0c\u5b9e\u9645\u4e0a\u53ea\u7528\u4e86 300 \u884c\u5de6\u53f3\u7684\u4ee3\u7801\u5c31\u5b9e\u73b0\u5b8c\u6210\u3002Loglet \u7684\u7ec4\u5408\u53ef\u4ee5\u6709\u591a\u79cd\u65b9\u5f0f\uff0c\u6bd4\u5982\u4e3a\u4e86\u907f\u514d\u5355\u4e2a Sequencer \u6210\u4e3a\u74f6\u9888\uff0c\u53ef\u4ee5\u628a\u76f8\u540c\u7684\u4e00\u7ec4 LogServer \u770b\u4f5c\u4e0d\u540c\u7684 NativeLoglet \u96c6\u7fa4\uff0c\u533a\u522b\u5728\u4e8e\u4e0d\u540c\u96c6\u7fa4\u7684 Sequencer \u4e0d\u4e00\u6837\uff1b\u518d\u6bd4\u5982\u4e3a\u4e86\u5bf9 Loglet \u8fdb\u884c\u5206\u7247\uff0c\u8fbe\u5230\u6a2a\u5411\u6269\u5c55\u7684\u76ee\u7684\uff0c\u53ef\u4ee5\u7528\u591a\u7ec4 LogServer\uff0c\u6bcf\u7ec4\u53ea\u5b58\u50a8\u90e8\u5206\u65e5\u5fd7\u3002StripedLoglet \u76ee\u524d\u5e76\u6ca1\u6709\u5728\u5b9e\u9645\u751f\u4ea7\u4e2d\u4f7f\u7528\uff0c\u66f4\u591a\u662f\u4f5c\u4e3a\u8bc4\u4f30\u9636\u6bb5\u7684\u4e00\u4e2a\u65b9\u6848\u3002\\n\\n\u5230\u8fd9\u91cc\u672c\u7bc7\u8bba\u6587\u4e2d\u5173\u4e8e VC \u548c Delos \u7684\u4ecb\u7ecd\u5c31\u5dee\u4e0d\u591a\u8bb2\u5b8c\u4e86\uff0c\u4f46\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u7ec6\u8282\u6ca1\u6709\u63d0\u5230\uff0c\u4f8b\u5982 leader \u5982\u4f55\u9009\u4e3e\u3001\u5982\u679c\u5904\u7406\u7f51\u7edc\u5206\u533a\u3001\u96c6\u7fa4\u6210\u5458\u5982\u4f55\u53d8\u66f4\u3001\u4e3a\u4ec0\u4e48\u8981\u6709\u5bc6\u5c01\u64cd\u4f5c\u3001\u5177\u4f53\u4ec0\u4e48\u65f6\u5019\u89e6\u53d1\u91cd\u65b0\u914d\u7f6e\u3001\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a RaftLoglet\u3002Delos \u5176\u5b9e\u662f\u5efa\u7acb\u5728\u8bba\u6587\u7b2c\u4e00\u4f5c\u8005 Mahesh Balakrishnan \u591a\u5e74\u7684\u7814\u7a76\u4e4b\u4e0a\uff0c\u5728\u6765\u5230 Facebook \u4e4b\u524d\u4ed6\u66fe\u7ecf\u5728\u5fae\u8f6f\u7845\u8c37\u7814\u7a76\u9662\u4ee5\u53ca VMware \u7814\u7a76\u9662\u5de5\u4f5c\uff0cDelos \u7684\u5f88\u591a\u601d\u60f3\u6765\u6e90\u4e8e 2012 \u5e74\u7684\u300cFrom Paxos to CORFU: A Flash-Speed Shared Log\u300d\u8fd9\u7bc7\u8bba\u6587\uff08\u4e00\u4e2a\u5c0f\u516b\u5366\uff0c\u8fd9\u7bc7\u8bba\u6587\u7684\u7b2c\u4e00\u4f5c\u8005 Dahlia Malkhi \u4e5f\u662f\u5b66\u672f\u754c\u5927\u725b\uff0c\u76ee\u524d\u662f Diem Association \u7684 CTO\uff09\uff0c\u4ee5\u53ca[\u540e\u7eed\u591a\u7bc7\u8bba\u6587](https://github.com/CorfuDB/CorfuDB/wiki/White-papers)\u3002\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u8fd9\u4e9b\u8bba\u6587\uff0c\u53e6\u5916 OSDI \u6bcf\u7bc7\u8bba\u6587\u90fd\u4f1a\u6709\u4e00\u4e2a\u6765\u81ea\u8bba\u6587\u4f5c\u8005\u7684\u6f14\u8bb2\uff0c\u53ef\u4ee5\u70b9\u51fb[\u8fd9\u91cc](https://www.youtube.com/watch?v=wd-GC_XhA2g)\u67e5\u770b\u89c6\u9891\u3002\\n\\n\u6700\u540e\u7279\u522b\u611f\u8c22 Delos \u4f5c\u8005\u4e4b\u4e00 Chen Shen \u5bf9\u672c\u6587\u63d0\u51fa\u7684\u7ec6\u81f4\u53ca\u5b9d\u8d35\u7684\u4fee\u6539\u610f\u89c1\u3002\\n\\n## Virtualizing Consensus in Delos for Rapid Upgrades and Happy Engineers\\n\\n[[\u94fe\u63a5]](https://atscaleconference.com/2021/03/15/virtualizing-consensus)\\n\\n\u5728\u652f\u6301 table API \u5e76\u6210\u529f\u5728 Twine \u4e0a\u5e94\u7528\u4e4b\u540e\uff0cDelos \u7684\u4e0b\u4e00\u4e2a\u76ee\u6807\u662f\u63d0\u4f9b ZooKeeper API\uff0c\u5e76\u66ff\u4ee3 Facebook \u5185\u90e8\u4f7f\u7528 ZooKeeper \u7684\u573a\u666f\u3002Delos \u76ee\u524d\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e00\u4e2a\u6784\u5efa\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7684\u300c\u5e73\u53f0\u300d\uff0c\u57fa\u4e8e\u8fd9\u4e2a\u5e73\u53f0\u5b9e\u73b0\u4e0d\u540c\u7684 API \u5373\u53ef\u6ee1\u8db3\u4e0d\u540c\u7684\u573a\u666f\u9700\u6c42\uff0c\u5927\u90e8\u5206\u903b\u8f91\u90fd\u53ef\u4ee5\u590d\u7528\uff0c\u6bd4\u5982\u652f\u6301 table API \u7684\u6570\u636e\u5e93 DelosTable\uff0c\u652f\u6301 ZooKeeper API \u7684\u6570\u636e\u5e93 Zelos\u3002\u628a Delos \u5e73\u53f0\u5316\u4ee5\u540e\u4e5f\u80fd\u8ba9\u4e0d\u540c\u56e2\u961f\u66f4\u52a0\u4e13\u6ce8\u4e8e\u5404\u81ea\u7684\u76ee\u6807\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff08\u8f6f\u4ef6\u5de5\u7a0b\u7b2c\u4e00\u51c6\u5219\u300c\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u300d\uff09\u3002\u4e0d\u8fc7\u7406\u60f3\u5f52\u7406\u60f3\uff0c\u73b0\u5b9e\u5f52\u73b0\u5b9e\uff0c\u5728 Zelos \u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9010\u6e10\u53d1\u73b0\u7ec4\u4ef6\u7684\u8fb9\u754c\u5e76\u6ca1\u6709\u90a3\u4e48\u6e05\u6670\uff0c\u5f88\u591a\u65f6\u5019 Zelos \u9700\u8981\u4f9d\u8d56\u5bf9 Delos \u5e73\u53f0\u6838\u5fc3\u8fdb\u884c\u4fee\u6539\uff0c\u4f7f\u5f97\u5f00\u53d1\u6d41\u7a0b\u53d7\u5230\u4e86\u5f88\u5927\u963b\u788d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cDelos \u56e2\u961f\u53d1\u660e\u4e86\u4e00\u4e2a\u65b0\u7684\u62bd\u8c61\u53eb\u505a\u300clog-structured protocol\u300d\uff08LSP\uff1f\uff09\uff0c\u4e00\u5c42\u53e0\u52a0\u5728 VirtualLog \u4e4b\u4e0a\u7684\u534f\u8bae\uff0c\u6bcf\u4e2a\u534f\u8bae\u90fd\u4f1a\u5305\u542b\u4e00\u4e2a\u5f15\u64ce\uff08engine\uff09\uff0c\u4e14\u53ef\u4ee5\u50cf\u7f51\u7edc\u6808\u4e00\u6837\u628a\u4e0d\u540c\u534f\u8bae\u8fdb\u884c\u7ec4\u5408\u3002\u5f53\u5e94\u7528\u5728\u8bf7\u6c42\u65f6\uff0c\u4f1a\u81ea\u4e0a\u800c\u4e0b\u7ecf\u8fc7\u4e0d\u540c\u7684\u534f\u8bae\uff0c\u6bcf\u4e00\u5c42\u534f\u8bae\u4e5f\u80fd\u5e26\u4e0a\u81ea\u5df1\u7684\u534f\u8bae\u5934\uff08header\uff09\uff0c\u6700\u7ec8\u5230\u8fbe VirtualLog\u3002\u8fd9\u4e2a\u8bbe\u8ba1\u6709\u70b9\u7c7b\u4f3c\u4e8e\u628a Delos runtime \u63d2\u4ef6\u5316\uff0c\u4e0d\u540c\u56e2\u961f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5f00\u53d1\u4e0d\u540c\u7684\u63d2\u4ef6\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u4e5f\u53ef\u4ee5\u540c\u65f6\u88ab\u4e0d\u540c\u56e2\u961f\u5171\u4eab\u3002\\n\\n## RFC: Elastic Horovod\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/15ZoHA5AeSI_boeyIBapg9WPXKrYXMRvPytPzQWTCTn4/edit?usp=sharing)\\n\\n\u5728[\u7b2c 7 \u671f](/issues/7)\u4ecb\u7ecd\u8fc7 Horovod \u80cc\u540e\u7684 Ring Allreduce \u7b97\u6cd5\uff0c\u4ece [v0.20.0](https://github.com/horovod/horovod/releases/tag/v0.20.0) \u5f00\u59cb Horovod \u4ece\u6846\u67b6\u4e0a\u539f\u751f\u652f\u6301\u4e86\u6a21\u578b\u8bad\u7ec3\u5f39\u6027\u4f38\u7f29\u3002\u4e0d\u7ba1\u662f\u57fa\u4e8e PS \u8fd8\u662f Ring Allreduce \u67b6\u6784\uff0c\u5f39\u6027\u4f38\u7f29\u4e00\u76f4\u662f\u5206\u5e03\u5f0f\u6a21\u578b\u8bad\u7ec3\u9886\u57df\u7684\u70ed\u95e8\u95ee\u9898\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u4e00\u4e2a AI \u5e73\u53f0\u6765\u8bf4\uff0c\u5f39\u6027\u4f38\u7f29\u80fd\u6700\u5927\u7a0b\u5ea6\u63d0\u9ad8\u96c6\u7fa4\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002\u5f53\u7136\u4e3a\u4e86\u5b9e\u73b0\u5f39\u6027\u5e76\u4e0d\u662f\u8bf4\u80fd\u591f\u52a8\u6001\u6269\u7f29\u5bb9\u5c31\u597d\u4e86\uff0c\u6846\u67b6\u4e5f\u8981\u505a\u5230\u8db3\u591f\u597d\u7684\u5bb9\u9519\u6027\uff0c\u624d\u80fd\u4e0d\u5bf9\u8bad\u7ec3\u6548\u679c\u9020\u6210\u5f71\u54cd\u3002\u8fd9\u7bc7 RFC \u8be6\u7ec6\u4ecb\u7ecd\u4e86 Elastic Horovod \u7684\u8bbe\u8ba1\u80cc\u666f\u53ca\u67b6\u6784\u3002\u76ee\u524d\u963f\u91cc\u4e91\u5bb9\u5668\u56e2\u961f\u5f00\u6e90\u7684 [et-operator](https://github.com/AliyunContainerService/et-operator) \u5df2\u7ecf\u652f\u6301\u5728 K8s \u4e2d\u4f7f\u7528 Elastic Horovod\uff0c\u901a\u8fc7 `TrainingJob`\u3001`ScaleIn` \u548c `ScaleOut` \u8fd9 3 \u4e2a CRD \u6765\u52a8\u6001\u63a7\u5236\u8bad\u7ec3\u96c6\u7fa4\u7684\u89c4\u6a21\uff0c\u4e0d\u8fc7 et-operator \u6682\u65f6\u8fd8\u4e0d\u652f\u6301\u81ea\u52a8\u4f38\u7f29\uff0c\u793e\u533a\u6709[\u4e00\u4e2a PR](https://github.com/AliyunContainerService/et-operator/pull/6) \u6b63\u5728\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n## Scaling Kubernetes to 7,500 Nodes\\n\\n[[\u94fe\u63a5]](https://openai.com/blog/scaling-kubernetes-to-7500-nodes)\\n\\nOpenAI \u56e2\u961f\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u5206\u4eab\u4e86\u4ed6\u4eec\u662f\u5982\u4f55\u5c06 K8s \u6269\u5c55\u5230 7500 \u4e2a\u8282\u70b9\uff0c\u5728 2018 \u5e74\u5176\u5b9e\u4ed6\u4eec\u5df2\u7ecf[\u5206\u4eab](https://openai.com/blog/scaling-kubernetes-to-2500-nodes)\u8fc7\u6269\u5c55\u5230 2500 \u4e2a\u8282\u70b9\u7684\u7ecf\u9a8c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cOpenAI \u7684 K8s \u96c6\u7fa4\u4e3b\u8981\u670d\u52a1\u4e8e AI \u4efb\u52a1\uff0c\u6bcf\u4e2a pod \u4f1a\u72ec\u5360\u4e00\u4e2a node \u7684\u6240\u6709\u8d44\u6e90\uff0c\u7c7b\u4f3c\u8d44\u6e90\u788e\u7247\u3001bin-packing \u8fd9\u6837\u7684\u95ee\u9898\u90fd\u4e0d\u5b58\u5728\uff0c\u8c03\u5ea6\u5668\u5e76\u4e0d\u4f1a\u6210\u4e3a\u74f6\u9888\uff0c\u56e0\u6b64\u4ed6\u4eec\u7684\u7ecf\u9a8c\u4e0d\u4e00\u5b9a\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\u3002\u51e0\u4e2a\u6709\u8da3\u7684\u5730\u65b9\uff1a\u5f53\u96c6\u7fa4\u89c4\u6a21\u5230\u8fbe 7500 \u8282\u70b9\u65f6\uff0cAPI server \u5360\u7528\u5927\u7ea6 70GB \u7684\u5185\u5b58\uff1b\u5c3d\u91cf\u907f\u514d\u4efb\u4f55 DaemonSet \u4e0e API server \u8fdb\u884c\u4ea4\u4e92\uff0c\u5982\u679c\u6709\u9700\u8981\u53ef\u4ee5\u501f\u52a9\u4e00\u4e2a\u4e2d\u95f4\u7684\u7f13\u5b58\u670d\u52a1\uff1b[kube-prometheus](https://github.com/prometheus-operator/kube-prometheus) \u6536\u96c6\u4e86\u5f88\u591a\u6709\u7528\u7684\u6570\u636e\uff0c\u4f46\u662f\u5176\u4e2d\u6709\u5f88\u591a\u5bf9\u4e8e OpenAI \u6765\u8bf4\u90fd\u662f\u6ca1\u7528\u7684\uff0c\u56e0\u6b64\u4ed6\u4eec\u9009\u62e9\u901a\u8fc7 [P8s rules](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config) \u6765\u4e22\u5f03\u4e00\u4e9b\u6307\u6807\uff1bP8s \u7ecf\u5e38\u6027\u51fa\u73b0 OOM\uff0c\u6700\u7ec8\u5b9a\u4f4d\u5230\u95ee\u9898\u51fa\u5728 Grafana \u548c P8s \u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f [patch P8s](https://github.com/openai/prometheus/pull/1)\uff1bGang scheduling \u7528\u5230\u4e86 K8s 1.15 \u4ee5\u540e\u652f\u6301\u7684 scheduling framework \u4ee5\u53ca\u5176\u4e2d\u7531\u963f\u91cc\u4e91\u548c\u817e\u8baf\u8d21\u732e\u7684 [coscheduling \u63d2\u4ef6](https://github.com/kubernetes-sigs/scheduler-plugins/tree/master/pkg/coscheduling)\uff08[\u7b2c 2 \u671f](/issues/2)\u4e5f\u6709\u505a\u4ecb\u7ecd\uff09\u3002\\n\\n## \u64ad\u5ba2\u6587\u5b57\u56de\u987e | Late Troubles \u662f\u9648\u66e6\u7684\u201c\u4e2d\u5e74\u670b\u514b\u8f9b\u9178\u201d\u5417\uff1f\\n\\n[[\u4e0a\u96c6]](https://mp.weixin.qq.com/s/ZS5GjlskTBH1DS52iss9yQ) [[\u4e0b\u96c6]](https://mp.weixin.qq.com/s/KiuoI6NfCHbTeuceHBggyQ)\\n\\n\u672c\u7bc7\u53c8\u540d\u300c\u5fae\u8f6f\u4ea7\u54c1\u7ecf\u7406\u6559\u4f60\u5982\u4f55\u4e0a\u73ed\u6478\u9c7c\u505a\u97f3\u4e50\u300d\uff0cLate Troubles \u662f Snapline \u4e50\u961f\u4e3b\u5531\u9648\u66e6\u7684\u4e2a\u4eba\u8ba1\u5212\uff0c\u76f8\u6bd4 Snapline \u7684\u97f3\u4e50\u98ce\u683c\uff0cLate Troubles \u66f4\u52a0\u6e29\u548c\u3002\u76ee\u524d\u9648\u66e6\u5df2\u7ecf\u79fb\u5c45\u897f\u96c5\u56fe\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u97f3\u4e50\u4eba\u3001\u4e00\u4e2a\u7236\u4eb2\u3001\u4e00\u4e2a\u4e0a\u73ed\u65cf\uff0c\u4ed6\u5728\u8fd9\u4e2a\u8bbf\u8c08\u4e2d\u8868\u8fbe\u4e86\u81ea\u5df1\u4f5c\u4e3a\u5f02\u4e61\u5f02\u5ba2\u7684\u601d\u8003\u3001\u5173\u4e8e\u5bb6\u5ead\u7684\u601d\u8003\u3001\u5173\u4e8e\u97f3\u4e50\u5236\u4f5c\u7684\u601d\u8003\u3001\u75ab\u60c5\u5bf9\u751f\u6d3b\u7684\u5f71\u54cd\u7b49\u7b49\u5185\u5bb9\uff0c\u53ef\u80fd\u5c31\u50cf Late Troubles \u7684\u97f3\u4e50\u4e00\u6837\uff0c\u8fd9\u7bc7\u8bbf\u8c08\u8ba9\u6211\u89c9\u5f97\u5e73\u5b9e\u53ca\u5766\u8bda\uff0c\u4efb\u4f55\u5149\u9c9c\u7684\u5916\u8868\u4e0b\u90fd\u4f1a\u6709\u4e0d\u5c3d\u76f8\u540c\u7684\u6545\u4e8b\uff0c\u5e0c\u671b\u6709\u4e00\u5929\u80fd\u5728\u56fd\u5185\u770b\u5230 Late Troubles \u7684\u73b0\u573a\u6f14\u51fa\u3002"},{"id":"/8","metadata":{"permalink":"/issues/8","source":"@site/blog/8.md","title":"Issue #8","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aGFS\u3001Colossus\u3001Streaming Storage\u3001lakeFS\u3001Magnet\u3001Go+","date":"2021-02-04T10:07:06.000Z","formattedDate":"February 4, 2021","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":23.825,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #8","date":"2021-02-04 10:07:06 +0800","tags":["issue"]},"prevItem":{"title":"Issue #9","permalink":"/issues/9"},"nextItem":{"title":"Issue #7","permalink":"/issues/7"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aGFS\u3001Colossus\u3001Streaming Storage\u3001lakeFS\u3001Magnet\u3001Go+\\n\\n\x3c!--truncate--\x3e\\n\\n## The Google File System\\n\\n[[\u94fe\u63a5]](https://research.google/pubs/pub51)\\n\\n2003 \u5e74\u7684 SOSP \u4f1a\u8bae\u4e0a\u4f5c\u4e3a\u4e00\u5bb6\u521a\u6210\u7acb 5 \u5e74\u7684\u521b\u4e1a\u516c\u53f8\uff0cGoogle \u53d1\u8868\u4e86\u8fd9\u7bc7\u5f71\u54cd\u6df1\u8fdc\u7684\u8bba\u6587\u3002\u8bba\u6587\u7684\u7b2c\u4e00\u4f5c\u8005 Sanjay Ghemawat \u76f8\u6bd4\u4ed6\u7684\u540c\u4e8b Jeff Dean \u53ef\u80fd\u4e0d\u592a\u4e3a\u5916\u754c\u6240\u77e5\uff0c\u4f46\u770b\u8fc7\u4ed6\u7684\u5c65\u5386\u4ee5\u540e\u5c31\u4f1a\u53d1\u73b0\u65e9\u5728 DEC \u5de5\u4f5c\u671f\u95f4\u4ed6\u5c31\u5df2\u7ecf\u4e0e Jeff Dean \u5171\u4e8b\uff0c\u5f53 Jeff Dean \u5728 1999 \u5e74\u52a0\u5165 Google \u540e\u4e0d\u4e45 Sanjay Ghemawat \u4e5f\u968f\u5373\u52a0\u5165\uff0c\u5e76\u4e00\u8d77\u7814\u53d1\u4e86 Google File System\uff08\u4ee5\u4e0b\u7b80\u79f0 GFS\uff09\u3001MapReduce\u3001Bigtable\u3001Spanner\u3001TensorFlow \u8fd9\u4e9b\u6bcf\u4e00\u4e2a\u90fd\u9f0e\u9f0e\u5927\u540d\u7684\u7cfb\u7edf\uff0c\u662f\u5f53\u4e4b\u65e0\u6127\u7684 Google \u5143\u8001\u3002\\n\\n18 \u5e74\u540e\u7684\u4eca\u5929\u518d\u6765\u56de\u987e\u8fd9\u7bc7\u8bba\u6587\u4f9d\u7136\u80fd\u53d1\u73b0\u5f88\u591a\u503c\u5f97\u501f\u9274\u7684\u5730\u65b9\uff0c\u4f5c\u4e3a GFS \u6700\u8457\u540d\u7684\u5f00\u6e90\u5b9e\u73b0\uff0cHDFS \u8fd1\u5e74\u6765\u867d\u7136\u5df2\u7ecf\u6709\u4e86\u5f88\u591a\u81ea\u5df1\u7684\u6539\u8fdb\uff0c\u4f46\u6838\u5fc3\u67b6\u6784\u4f9d\u7136\u6cbf\u7528\u7684\u662f\u8fd9\u7bc7\u8bba\u6587\u7684\u601d\u60f3\u3002\u8ba9\u6211\u4eec\u56de\u5230\u5341\u51e0\u5e74\u524d\uff0c\u53bb\u63a2\u6c42\u4e3a\u4ec0\u4e48 Google \u5f53\u65f6\u8981\u7814\u53d1\u8fd9\u6837\u4e00\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n> GFS shares many of the same goals as previous distributed file systems such as performance, scalability, reliability, and availability. However, its design has been driven by key observations of our application workloads and technological environment, both current and anticipated, that reflect a marked departure from some earlier file system design assumptions.\\n\\n\u8bba\u6587\u5f00\u7bc7\u7684\u7b2c\u4e00\u6bb5\u8bdd\u5df2\u7ecf\u5f88\u597d\u5730\u6982\u62ec\u4e86 GFS \u8bbe\u8ba1\u7684\u521d\u8877\uff0c\u8fd9\u662f\u4e00\u4e2a\u5b8c\u5168\u57fa\u4e8e Google \u4e1a\u52a1\u7279\u70b9\u8bbe\u8ba1\u7684\u7cfb\u7edf\u3002\u56de\u60f3\u4e00\u4e0b Google \u7684\u4e1a\u52a1\u662f\u4ec0\u4e48\uff1f\u641c\u7d22\u5f15\u64ce\u3002\u641c\u7d22\u5f15\u64ce\u4f9d\u9760\u7684\u662f\u722c\u866b\u6293\u53d6\u5927\u91cf\u6570\u636e\uff0c\u901a\u8fc7\u7528\u6237\u8f93\u5165\u7684\u5173\u952e\u8bcd\u5728\u8fd9\u4e2a\u5e9e\u5927\u7684\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\uff0c\u6700\u540e\u901a\u8fc7 Google \u72ec\u6709\u7684[\u6392\u5e8f\u7b97\u6cd5](https://en.wikipedia.org/wiki/PageRank)\u628a\u641c\u7d22\u7ed3\u679c\u5c55\u793a\u7ed9\u7528\u6237\u3002GFS \u9762\u5bf9\u7684\u4e1a\u52a1\u573a\u666f\u6709\u4e0b\u9762\u51e0\u4e2a\u7279\u70b9\uff1a\\n\\n- **\u7ec4\u4ef6\u6545\u969c\u968f\u5904\u53ef\u89c1**\uff1a\u5b58\u50a8\u96c6\u7fa4\u7531\u6210\u767e\u4e0a\u5343\u53f0\u666e\u901a\u5546\u7528\u673a\u5668\u7ec4\u6210\uff08\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f\u6602\u8d35\u7684\u8d85\u7ea7\u8ba1\u7b97\u673a\uff09\uff0c\u518d\u52a0\u4e0a\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684 bug\u3001\u4eba\u4e3a\u9519\u8bef\u3001\u5404\u79cd\u786c\u4ef6\u6545\u969c\uff0c\u7cfb\u7edf\u968f\u65f6\u90fd\u9762\u4e34\u7740\u5f88\u591a\u4e0d\u7a33\u5b9a\u7684\u56e0\u7d20\u3002\u56e0\u6b64\u6301\u7eed\u76d1\u63a7\u3001\u9519\u8bef\u68c0\u6d4b\u3001\u5bb9\u9519\u4ee5\u53ca\u81ea\u52a8\u6062\u590d\u5c31\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\\n- **\u5927\u6587\u4ef6\u4e3a\u4e3b**\uff1aGB \u7ea7\u6587\u4ef6\u975e\u5e38\u5e38\u89c1\uff0c\u6bcf\u4e2a\u6587\u4ef6\u901a\u5e38\u5305\u542b\u5f88\u591a\u5e94\u7528\u5bf9\u8c61\uff08application objects\uff09\uff0c\u6bd4\u5982 web \u6587\u6863\u3002\u5bf9\u4e8e\u6570\u5341\u4ebf\u5bf9\u8c61\u7684 TB \u7ea7\u6570\u636e\u96c6\u6765\u8bf4\uff0c\u628a\u6587\u4ef6\u5207\u5206\u6210 KB \u7ea7\u5927\u5c0f\u4f1a\u4f7f\u5f97\u7ba1\u7406\u53d8\u5f97\u975e\u5e38\u590d\u6742\uff0c\u5373\u4f7f\u7cfb\u7edf\u80fd\u591f\u652f\u6491\u8fd9\u6837\u7684\u91cf\u7ea7\u3002\u56e0\u6b64\u7cfb\u7edf\u8bbe\u8ba1\u7684\u5047\u8bbe\u3001\u6587\u4ef6\u5757\u7684\u5927\u5c0f\u90fd\u9700\u8981\u91cd\u65b0\u8861\u91cf\u3002\\n- **\u5927\u591a\u6570\u6587\u4ef6\u90fd\u53ea\u662f\u8ffd\u52a0\u5199\u800c\u4e0d\u662f\u8986\u76d6**\uff1a\u968f\u673a\u5199\u7684\u573a\u666f\u5b8c\u5168\u4e0d\u5b58\u5728\uff0c\u6587\u4ef6\u4e00\u65e6\u5199\u5165\uff0c\u53ea\u4f1a\u6d89\u53ca\u8bfb\u64cd\u4f5c\uff0c\u4e14\u901a\u5e38\u662f\u987a\u5e8f\u8bfb\u3002\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u90fd\u5177\u6709\u8fd9\u6837\u7684\u7279\u5f81\uff0c\u4f8b\u5982\u67d0\u4e9b\u6570\u636e\u662f\u88ab\u6570\u636e\u5206\u6790\u7a0b\u5e8f\u6279\u91cf\u626b\u63cf\u3001\u67d0\u4e9b\u6570\u636e\u662f\u7531\u6570\u636e\u6d41\u6301\u7eed\u751f\u6210\u3001\u67d0\u4e9b\u6570\u636e\u662f\u5f52\u6863\u6570\u636e\u3001\u67d0\u4e9b\u6570\u636e\u5c5e\u4e8e\u4e2d\u95f4\u7ed3\u679c\uff08\u7531\u67d0\u4e00\u53f0\u673a\u5668\u751f\u6210\u7136\u540e\u88ab\u53e6\u4e00\u53f0\u673a\u5668\u5904\u7406\uff09\u3002\\n\\nGoogle \u5f53\u65f6\u5df2\u7ecf\u90e8\u7f72\u4e86\u591a\u4e2a GFS \u96c6\u7fa4\uff0c\u6700\u5927\u7684\u4e00\u4e2a\u96c6\u7fa4\u6709\u8d85\u8fc7 1000 \u4e2a\u5b58\u50a8\u8282\u70b9\u4ee5\u53ca\u8d85\u8fc7 300TB \u7684\u78c1\u76d8\uff0c\u540c\u65f6\u88ab\u6570\u767e\u4e2a\u5ba2\u6237\u7aef\u8bbf\u95ee\u3002\\n\\n\u8bba\u6587\u7684\u7b2c\u4e8c\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd\u4e86 GFS \u7684\u8bbe\u8ba1\u5047\u8bbe\uff0c\u9664\u4e86\u524d\u9762\u63d0\u5230\u7684 3 \u4e2a\u4ee5\u5916\u8fd8\u5305\u62ec\uff1a\\n\\n- **\u4e1a\u52a1\u573a\u666f\u4e3b\u8981\u5305\u542b\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\uff1a\u5927\u6279\u91cf\u7684\u6d41\u5f0f\u8bfb\u53d6\u548c\u5c0f\u91cf\u7684\u968f\u673a\u8bfb\u53d6\u3002**\u5bf9\u4e8e\u524d\u4e00\u79cd\u6a21\u5f0f\uff0c\u6bcf\u6b21\u8bf7\u6c42\u4e00\u822c\u8bfb\u53d6\u6570\u767e KB \u6216\u8005 MB \u7ea7\u7684\u6570\u636e\uff0c\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u7684\u8fde\u7eed\u8bf7\u6c42\u4e00\u822c\u4e5f\u662f\u8bfb\u53d6\u67d0\u4e2a\u6587\u4ef6\u7684\u8fde\u7eed\u533a\u57df\u3002\u800c\u540e\u4e00\u79cd\u6a21\u5f0f\u901a\u5e38\u4ece\u6587\u4ef6\u4efb\u610f\u504f\u79fb\u4f4d\u7f6e\u8bfb\u53d6\u51e0 KB \u6570\u636e\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u6027\u80fd\u654f\u611f\u7684\u5e94\u7528\u4f1a\u628a\u591a\u4e2a\u968f\u673a\u8bfb\u8bf7\u6c42\u6392\u5e8f\u540e\u6279\u91cf\u53d1\u9001\uff0c\u907f\u514d\u5728\u5355\u4e2a\u6587\u4ef6\u4e2d\u6765\u6765\u56de\u56de\u3002\\n- **\u7cfb\u7edf\u9700\u8981\u9488\u5bf9\u5e76\u53d1\u8ffd\u52a0\u5199\u540c\u4e00\u4e2a\u6587\u4ef6\u7684\u573a\u666f\u8bbe\u8ba1\u597d\u7684\u8bed\u4e49**\uff1a\u5178\u578b\u7684\u5e94\u7528\u573a\u666f\u662f\u628a GFS \u4f5c\u4e3a\u6d88\u606f\u961f\u5217\uff0c\u6570\u767e\u4e2a\u751f\u4ea7\u8005\u5e76\u53d1\u8ffd\u52a0\u6570\u636e\u5230\u540c\u4e00\u4e2a\u6587\u4ef6\uff1b\u6216\u8005\u591a\u8def\u5408\u5e76\u6587\u4ef6\uff0c\u60f3\u8c61\u4e00\u4e0b MapReduce \u7684 reduce \u9636\u6bb5\u3002\u8fd9\u4e2a\u6587\u4ef6\u6709\u53ef\u80fd\u662f\u8fb9\u5199\u8fb9\u8bfb\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5199\u5b8c\u4ee5\u540e\u518d\u8bfb\u3002\u56e0\u6b64\u7528\u6700\u5c0f\u7684\u540c\u6b65\u5f00\u9500\u4fdd\u8bc1\u539f\u5b50\u6027\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\\n- **\u9ad8\u541e\u5410\u6bd4\u4f4e\u5ef6\u65f6\u66f4\u91cd\u8981**\uff1aGFS \u9762\u5bf9\u7684\u5927\u591a\u6570\u5e94\u7528\u8ffd\u6c42\u7684\u662f\u9ad8\u901f\u7387\u6279\u91cf\u5904\u7406\u6570\u636e\uff0c\u53ea\u6709\u5c11\u90e8\u5206\u5e94\u7528\u5bf9\u4e8e\u70b9\u67e5\u6709\u4e25\u683c\u7684\u5ef6\u65f6\u8981\u6c42\u3002\\n\\n\u50cf\u4f20\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u4e00\u6837\uff0cGFS \u63d0\u4f9b\u5305\u62ec\u521b\u5efa\u3001\u5220\u9664\u3001\u6253\u5f00\u3001\u5173\u95ed\u3001\u8bfb\u53d6\u3001\u5199\u5165\u8fd9\u6837\u7684\u63a5\u53e3\uff0c\u4f46\u662f GFS \u5e76\u4e0d\u63d0\u4f9b POSIX \u8fd9\u6837\u7684\u6807\u51c6 API\u3002\u6587\u4ef6\u901a\u8fc7\u76ee\u5f55\u7ed3\u6784\u7ec4\u7ec7\uff0c\u53ef\u4ee5\u901a\u8fc7\u8def\u5f84\u540d\u6765\u6807\u8bc6\u67d0\u4e00\u4e2a\u6587\u4ef6\u3002\u9664\u6b64\u4e4b\u5916\uff0cGFS \u8fd8\u63d0\u4f9b\u5feb\u7167\uff08snapshot\uff09\u548c\u539f\u5b50\u8ffd\u52a0\u5199\uff08record append\uff09\u529f\u80fd\u3002\\n\\n\u5728\u4ecb\u7ecd\u5b8c GFS \u7684\u8bbe\u8ba1\u80cc\u666f\u4ee5\u53ca\u5047\u8bbe\u4ee5\u540e\uff0c\u63a5\u4e0b\u6765\u662f\u8be6\u7ec6\u7684 GFS \u67b6\u6784\u8bb2\u89e3\u3002**GFS \u670d\u52a1\u7aef\u7531\u4e00\u4e2a master \u548c\u591a\u4e2a chunkserver \u7ec4\u6210\uff0c\u901a\u8fc7\u7279\u5b9a\u7684 client \u5e93\uff08\u5b9e\u73b0\u4e86 GFS \u7684\u6587\u4ef6\u7cfb\u7edf API\uff09\u4e0e\u5e94\u7528\u96c6\u6210\u3002**GFS \u662f\u975e\u5e38\u7ecf\u5178\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u67b6\u6784\uff0c\u5f71\u54cd\u4e86\u540e\u6765\u5f88\u591a\u7cfb\u7edf\u7684\u8bbe\u8ba1\u3002\\n\\nMaster \u8d1f\u8d23\u7ef4\u62a4\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\uff08metadata\uff09\uff0c\u5305\u62ec\u547d\u540d\u7a7a\u95f4\uff08namespace\uff09\u3001\u8bbf\u95ee\u63a7\u5236\uff08access control\uff09\u4fe1\u606f\u3001\u6587\u4ef6\u5230 chunk \u7684\u6620\u5c04\u4ee5\u53ca\u6bcf\u4e00\u4e2a chunk \u7684\u5177\u4f53\u4f4d\u7f6e\uff08location\uff09\u3002\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u7406\u89e3\u4e3a\u76ee\u5f55\u7ed3\u6784\u3001\u6587\u4ef6\u540d\u7b49\u4fe1\u606f\u3002\u9664\u6b64\u4e4b\u5916\uff0cmaster \u8fd8\u627f\u62c5\u4e00\u4e9b\u7cfb\u7edf\u7ea7\u7684\u6d3b\u52a8\uff0c\u4f8b\u5982 chunk \u7684\u79df\u7ea6\uff08lease\uff09\u7ba1\u7406\u3001\u5783\u573e\u56de\u6536\u65e0\u6548 chunk\u3001\u5728\u4e0d\u540c chunkserver \u4e4b\u95f4\u8fc1\u79fb chunk\u3002Master \u4f1a\u5468\u671f\u6027\u5730\u4e0e\u6bcf\u4e00\u4e2a chunkserver \u8fdb\u884c\u5fc3\u8df3\u901a\u4fe1\uff0c\u5fc3\u8df3\u4fe1\u606f\u4e2d\u540c\u65f6\u8fd8\u4f1a\u5305\u542b master \u4e0b\u53d1\u7684\u6307\u4ee4\u4ee5\u53ca chunkserver \u4e0a\u62a5\u7684\u72b6\u6001\u3002\u5143\u6570\u636e\u90fd\u662f\u4fdd\u5b58\u5728 master \u7684\u5185\u5b58\u4e2d\uff0c\u56e0\u6b64 master \u7684\u64cd\u4f5c\u90fd\u975e\u5e38\u5feb\u3002\u6bcf\u4e2a chunk \u7684\u5143\u6570\u636e\u5927\u7ea6\u4f1a\u5360\u7528 64 \u5b57\u8282\u5185\u5b58\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u547d\u540d\u7a7a\u95f4\u4fe1\u606f\u4e5f\u662f\u5360\u7528 64 \u5b57\u8282\u5de6\u53f3\uff08\u56e0\u4e3a master \u9488\u5bf9\u6587\u4ef6\u540d\u8fdb\u884c\u4e86\u524d\u7f00\u538b\u7f29\uff09\uff0c\u76f8\u5bf9\u6765\u8bf4\u5185\u5b58\u7684\u5f00\u9500\u662f\u5f88\u5c0f\u7684\uff0c\u968f\u7740\u6587\u4ef6\u6570\u7684\u589e\u52a0\u5bf9 master \u8282\u70b9\u8fdb\u884c\u7eb5\u5411\u6269\u5c55\u5373\u53ef\u3002\u6bd4\u8f83\u91cd\u8981\u7684\u5143\u6570\u636e\u4fe1\u606f\uff08\u6bd4\u5982\u547d\u540d\u7a7a\u95f4\u3001\u6587\u4ef6\u5230 chunk \u7684\u6620\u5c04\uff09\u8fd8\u4f1a\u540c\u6b65\u6301\u4e45\u5316\u64cd\u4f5c\u65e5\u5fd7\uff08operation log\uff09\u5230 master \u7684\u672c\u5730\u78c1\u76d8\u4ee5\u53ca\u590d\u5236\u5230\u8fdc\u7aef\u673a\u5668\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u53ef\u9760\u6027\uff0c\u907f\u514d\u5143\u6570\u636e\u4e22\u5931\u3002\u5f53\u64cd\u4f5c\u65e5\u5fd7\u589e\u957f\u5230\u4e00\u5b9a\u5927\u5c0f\uff0cmaster \u4f1a\u751f\u6210\u4e00\u4e2a\u68c0\u67e5\u70b9\uff08checkpoint\uff09\u7528\u4e8e\u52a0\u5feb\u72b6\u6001\u6062\u590d\uff0c\u68c0\u67e5\u70b9\u6587\u4ef6\u662f\u4e00\u4e2a\u7c7b\u4f3c B \u6811\u7684\u7ed3\u6784\uff0c\u53ef\u4ee5\u4e0d\u7ecf\u8fc7\u89e3\u6790\u6620\u5c04\u5230\u5185\u5b58\u76f4\u63a5\u67e5\u8be2\u3002\u6bcf\u4e2a chunk \u7684\u5177\u4f53\u4f4d\u7f6e\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\uff0cmaster \u6bcf\u6b21\u542f\u52a8\u65f6\u4f1a\u901a\u8fc7\u8bf7\u6c42\u6240\u6709 chunkserver \u6765\u83b7\u53d6\u8fd9\u4e9b\u4fe1\u606f\u3002\u6700\u521d\u8bbe\u8ba1\u65f6\u5176\u5b9e\u8003\u8651\u8fc7\u6301\u4e45\u5316 chunk \u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u5728 chunkserver \u62d3\u6251\u7ecf\u5e38\u53d8\u5316\uff08\u6bd4\u5982\u5b95\u673a\u3001\u6269\u7f29\u5bb9\uff09\u7684\u60c5\u51b5\u4e0b\u5982\u4f55\u4fdd\u6301 master \u548c chunkserver \u4e4b\u95f4\u7684\u6570\u636e\u540c\u6b65\u662f\u4e00\u4e2a\u96be\u9898\u3002\u6b64\u5916 GFS \u8fd8\u63d0\u4f9b\u4ec5\u7528\u4e8e\u53ea\u8bfb\u573a\u666f\u7684\u5f71\u5b50\uff08shadow\uff09master\uff0c\u5f71\u5b50 master \u7684\u6570\u636e\u4e0d\u662f\u5b9e\u65f6\u540c\u6b65\uff0c\u56e0\u6b64\u4e0d\u4fdd\u8bc1\u662f\u6700\u65b0\u7684\u6570\u636e\u3002\\n\\n\u91c7\u7528\u5355 master \u7684\u67b6\u6784\u6781\u5927\u5730\u7b80\u5316\u4e86 GFS \u7684\u8bbe\u8ba1\uff08\u4e5f\u6210\u4e3a\u4e86\u4e4b\u540e\u88ab\u4eba\u8bdf\u75c5\u7684\u56e0\u7d20\uff09\uff0cmaster \u4f5c\u4e3a\u638c\u63e1\u5168\u5c40\u4fe1\u606f\u7684\u552f\u4e00\u5165\u53e3\uff0c\u5fc5\u987b\u786e\u4fdd\u6700\u5c0f\u7a0b\u5ea6\u5f71\u54cd\u8bfb\u5199\u64cd\u4f5c\uff0c\u5426\u5219\u5c31\u4f1a\u53d8\u6210\u6574\u4e2a\u7cfb\u7edf\u7684\u74f6\u9888\u3002**\u56e0\u6b64 GFS \u7684\u8bbe\u8ba1\u662f client \u8bfb\u5199\u6570\u636e\u6c38\u8fdc\u4e0d\u4f1a\u7ecf\u8fc7 master\u3002**\u5b9e\u73b0\u65b9\u5f0f\u5f88\u7b80\u5355\uff0cclient \u8bf7\u6c42 master \u83b7\u53d6\u5230\u5177\u4f53\u9700\u8981\u901a\u4fe1\uff08\u4e0d\u7ba1\u662f\u8bfb\u8fd8\u662f\u5199\uff09\u7684 chunkserver \u5217\u8868\uff0c\u628a\u8fd9\u4e2a\u5217\u8868\u7f13\u5b58\u5728\u672c\u5730\uff0c\u4e4b\u540e\u5c31\u76f4\u63a5\u8bf7\u6c42 chunkserver\u3002\\n\\nChunkserver \u8fd9\u4e2a\u540d\u5b57\u7684\u6765\u5386\u5176\u5b9e\u662f\u56e0\u4e3a GFS \u628a\u6587\u4ef6\u5206\u5272\u6210\u4e86\u591a\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684 chunk\u3002\u6bcf\u4e2a chunk \u7684\u5927\u5c0f\u662f 64MiB\uff0c\u76f8\u6bd4\u4f20\u7edf\u6587\u4ef6\u7cfb\u7edf\u7684\u5757\uff08block\uff09\u5927\u5c0f\u5927\u4e86\u5f88\u591a\uff08\u6bd4\u5982 ext4 \u9ed8\u8ba4\u7684\u5757\u5927\u5c0f\u662f 4KiB\uff09\uff0c\u540c\u65f6 master \u4f1a\u4e3a\u6bcf\u4e00\u4e2a chunk \u5206\u914d\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684 64 \u4f4d ID\u3002Chunkserver \u9664\u4e86\u5c06 chunk \u5b58\u50a8\u5230\u672c\u5730\u78c1\u76d8\u4e0a\uff0c\u8fd8\u4f1a\u590d\u5236\u5230\u5176\u5b83 chunkserver\uff0cGFS \u9ed8\u8ba4\u4f1a\u5b58\u50a8 3 \u4e2a\u526f\u672c\uff0c\u5f53\u7136\u7528\u6237\u4e5f\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u76ee\u5f55\u6307\u5b9a\u4e0d\u540c\u7684\u590d\u5236\u7b49\u7ea7\u3002\u4e3a\u4ec0\u4e48 GFS \u4f1a\u9009\u62e9 64MiB \u8fd9\u4e48\u5927\u7684 chunk \u5927\u5c0f\u5462\uff1f\u8bba\u6587\u4e2d\u5217\u4e3e\u4e86\u51e0\u4e2a\u539f\u56e0\uff1a\\n\\n- **\u51cf\u5c11 client \u4e0e master \u7684\u4ea4\u4e92**\uff1a\u524d\u9762\u63d0\u5230 client \u4e0d\u7ba1\u662f\u8bfb\u8fd8\u662f\u5199\u6570\u636e\u90fd\u9700\u8981\u9996\u5148\u4e0e master \u901a\u4fe1\uff0cGFS \u7684\u4e1a\u52a1\u573a\u666f\u901a\u5e38\u90fd\u662f\u987a\u5e8f\u8bfb\u5199\u5927\u6587\u4ef6\uff0cchunk \u5927\u5c0f\u8d8a\u5927 client \u5c31\u80fd\u5728 1 \u6b21\u8bf7\u6c42\u4e2d\u83b7\u53d6\u5230\u66f4\u591a\u7684\u4fe1\u606f\u3002\u5373\u4f7f\u662f\u968f\u673a\u8bfb\u7684\u573a\u666f\uff0cclient \u4e5f\u80fd\u66f4\u591a\u5730\u7f13\u5b58 chunk \u4f4d\u7f6e\u4fe1\u606f\u3002\\n- **\u964d\u4f4e chunkserver \u7684\u7f51\u7edc\u5f00\u9500**\uff1a\u66f4\u5927\u7684 chunk\uff0cclient \u8d8a\u53ef\u80fd\u6267\u884c\u66f4\u591a\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u964d\u4f4e client \u4e0e chunkserver \u4e4b\u95f4\u7684 TCP \u957f\u8fde\u63a5\u7684\u7f51\u7edc\u5f00\u9500\u3002\\n- **\u51cf\u5c11 master \u7ef4\u62a4\u7684\u5143\u6570\u636e\u5927\u5c0f**\uff1achunk \u8d8a\u5927\uff0cmaster \u5c31\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u66f4\u591a\u5143\u6570\u636e\u3002\\n\\n\u6bcf\u4e2a chunk \u4ee5\u53ca\u5b83\u7684\u526f\u672c\u6709\u4e24\u79cd\u89d2\u8272\uff1a\u4e3b\u526f\u672c\uff08primary replica\uff09\u548c\u4ece\u526f\u672c\uff08secondary replica\uff09\uff0c\u4e3b\u526f\u672c\u53ea\u6709 1 \u4e2a\uff0c\u5176\u5b83\u7684\u90fd\u662f\u4ece\u526f\u672c\uff0c\u81f3\u4e8e\u5177\u4f53\u54ea\u4e2a\u662f\u4e3b\u526f\u672c\u662f\u7531 master \u51b3\u5b9a\u7684\u3002master \u4f1a\u6388\u6743\u4e00\u4e2a\u79df\u7ea6\uff08lease\uff09\u7ed9\u4e3b\u526f\u672c\uff0c\u79df\u7ea6\u7684\u521d\u59cb\u8d85\u65f6\u65f6\u95f4\u662f 60 \u79d2\uff0c\u4f46\u662f\u53ea\u8981 chunk \u8fd8\u5728\u88ab\u4fee\u6539\uff0c\u4e3b\u526f\u672c\u53ef\u4ee5\u65e0\u9650\u7eed\u79df\uff0cmaster \u4e5f\u53ef\u4ee5\u968f\u65f6\u5e9f\u9664\u79df\u7ea6\u3002\u57fa\u4e8e\u4e3b\u4ece\u526f\u672c\u548c\u79df\u7ea6\u7684\u6982\u5ff5\uff0c\u6570\u636e\u5199\u5165 GFS \u7684\u6d41\u7a0b\u662f\uff1a\\n\\n1. Client \u8bf7\u6c42 master \u83b7\u53d6\u5f53\u524d chunk \u6240\u6709\u526f\u672c\u6240\u5728\u7684 chunkserver \u5217\u8868\uff0c\u5982\u679c\u76ee\u524d\u8fd8\u6ca1\u6709\u79df\u7ea6\uff0cmaster \u4f1a\u6388\u6743\u7ed9\u5176\u4e2d\u4e00\u4e2a\u526f\u672c\uff08\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u526f\u672c\u5347\u7ea7\u4e3a\u4e3b\u526f\u672c\uff09\u3002\\n2. Master \u5c06\u4e3b\u526f\u672c\u7684 ID \u4ee5\u53ca\u4ece\u526f\u672c\u7684\u4f4d\u7f6e\u56de\u590d\u7ed9 client\uff0cclient \u4f1a\u5c06\u8fd9\u4e9b\u4fe1\u606f\u7f13\u5b58\u5728\u672c\u5730\uff0c\u53ea\u6709\u5f53\u4e3b\u526f\u672c\u65e0\u6cd5\u901a\u4fe1\u6216\u8005\u79df\u7ea6\u5931\u6548\u65f6\u624d\u4f1a\u518d\u6b21\u8bf7\u6c42 master\u3002\\n3. Client \u53d1\u9001**\u6570\u636e**\u7ed9\u4e3b\u4ece\u526f\u672c\u6240\u5728\u7684\u5168\u90e8 chunkserver\u3002\u53d1\u9001\u987a\u5e8f\u65e0\u6240\u8c13\uff0c\u4e00\u822c\u662f\u53d1\u9001\u7ed9\u79bb client \u6700\u8fd1\u7684\u4e00\u4e2a chunkserver\uff0c\u7136\u540e\u8fd9\u4e2a chunkserver \u4f1a\u4f20\u9012\u7ed9\u79bb\u5b83\u6700\u8fd1\u7684\u4e0b\u4e00\u4e2a chunkserver\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002Chunkserver \u4e4b\u95f4\u7684\u8ddd\u79bb\u662f\u901a\u8fc7 IP \u5730\u5740\u4f30\u7b97\u51fa\u6765\u7684\uff0c\u4e4b\u6240\u4ee5\u91c7\u7528\u8fd9\u79cd\u7ebf\u6027\u4f20\u9012\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u76ee\u7684\u662f\u6700\u5927\u5316\u7f51\u7edc\u541e\u5410\u3002Chunkserver \u4e0d\u4f1a\u7b49\u5230\u4e00\u4e2a chunk \u5168\u90e8\u63a5\u6536\u5b8c\u6bd5\u624d\u53d1\u9001\u51fa\u53bb\uff0c\u800c\u662f\u91c7\u7528\u7ba1\u9053\uff08pipeline\uff09\u7684\u65b9\u5f0f\uff0c\u53ea\u8981\u63a5\u6536\u5230\u4e00\u5b9a\u7684\u6570\u636e\u5c31\u7acb\u5373\u53d1\u9001\u3002**\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5f53\u65f6 Google \u7684\u7f51\u7edc\u5e26\u5bbd\u662f 100Mbps\uff0c\u800c\u73b0\u5728\uff082021 \u5e74\uff09AWS \u4e0a\u7684\u673a\u5668\u7f51\u7edc\u5e26\u5bbd\u80fd\u8fbe\u5230 25Gbps\uff0c\u662f\u5f53\u5e74\u7684 250 \u500d\u3002**\\n4. \u4e00\u65e6\u6240\u6709\u526f\u672c\u90fd\u56de\u590d\u6536\u5230\u4e86\u6570\u636e\uff0cclient \u5c31\u53d1\u9001**\u5199\u8bf7\u6c42**\u7ed9\u4e3b\u526f\u672c\u3002\u8fd9\u4e2a\u8bf7\u6c42\u5305\u542b\u4e86\u4e0a\u4e00\u6b65\u53d1\u9001\u7684\u6240\u6709\u6570\u636e\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u526f\u672c\u4f1a\u5206\u914d\u8fde\u7eed\u7684\u5e8f\u5217\u53f7\u7ed9\u5199\u8bf7\u6c42\uff0c\u5e76\u6309\u7167\u5e8f\u5217\u53f7\u7684\u987a\u5e8f\u4fee\u6539\u5b83\u7684\u72b6\u6001\u3002\\n5. \u4e3b\u526f\u672c\u8f6c\u53d1\u5199\u8bf7\u6c42\u7ed9\u5176\u5b83\u4ece\u526f\u672c\uff0c\u4ece\u526f\u672c\u4e5f\u4f1a\u6309\u7167\u76f8\u540c\u7684\u5e8f\u5217\u53f7\u987a\u5e8f\u4fee\u6539\u72b6\u6001\u3002\\n6. \u5f53\u6240\u6709\u4ece\u526f\u672c\u90fd\u56de\u590d\u7ed9\u4e3b\u526f\u672c\uff0c\u5373\u8868\u793a\u8fd9\u6b21\u5199\u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\u3002\\n7. \u4e3b\u526f\u672c\u56de\u590d\u8bf7\u6c42\u7ed9 client\u3002\u5982\u679c\u4efb\u4f55\u526f\u672c\u53d1\u751f\u4e86\u9519\u8bef\u4e5f\u4f1a\u4e00\u5e76\u56de\u590d\uff0cGFS \u7684\u5ba2\u6237\u7aef\u4f1a\u5c1d\u8bd5\u91cd\u8bd5\u3002\u6b65\u9aa4 3~\u6b65\u9aa4 7 \u6267\u884c\u65f6\u4e5f\u4f1a\u6709\u4e00\u5b9a\u7684\u91cd\u8bd5\u673a\u5236\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u4ece\u5934\u5f00\u59cb\u3002\\n\\n\u539f\u5b50\u8ffd\u52a0\u5199\uff08record append\uff09\u7684\u6d41\u7a0b\u5927\u4f53\u4e0a\u548c\u4e0a\u9762\u4ecb\u7ecd\u7684\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u7b2c 4 \u6b65\u65f6\u4e3b\u526f\u672c\u4f1a\u68c0\u67e5\u5199\u5165\u4ee5\u540e\u662f\u5426\u4f1a\u8d85\u8fc7\u6700\u540e\u4e00\u4e2a chunk \u7684\u5927\u5c0f\uff0864MiB\uff09\uff0c\u5982\u679c\u6ca1\u8d85\u8fc7\u5c31\u8ffd\u52a0\u5230\u540e\u9762\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u4f1a\u628a\u6700\u540e\u4e00\u4e2a chunk \u586b\u5145\uff08pad\uff09\u6ee1\uff0c\u5e76\u56de\u590d client \u91cd\u8bd5\u3002\\n\\n\u5feb\u7167\uff08snapshot\uff09\u529f\u80fd\u57fa\u4e8e copy-on-write \u5b9e\u73b0\uff0cmaster \u901a\u8fc7\u4ec5\u4ec5\u590d\u5236\u5143\u6570\u636e\u7684\u65b9\u5f0f\u80fd\u591f\u5728\u77ed\u65f6\u95f4\u5185\u5b8c\u6210\u5feb\u7167\u7684\u521b\u5efa\u3002\u5f53 client \u9700\u8981\u4fee\u6539\u5feb\u7167\u6570\u636e\u65f6\uff0cmaster \u4f1a\u901a\u77e5\u6240\u6709 chunkserver \u672c\u5730\u590d\u5236\u5bf9\u5e94\u7684 chunk\uff0c\u65b0\u7684\u4fee\u6539\u4f1a\u5728\u590d\u5236\u540e\u7684 chunk \u4e0a\u8fdb\u884c\u3002\\n\\n\u9650\u4e8e\u672c\u671f\u7684\u7bc7\u5e45\uff0c\u8fd8\u6709\u5f88\u591a GFS \u7684\u7279\u6027\u6ca1\u6709\u4ecb\u7ecd\uff0c\u4f8b\u5982\u547d\u540d\u7a7a\u95f4\u7ba1\u7406\u4e0e\u9501\u3001\u526f\u672c\u653e\u7f6e\u7b56\u7565\uff08placement policy\uff09\u3001chunk \u91cd\u65b0\u590d\u5236\uff08re-replication\uff09\u3001\u6570\u636e\u5747\u8861\uff08rebalancing\uff09\u3001\u5783\u573e\u56de\u6536\u3001\u9ad8\u53ef\u7528\u7b49\u3002\u6700\u540e\u662f\u4e00\u4e2a\u5f69\u86cb\uff0c\u5982\u679c\u4f60\u4ed4\u7ec6\u770b\u8bba\u6587\u6700\u540e\u7684\u611f\u8c22\u540d\u5355\uff0c\u4f1a\u53d1\u73b0\u4e00\u4e2a\u719f\u6089\u7684\u540d\u5b57\uff08\u5f53\u7136\u4e0d\u662f Jeff Dean\uff09\u3002\\n\\n## Colossus: Successor to the Google File System\\n\\n[[\u94fe\u63a5]](https://www.systutorials.com/colossus-successor-to-google-file-system-gfs)\\n\\n\u81ea\u4ece GFS \u7684\u8bba\u6587\u53d1\u5e03\u4ee5\u6765\uff0cGoogle \u7684\u6570\u636e\u5df2\u7ecf\u589e\u957f\u4e86\u597d\u51e0\u4e2a\u6570\u91cf\u7ea7\uff0c\u5f88\u663e\u7136 GFS \u7684\u67b6\u6784\u5df2\u7ecf\u65e0\u6cd5\u652f\u6491\u5982\u6b64\u5927\u89c4\u6a21\u7684\u6570\u636e\u5b58\u50a8\u3002\u90a3 Google \u4e0b\u4e00\u4ee3\u7684\u6587\u4ef6\u5b58\u50a8\u662f\u4ec0\u4e48\u5462\uff1f\u7b54\u6848\u5c31\u662f Colossus\u3002\u8fd9\u4e2a\u795e\u79d8\u7684\u9879\u76ee\u76f4\u5230\u76ee\u524d\u4e3a\u6b62\u90fd\u6ca1\u6709\u5728\u516c\u5f00\u573a\u5408\u88ab\u5168\u9762\u6b63\u5f0f\u5730\u4ecb\u7ecd\u8fc7\uff0c\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u5f88\u591a\u788e\u7247\u7684\u4fe1\u606f\u6765\u62fc\u51d1\u51fa\u5b83\u7684\u6a21\u6837\uff0c\u4e0a\u9762\u94fe\u63a5\u4e2d\u7684\u5185\u5bb9\u5373\u662f\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\u6574\u7406\u51fa\u6765\u7684\u3002\u4e00\u4e9b\u6709\u8da3\u7684\u4fe1\u606f\u662f\uff1a\u5143\u6570\u636e\u670d\u52a1\uff08Curators\uff09\u57fa\u4e8e Bigtable\uff1b\u76f8\u6bd4 GFS \u81f3\u5c11\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55 100 \u500d\uff1bGFS \u4f9d\u7136\u5b58\u5728\uff0c\u53ea\u4e0d\u8fc7\u662f\u7528\u6765\u5b58\u50a8\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e\u7684\u5143\u6570\u636e\uff08metametadata\uff09\uff1bColossus \u53ef\u4ee5\u57fa\u4e8e\u53e6\u4e00\u4e2a Colossus \u6784\u5efa\uff0c\u5c31\u50cf\u4fc4\u7f57\u65af\u5957\u5a03\u4e00\u6837\u65e0\u9650\u5d4c\u5957\uff08\u8ba9\u6211\u60f3\u5230\u4e86\u5206\u5f62\uff09\uff1b\u5b58\u50a8\u6570\u636e\u7684\u670d\u52a1\u53eb\u505a D server\uff1b\u9ed8\u8ba4\u4f7f\u7528 Reed-Solomon \u7f16\u7801\u5b58\u50a8\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u901a\u5e38\u6240\u8bf4\u7684\u7ea0\u5220\u7801\uff08erasure code\uff09\u3002\u5efa\u8bae\u914d\u5408\u8fd9\u4e2a 2017 \u5e74\u7684 [slide](http://www.pdsw.org/pdsw-discs17/slides/PDSW-DISCS-Google-Keynote.pdf) \u4ee5\u53ca\u8fd9\u7bc7[\u4e2d\u6587\u535a\u5ba2](https://levy.at/blog/22)\u4e00\u8d77\u9605\u8bfb\u3002\\n\\n## Storage Reimagined for a Streaming World\\n\\n[[\u94fe\u63a5]](https://blog.pravega.io/2017/04/09/storage-reimagined-for-a-streaming-world)\\n\\n\u6d41\u5f0f\u8ba1\u7b97\u8fd9\u51e0\u5e74\u5e94\u8be5\u7b97\u662f\u7ea2\u5230\u53d1\u7d2b\uff1f\u770b\u770b Flink \u793e\u533a\u7684\u53d1\u5c55\u4fbf\u53ef\u77e5\u6653\u3002\u4e0d\u8fc7\u672c\u671f\u8981\u4ecb\u7ecd\u7684\u4e0d\u662f\u6d41\u5f0f\u8ba1\u7b97\uff0c\u800c\u662f\u6d41\u5f0f\u5b58\u50a8\u3002\u8bf4\u5230\u4e0e\u6d41\u5f0f\u8ba1\u7b97\u6709\u5173\u7684\u5b58\u50a8\uff0c\u9996\u5148\u60f3\u5230\u7684\u53ef\u80fd\u662f Kafka\uff0c\u4f5c\u4e3a\u5b9e\u65f6\u6570\u636e\u6d41\u7684\u6d88\u606f\u603b\u7ebf\uff0cKafka \u627f\u62c5\u7740\u975e\u5e38\u91cd\u8981\u7684\u89d2\u8272\u3002\u4f46\u662f Kafka \u4e5f\u4e0d\u662f\u5b8c\u7f8e\u7684\uff0c\u5b83\u7684\u8bde\u751f\u5176\u5b9e\u6bd4\u6d41\u5f0f\u8ba1\u7b97\u66f4\u65e9\u3002Kafka 2011 \u5e74[\u5f00\u6e90](https://blog.linkedin.com/2011/01/11/open-source-linkedin-kafka)\uff0cSpark [v0.7.0](https://spark.apache.org/news/spark-0-7-0-released.html) 2013 \u5e74\u53d1\u5e03\u5f00\u59cb\u652f\u6301 streaming\uff0cFlink [v0.7.0](https://flink.apache.org/news/2014/11/04/release-0.7.0.html) 2014 \u5e74\u53d1\u5e03\u5f00\u59cb\u652f\u6301 streaming\uff08\u8ddf Spark \u662f\u540c\u4e00\u4e2a\u7248\u672c\u53f7\u4e0d\u77e5\u662f\u5426\u662f\u5de7\u5408\uff09\u3002\u56e0\u6b64 Kafka \u7684\u5f88\u591a\u8bbe\u8ba1\u5e76\u4e0d\u662f\u9488\u5bf9\u6d41\u5f0f\u8ba1\u7b97\u573a\u666f\u4f18\u5316\u3002\u6bd4\u5982 topic partition \u8fd9\u4e2a\u6982\u5ff5\uff0c\u672c\u8d28\u4e0a\u662f\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u6216\u8005\u5199\u7684\u5e76\u53d1\uff0c\u4f46\u662f partition \u672c\u8eab\u662f\u4e00\u4e2a\u9759\u6001\u914d\u7f6e\uff0c\u5e76\u4e0d\u80fd\u505a\u5230\u52a8\u6001\u4f38\u7f29\u3002\u518d\u6bd4\u5982 Kafka \u7684\u6570\u636e\u5b58\u50a8\uff0c\u76ee\u524d\u53ea\u652f\u6301\u5185\u5b58\u548c\u672c\u5730\u78c1\u76d8\u4e24\u79cd\uff0c\u6d88\u8d39\u65b0\u6570\u636e\u90fd\u662f\u4ece\u5185\u5b58\uff0c\u5982\u679c\u662f\u65e7\u6570\u636e\u5c31\u53ef\u80fd\u8bfb\u78c1\u76d8\uff0c\u4f46\u662f Kafka \u96c6\u7fa4\u7684\u5b58\u50a8\u5bb9\u91cf\u4e0a\u9650\u6bd5\u7adf\u8fd8\u662f\u53d7\u9650\u4e8e\u78c1\u76d8\u7a7a\u95f4\uff0c\u5728\u6d41\u5f0f\u8ba1\u7b97\u8d8a\u6765\u8d8a\u91cd\u4ee5\u53ca\u4e91\u8ba1\u7b97\u5927\u884c\u5176\u9053\u7684\u4eca\u5929\u96c6\u7fa4\u8fd0\u7ef4\u662f\u4e00\u4e2a\u96be\u9898\uff08\u67d0\u4e9b\u516c\u53f8\u5df2\u7ecf\u81ea\u7814\u4e86 Kafka on HDFS \u7684\u65b9\u6848\uff0c\u6bd4\u5982[\u5feb\u624b](https://cloud.tencent.com/developer/news/599446)\uff09\u3002Pravega \u4fbf\u8fd9\u6837\u5e94\u8fd0\u800c\u751f\uff0c\u8fd9\u662f\u4e00\u4e2a\u6765\u81ea\u6234\u5c14\u7684[\u5f00\u6e90\u9879\u76ee](https://github.com/pravega/pravega)\uff0c\u4e00\u4e9b\u8bbe\u8ba1\u4eae\u70b9\u662f\u52a8\u6001 partition \u4ee5\u53ca\u81ea\u52a8\u6570\u636e\u5206\u5c42\uff08Apache BookKeeper + HDFS\uff09\u3002\\n\\n## Why We Built lakeFS: Atomic and versioned Data Lake Operations\\n\\n[[\u94fe\u63a5]](https://lakefs.io/why-we-built-lakefs-atomic-and-versioned-data-lake-operations)\\n\\n\u5728\u6570\u636e\u5e93\u9886\u57df ACID \u548c MVCC \u5df2\u7ecf\u4e0d\u662f\u4ec0\u4e48\u65b0\u9c9c\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u6587\u4ef6\u7cfb\u7edf\u9886\u57df\u4f3c\u4e4e\u8fd8\u662f\u4e00\u4e2a\u5c5e\u4e8e\u6bd4\u8f83\u300c\u65e9\u671f\u300d\u7684\u9636\u6bb5\uff0c\u867d\u7136\u8fc7\u53bb\u5df2\u7ecf\u6709\u7c7b\u4f3c [ZFS](https://en.wikipedia.org/wiki/ZFS)\u3001[Btrfs](https://en.wikipedia.org/wiki/Btrfs) \u8fd9\u6837\u521b\u65b0\u7684\u8bbe\u8ba1\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u662f\u5e7f\u6cdb\u88ab\u5927\u4f17\u4e86\u89e3\u4ee5\u53ca\u4f7f\u7528\u7684\u6280\u672f\u3002\u7279\u522b\u662f\u5f53\u4e91\u8ba1\u7b97\u4ee5\u53ca S3 \u8fd9\u6837\u7684\u300c\u50bb\u74dc\u300d\u65b9\u6848\u51fa\u73b0\u540e\uff0c\u4eba\u4eec\u4f3c\u4e4e\u5df2\u7ecf\u4e60\u60ef\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u4ea7\u54c1\u3002\u6570\u636e\u6e56\uff08data lake\uff09\u8fd9\u4e2a\u8bcd\u6c47\u4e0d\u77e5\u9053\u4ece\u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u6d41\u884c\uff0c\u5bf9\u8c61\u5b58\u50a8\u7684\u89d2\u8272\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\uff08\u81f3\u5c11\u4e91\u5382\u5546\u662f\u8fd9\u6837\u5e0c\u671b\u7684\uff1f\uff09\u3002\u4eba\u4eec\u5bf9\u8fd9\u4e2a\u300c\u4e07\u80fd\u300d\u7684\u5b58\u50a8\u6709\u7740\u8d8a\u6765\u8d8a\u591a\u7684\u671f\u671b\uff0c\u4f46\u662f\u5bf9\u8c61\u5b58\u50a8\u5e76\u4e0d\u662f\u4e07\u80fd\u7684\u3002\u4e3a\u4e86\u89e3\u51b3\u5bf9\u8c61\u5b58\u50a8\u7684\u5404\u79cd\u95ee\u9898\uff08\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u5177\u4f53\u95ee\u9898\uff09\u6216\u8005\u8bf4\u586b\u8865\u5b83\u7684\u4e00\u4e9b\u7f3a\u5931\uff0c\u8d8a\u6765\u8d8a\u591a\u57fa\u4e8e\u5bf9\u8c61\u5b58\u50a8\u7684\u9879\u76ee\u8bde\u751f\u3002[lakeFS](https://lakefs.io) \u5373\u662f\u5176\u4e2d\u4e00\u4e2a\uff0clakeFS \u5e0c\u671b\u901a\u8fc7\u63d0\u4f9b\u7c7b\u4f3c Git \u7684\u4f53\u9a8c\u6765\u7ba1\u7406\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4fdd\u8bc1 ACID\u3002\u6bd4\u5982\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u7684\u300c\u5206\u652f\u300d\u5373\u53ef\u5b9e\u73b0\u591a\u7248\u672c\u7ba1\u7406\u3002lakeFS \u7684\u5f00\u53d1\u56e2\u961f\u6765\u81ea\u4ee5\u8272\u5217\uff08[\u516c\u53f8\u5b98\u7f51](https://www.treeverse.io)\u633a\u6709\u610f\u601d\uff09\uff0c\u9879\u76ee\u4f7f\u7528 Go \u8bed\u8a00\u5b9e\u73b0\u3002\u4e00\u4e9b\u7c7b\u4f3c\u7684\u9879\u76ee\u8fd8\u6709 [DVC](https://dvc.org)\u3001[Quilt](https://github.com/quiltdata/quilt) \u4ee5\u53ca [Hanger](https://github.com/tensorwerk/hangar-py)\u3002\\n\\n## Magnet: A scalable and performant shuffle architecture for Apache Spark\\n\\n[[\u94fe\u63a5]](https://engineering.linkedin.com/blog/2020/introducing-magnet)\\n\\n\u5728[\u7b2c 6 \u671f](/issues/6) Maybe News \u66fe\u7ecf\u4ecb\u7ecd\u8fc7 Facebook \u7684 Cosco\uff0c\u4e00\u4e2a\u7ed9 Hive/Spark \u4f7f\u7528\u7684 remote shuffle service \u5b9e\u73b0\u3002\u672c\u671f\u4ecb\u7ecd\u7684 Magnet \u6765\u81ea LinkedIn\uff0c\u4e5f\u662f\u4e00\u4e2a shuffle service\u3002\u8ddf Cosco \u7684\u533a\u522b\u5728\u4e8e Magnet \u4e0d\u662f\u5b58\u7b97\u5206\u79bb\u67b6\u6784\uff0c\u4e0d\u4f9d\u8d56\u5916\u90e8\u5b58\u50a8\uff0c\u6838\u5fc3\u601d\u60f3\u662f mapper \u628a shuffle \u6570\u636e\u5148\u5199\u5230\u672c\u5730\u7684 shuffle \u670d\u52a1\uff0c\u7136\u540e\u8fd9\u4e9b shuffle \u6570\u636e\u4f1a\u6839\u636e\u67d0\u79cd\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\u63a8\u5230\u8fdc\u7aef\u7684 shuffle \u670d\u52a1\u4e0a\uff0c\u8fdc\u7aef shuffle \u670d\u52a1\u4f1a\u5b9a\u671f\u5408\u5e76\uff08merge\uff09\u6570\u636e\uff0c\u6700\u540e reducer \u4ece\u8fdc\u7aef shuffle \u670d\u52a1\u8bfb\u53d6\u6570\u636e\u3002\u8fd9\u91cc\u7684\u300c\u8fdc\u7aef\u300d\u5176\u5b9e\u662f\u4e00\u4e2a\u76f8\u5bf9\u7684\u6982\u5ff5\uff0c\u6709\u53ef\u80fd reducer \u8ddf shuffle \u670d\u52a1\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u90a3\u5c31\u4e0d\u9700\u8981\u53d1\u9001 RPC \u8bf7\u6c42\u800c\u662f\u76f4\u63a5\u8bfb\u53d6\u672c\u5730\u78c1\u76d8\u7684\u6570\u636e\u3002\u66f4\u591a\u6280\u672f\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003 VLDB 2020 \u7684[\u8bba\u6587](http://www.vldb.org/pvldb/vol13/p3382-shen.pdf)\uff0c\u53e6\u5916 LinkedIn \u7684\u5de5\u7a0b\u5e08\u4e5f\u5728\u79ef\u6781\u5c06 Magnet \u8d21\u732e\u7ed9 Spark \u793e\u533a\uff0c\u76ee\u524d\u5df2\u7ecf\u5408\u5165\u4e86\u51e0\u4e2a PR\uff0c\u5177\u4f53\u8bf7\u53c2\u8003 [SPARK-30602](https://issues.apache.org/jira/browse/SPARK-30602)\u3002\\n\\n## \u652f\u4ed8\u5b9d\u7814\u7a76\u5458\u738b\u76ca\uff1aGo+ \u53ef\u6709\u6548\u8865\u5168 Python \u7684\u4e0d\u8db3\\n\\n[[\u94fe\u63a5]](https://tech.antfin.com/community/articles/993)\\n\\n[\u738b\u76ca](https://github.com/wangkuiyi)\u76ee\u524d\u662f\u8682\u8681\u96c6\u56e2\u7814\u7a76\u5458\uff0c\u540c\u65f6\u4e5f\u662f\u5f00\u6e90\u9879\u76ee [SQLFlow](https://github.com/sql-machine-learning/sqlflow) \u548c [ElasticDL](https://github.com/sql-machine-learning/elasticdl) \u7684\u8d1f\u8d23\u4eba\uff08\u8fd9\u4e24\u4e2a\u9879\u76ee\u4e5f\u5f88\u6709\u610f\u601d\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u4e86\u89e3\u4e86\u89e3\uff09\u3002\u8fd9\u91cc\u4ecb\u7ecd\u7684 [Go+](https://github.com/goplus/gop) \u662f\u4e03\u725b\u521b\u59cb\u4eba\u8bb8\u5f0f\u4f1f\u53d1\u8d77\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u4ece Go+ \u7684 slogan\u300cthe language for data science\u300d\u5c31\u80fd\u770b\u51fa\u9879\u76ee\u7684\u8bbe\u8ba1\u521d\u8877\u3002\u5982\u679c\u8bf4\u76ee\u524d\u4ec0\u4e48\u7f16\u7a0b\u8bed\u8a00\u5728\u6570\u636e\u79d1\u5b66\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u6700\u53d7\u6b22\u8fce\uff0c\u90a3\u53ef\u80fd\u5c31\u662f Python \u4e86\u3002\u4f46\u662f Python \u7684\u8bed\u8a00\u7279\u6027\u51b3\u5b9a\u4e86\u5b83\u53ef\u80fd\u5e76\u4e0d\u662f\u6700\u9002\u5408\u7684\uff0cGo+ \u4f9d\u6258 Go \u8bed\u8a00\u4f5c\u4e3a\u57fa\u7840\uff0c\u5f88\u597d\u5730\u5f25\u8865\u4e86 Python \u7684\u7f3a\u5931\u3002\u63a8\u8350\u5bf9\u673a\u5668\u5b66\u4e60\u611f\u5174\u8da3\u7684\u540c\u5b66\u770b\u770b\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5176\u4e2d\u63d0\u5230\u7684\u4e00\u4e9b\u516b\u5366\u5386\u53f2\u4e5f\u5f88\u6709\u8da3\u3002"},{"id":"/7","metadata":{"permalink":"/issues/7","source":"@site/blog/7.md","title":"Issue #7","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aDelta Lake\u3001Delta Engine\u3001Iceberg\u3001Hudi\u3001Ring Allreduce\u3001TensorFlow Recommenders","date":"2020-11-15T16:37:20.000Z","formattedDate":"November 15, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":17.825,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #7","date":"2020-11-15 16:37:20 +0800","tags":["issue"]},"prevItem":{"title":"Issue #8","permalink":"/issues/8"},"nextItem":{"title":"Issue #6","permalink":"/issues/6"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aDelta Lake\u3001Delta Engine\u3001Iceberg\u3001Hudi\u3001Ring Allreduce\u3001TensorFlow Recommenders\\n\\n\x3c!--truncate--\x3e\\n\\n## Delta Lake: High-Performance ACID Table Storage over Cloud Object Stores\\n\\n[[\u94fe\u63a5]](https://databricks.com/research/delta-lake-high-performance-acid-table-storage-overcloud-object-stores)\\n\\n14 \u5e74\u524d\uff0cAmazon \u53d1\u5e03\u4e86 EC2\uff08Elastic Compute Cloud\uff09\u548c S3\uff08Simple Storage Service\uff09\u8fd9\u4e24\u4e2a\u5212\u65f6\u4ee3\u7684\u4ea7\u54c1\uff0c\u4ece\u6b64\u300c\u4e91\u8ba1\u7b97\u300d\u8fd9\u4e2a\u8bcd\u5f00\u59cb\u8fdb\u5165\u5927\u4f17\u7684\u89c6\u91ce\uff0c\u7ecf\u8fc7\u5341\u51e0\u5e74\u7684\u53d1\u5c55\u5df2\u7ecf\u9010\u6e10\u88ab\u5927\u4f17\u6240\u8ba4\u77e5\u4e0e\u63a5\u53d7\u3002\u300c\u4e91\u300d\u610f\u5473\u7740\u8fd1\u4e4e\u65e0\u9650\u7684\u8d44\u6e90\uff0cEC2 \u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u8ba1\u7b97\u8d44\u6e90\uff0cS3 \u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5b58\u50a8\u8d44\u6e90\u3002\u4f20\u7edf\u57fa\u4e8e Hadoop \u7684\u5927\u6570\u636e\u5e73\u53f0\u662f\u5c06\u8fd9\u4e24\u79cd\u8d44\u6e90\u7ed1\u5b9a\u5728\u4e00\u8d77\u7684\uff0c\u800c\u8fc1\u79fb\u5230\u4e91\u7aef\u4ee5\u540e\u975e\u5e38\u81ea\u7136\u5730\u4f1a\u60f3\u5230\u5c06\u5b58\u50a8\u8d44\u6e90\u8f6c\u5230\u7c7b\u4f3c S3 \u7684\u5bf9\u8c61\u5b58\u50a8\u4e2d\uff0c\u4ece\u800c\u771f\u6b63\u5b9e\u73b0\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\uff0c\u80fd\u591f\u66f4\u52a0\u5f39\u6027\u5730\u7ba1\u7406\u8ba1\u7b97\u548c\u5b58\u50a8\u8fd9\u4e24\u79cd\u5929\u751f\u5f02\u6784\u7684\u8d44\u6e90\uff0c\u65e2\u5927\u5e45\u8282\u7ea6\u4e86\u6210\u672c\u8fd8\u7701\u53bb\u4e86\u8fd0\u7ef4 HDFS \u96c6\u7fa4\u7684\u5404\u79cd\u70e6\u607c\u3002\\n\\n\u4f5c\u4e3a Spark \u7684\u53d1\u660e\u8005\uff0cDatabricks \u8fd9\u5bb6\u5546\u4e1a\u516c\u53f8\u7684\u5f88\u591a\u5ba2\u6237\u540c\u65f6\u4e5f\u662f AWS \u7684\u5ba2\u6237\uff0c\u56e0\u6b64\u6709\u7740\u975e\u5e38\u4e30\u5bcc\u7684\u5728\u5927\u6570\u636e\u573a\u666f\u4f7f\u7528 S3 \u7684\u7ecf\u9a8c\u3002\u8fd9\u4e9b\u7ecf\u9a8c\u66b4\u9732\u4e86 S3\uff08\u6216\u8005\u7c7b\u4f3c\u7684\u5bf9\u8c61\u5b58\u50a8\uff09\u4f5c\u4e3a HDFS \u66ff\u4ee3\u8005\u7684\u79cd\u79cd\u7f3a\u9677\u3002\\n\\n\u5bf9\u8c61\u5b58\u50a8\uff08object store\uff09\u7684\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u5f88\u591a bucket\uff0c\u6bcf\u4e2a bucket \u4e2d\u5b58\u50a8\u4e86\u5f88\u591a\u5bf9\u8c61\uff08object\uff09\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u4f1a\u6709\u4e00\u4e2a\u552f\u4e00\u7684 key \u4f5c\u4e3a\u6807\u8bc6\u3002\u56e0\u6b64\u5bf9\u8c61\u5b58\u50a8\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a K/V \u5b58\u50a8\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u4e3a\u901a\u5e38\u7684\u8ba4\u77e5\u90fd\u4f1a\u5c06\u5bf9\u8c61\u5b58\u50a8\u7b49\u540c\u4e8e\u6587\u4ef6\u7cfb\u7edf\uff08file system\uff09\u3002\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u300c\u76ee\u5f55\u300d\u5176\u5b9e\u662f\u901a\u8fc7 key \u7684\u524d\u7f00\u6a21\u62df\u51fa\u6765\u7684\uff0c\u867d\u7136\u5bf9\u8c61\u5b58\u50a8\u63d0\u4f9b\u7c7b\u4f3c LIST \u76ee\u5f55\u8fd9\u6837\u7684 API\uff0c\u5e95\u5c42\u5b9e\u73b0\u5374\u662f\u904d\u5386\u76f8\u540c\u524d\u7f00\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u662f O(1) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u4f46\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\u662f O(n)\u3002\u66f4\u52a0\u4e25\u91cd\u7684\u60c5\u51b5\u662f\uff0cS3 \u7684 LIST API \u6bcf\u6b21\u8bf7\u6c42\u6700\u591a\u8fd4\u56de 1000 \u4e2a key\uff0c\u5355\u6b21\u8bf7\u6c42\u5ef6\u65f6\u901a\u5e38\u4e3a\u51e0\u5341\u5230\u51e0\u767e\u6beb\u79d2\uff0c\u56e0\u6b64\u5f53\u5904\u7406\u8d85\u5927\u89c4\u6a21\u7684\u6570\u636e\u96c6\u65f6\u5355\u5355\u82b1\u5728\u904d\u5386\u4e0a\u7684\u65f6\u95f4\u5c31\u53ef\u80fd\u662f\u5206\u949f\u7ea7\u3002\u91cd\u547d\u540d\u5bf9\u8c61\u6216\u8005\u76ee\u5f55\u4e5f\u662f\u4e00\u6837\uff0c\u6587\u4ef6\u7cfb\u7edf\u662f\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\uff0c\u5bf9\u8c61\u5b58\u50a8\u662f\u5148\u62f7\u8d1d\u5230\u65b0\u8def\u5f84\uff0c\u518d\u5220\u9664\u539f\u8def\u5f84\u7684\u5bf9\u8c61\uff0c\u4ee3\u4ef7\u975e\u5e38\u9ad8\u3002\\n\\n\u53e6\u4e00\u4e2a\u5bf9\u8c61\u5b58\u50a8\u4e25\u91cd\u7684\u95ee\u9898\u662f\u4e00\u81f4\u6027\u6a21\u578b\uff0cS3 \u7684\u4e00\u81f4\u6027\u6a21\u578b\u662f[\u6700\u7ec8\u4e00\u81f4\u6027](https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel)\u3002\u5f53\u67d0\u4e2a\u5ba2\u6237\u7aef\u4e0a\u4f20\u4e86\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u4ee5\u540e\uff0c\u5176\u5b83\u5ba2\u6237\u7aef\u5e76\u4e0d\u4e00\u5b9a\u4fdd\u8bc1\u80fd\u7acb\u5373 LIST \u6216\u8005\u8bfb\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u3002\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u66f4\u65b0\u6216\u8005\u5220\u9664\u4ee5\u540e\u4e5f\u4f1a\u53d1\u751f\u540c\u6837\u7684\u73b0\u8c61\uff0c\u5373\u4f7f\u662f\u8d1f\u8d23\u5199\u5165\u7684\u8fd9\u4e2a\u5ba2\u6237\u7aef\u81ea\u5df1\u4e5f\u6709\u53ef\u80fd\u9047\u5230\u3002S3 \u80fd\u786e\u4fdd\u7684\u4e00\u81f4\u6027\u662f read-after-write\uff0c\u4e5f\u5c31\u662f\u8bf4 PUT \u8bf7\u6c42\u4ea7\u751f\u4ee5\u540e\u7684 GET \u8bf7\u6c42\u662f\u4fdd\u8bc1\u4e00\u5b9a\u80fd\u8fd4\u56de\u6b63\u786e\u6570\u636e\u7684\u3002\\n\\n\u8bba\u6587\u6982\u8ff0\u4e86\u76ee\u524d\u5927\u6570\u636e\u5b58\u50a8\u7684 3 \u79cd\u65b9\u6848\uff1a\u5206\u533a\u76ee\u5f55\u3001\u81ea\u5b9a\u4e49\u5b58\u50a8\u5f15\u64ce\u3001\u5143\u6570\u636e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\uff0c\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u3002\\n\\n**\u5206\u533a\u76ee\u5f55**\u987e\u540d\u601d\u4e49\u5c31\u662f\u5c06\u6570\u636e\u6309\u7167\u67d0\u4e9b\u5c5e\u6027\u8fdb\u884c\u5206\u533a\uff0c\u6bd4\u5982\u65e5\u671f\u3002\u8fd9\u662f\u5927\u6570\u636e\u9886\u57df\u975e\u5e38\u666e\u904d\u7684\u505a\u6cd5\uff0c\u597d\u5904\u662f\u53ef\u4ee5\u6839\u636e\u5206\u533a\u8fc7\u6ee4\u4e0d\u9700\u8981\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u80fd\u51cf\u5c11 LIST \u8bf7\u6c42\u7684\u6570\u91cf\u3002\u8fd9\u4e2a\u65b9\u6848\u5e76\u6ca1\u6709\u89e3\u51b3\u524d\u9762\u63d0\u5230\u7684\u5bf9\u8c61\u5b58\u50a8\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff1a\u4e0d\u652f\u6301\u8de8\u591a\u4e2a\u5bf9\u8c61\u7684\u539f\u5b50\u64cd\u4f5c\u3001\u6700\u7ec8\u4e00\u81f4\u6027\u3001\u4f4e\u6027\u80fd\u3001\u4e0d\u652f\u6301\u591a\u7248\u672c\u548c\u5ba1\u8ba1\u65e5\u5fd7\u3002\\n\\n**\u81ea\u5b9a\u4e49\u5b58\u50a8\u5f15\u64ce**\u7684\u610f\u601d\u662f\u5728\u4e91\u4e0a\u5b9e\u73b0\u4e00\u4e2a\u72ec\u7acb\u7684\u5143\u6570\u636e\u670d\u52a1\uff0c\u7c7b\u4f3c Snowflake\u3001[JuiceFS](https://juicefs.com) \u7684\u505a\u6cd5\u3002\u5bf9\u8c61\u5b58\u50a8\u53ea\u662f\u88ab\u5f53\u4f5c\u4e00\u4e2a\u65e0\u9650\u5bb9\u91cf\u7684\u5757\u5b58\u50a8\uff0c\u4e00\u5207\u5143\u6570\u636e\u64cd\u4f5c\u90fd\u4f9d\u8d56\u8fd9\u4e2a\u5355\u72ec\u7684\u5143\u6570\u636e\u670d\u52a1\u3002\u8fd9\u4e2a\u65b9\u6848\u7684\u6311\u6218\u662f\uff1a\\n\\n- \u6240\u6709 I/O \u64cd\u4f5c\u90fd\u9700\u8981\u7ecf\u8fc7\u5143\u6570\u636e\u670d\u52a1\uff0c\u8fd9\u4f1a\u5e26\u6765\u989d\u5916\u7684\u8bf7\u6c42\u5f00\u9500\uff0c\u964d\u4f4e\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002\\n- \u5b9e\u73b0\u4e00\u4e2a\u4e0e\u73b0\u6709\u8ba1\u7b97\u5f15\u64ce\u4e92\u901a\u7684\u8fde\u63a5\u5668\uff08connector\uff09\u9700\u8981\u66f4\u9ad8\u7684\u5de5\u7a0b\u6210\u672c\\n- \u7528\u6237\u4f1a\u56e0\u4e3a\u5143\u6570\u636e\u670d\u52a1\u800c\u7ed1\u5b9a\u5728\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u670d\u52a1\u4f9b\u5e94\u5546\u4e0a\uff0c\u6ca1\u6cd5\u76f4\u63a5\u8bbf\u95ee\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u6570\u636e\u3002\\n\\n**\u5143\u6570\u636e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d**\u662f Databricks \u63d0\u5021\u7684\u65b9\u6848\uff0c\u5373\u4eca\u5929\u4ecb\u7ecd\u7684 Delta Lake\u3002\u8fd9\u4e2a\u65b9\u6848\u548c\u524d\u4e00\u4e2a\u7684\u672c\u8d28\u533a\u522b\u662f\u4e0d\u5b58\u5728\u4e00\u4e2a\u4e2d\u5fc3\u5316\u7684\u5143\u6570\u636e\u670d\u52a1\uff0c\u5143\u6570\u636e\u662f\u901a\u8fc7\u300c\u65e5\u5fd7\u300d\u7684\u5f62\u5f0f\u76f4\u63a5\u5b58\u653e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\u3002\u4ece\u76ee\u5f55\u7ed3\u6784\u4e0a\u6765\u770b\uff0cDelta Lake \u5b9a\u4e49\u4e86\u4e00\u79cd\u7279\u6b8a\u7684\u5b58\u50a8\u683c\u5f0f\uff0c\u4f8b\u5982\u5bf9\u4e8e\u66f4\u65b0\u6216\u8005\u5220\u9664\u7684\u6570\u636e\u4f1a\u4ea7\u751f\u5f88\u591a\u5c0f\u7684 delta \u6587\u4ef6\u3002\u8fd9\u4e00\u70b9\u4e0a\u5176\u5b9e\u8ddf [Hive \u5b9e\u73b0 ACID](https://issues.apache.org/jira/browse/HIVE-5317) \u7684\u8bbe\u8ba1\u5f88\u50cf\uff0c\u540e\u8005\u5728 2013 \u5e74\u5c31\u5df2\u7ecf\u5f00\u59cb\u5f00\u53d1\uff0c\u800c Delta Lake \u9879\u76ee\u662f 2016 \u5e74\u542f\u52a8\uff0c\u5f88\u96be\u8bf4\u6709\u6ca1\u6709\u501f\u9274\u7684\u6210\u5206\u3002\u66f4\u52a0\u7c7b\u4f3c Delta Lake \u7684\u662f\u53e6\u5916\u4e24\u4e2a\u9879\u76ee\uff1a[Apache Hudi](https://hudi.apache.org) \u548c [Apache Iceberg](https://iceberg.apache.org)\uff0c\u5173\u4e8e\u8fd9\u51e0\u4e2a\u9879\u76ee\u7684\u5f02\u540c\u540e\u9762\u4f1a\u6709\u4e00\u4e2a\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0cDatabricks \u76ee\u524d\u5ba3\u4f20\u7684\u4e00\u4e9b Delta Lake \u72ec\u6709\u7684\u7279\u6027\uff08\u6bd4\u5982 Z-order clustering\uff09\u5176\u5b9e\u5e76\u6ca1\u6709\u5f00\u6e90\u3002\\n\\nDelta Lake \u7684\u601d\u60f3\u5176\u5b9e\u5f88\u597d\u7406\u89e3\uff0c\u672c\u8d28\u4e0a\u662f\u628a\u6240\u6709\u64cd\u4f5c\u90fd\u901a\u8fc7\u65e5\u5fd7\u7684\u5f62\u5f0f\u8bb0\u5f55\u4e0b\u6765\uff0c\u5f53\u8bfb\u53d6\u65f6\u9700\u8981\u91cd\u653e\u8fd9\u4e9b\u65e5\u5fd7\u6765\u5f97\u5230\u6700\u65b0\u7684\u6570\u636e\u72b6\u6001\uff0c\u6700\u7ec8\u5b9e\u73b0 ACID \u7684\u8bed\u4e49\u3002\u4f18\u5316\u7684\u70b9\u5728\u4e8e\u600e\u4e48\u52a0\u901f\u6574\u4e2a\u6d41\u7a0b\uff0c\u6bd4\u5982\u5b9a\u671f\u5408\u5e76\u65e5\u5fd7\u4e3a\u4e00\u4e2a checkpoint\u3001\u7d22\u5f15\u6700\u65b0\u7684 checkpoint \u7b49\u3002\u8fd9\u79cd\u628a\u65e5\u5fd7\u4f5c\u4e3a\u5143\u6570\u636e\u7684\u8bbe\u8ba1\u89e3\u51b3\u4e86\u524d\u9762\u63d0\u5230\u7684\u5bf9\u8c61\u5b58\u50a8\u6700\u7ec8\u4e00\u81f4\u6027\u7684\u95ee\u9898\uff0c\u5373\u53ea\u4f9d\u8d56\u65e5\u5fd7\u6765\u786e\u5b9a\u5177\u4f53\u8bfb\u53d6\u7684\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u901a\u8fc7 LIST \u4e00\u4e2a\u76ee\u5f55\u3002\u4f46\u662f\u4ece\u8bba\u6587\u63cf\u8ff0\u7684\u573a\u666f\u6765\u770b\u8fd8\u662f\u6709\u53ef\u80fd\u56e0\u4e3a\u6700\u7ec8\u4e00\u81f4\u6027\u8e29\u5751\uff08\u56e0\u4e3a\u4f9d\u7136\u4f1a\u7528\u5230 LIST API\uff09\uff0c\u81f3\u4e8e\u8fd9\u4e2a\u6982\u7387\u6709\u591a\u5927\u5c31\u4e0d\u77e5\u9053\u4e86\uff0c\u56e0\u6b64\u6211\u5bf9\u4e8e\u662f\u5426\u80fd\u6839\u672c\u6027\u89e3\u51b3\u4e00\u81f4\u6027\u95ee\u9898\u5b58\u7591\u3002\\n\\n\u5199\u6570\u636e\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u5730\u65b9\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u65e5\u5fd7\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u662f\u9012\u589e\u4e14\u5168\u5c40\u552f\u4e00\u7684 ID\uff0c\u56e0\u4e3a\u5199\u5165\u5b58\u5728\u5e76\u53d1\uff0c\u6240\u4ee5\u9700\u8981\u5728\u8fd9\u4e00\u6b65\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002\u6839\u636e\u4e0d\u540c\u7684\u5bf9\u8c61\u5b58\u50a8\u6709\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6848\uff1a\\n\\n- Google Cloud Storage \u548c Azure Blob Store \u56e0\u4e3a\u652f\u6301\u539f\u5b50 put-if-absent \u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a API \u5b9e\u73b0\u3002\\n- \u5bf9\u4e8e\u652f\u6301\u539f\u5b50 rename \u7684\u6587\u4ef6\u7cfb\u7edf\uff08\u6bd4\u5982 HDFS\u3001Azure Data Lake Storage\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u3002\\n- \u5982\u679c\u4ee5\u4e0a\u529f\u80fd\u90fd\u4e0d\u652f\u6301\uff08\u6bd4\u5982 S3\uff09\uff0c\u5728 Databricks \u7684\u4f01\u4e1a\u7248\u672c\u91cc\u662f\u901a\u8fc7\u4e00\u4e2a\u72ec\u7acb\u7684\u8f7b\u91cf\u7ea7\u534f\u8c03\u670d\u52a1\uff08coordination service\uff09\u6765\u786e\u4fdd ID \u9012\u589e\u7684\u539f\u5b50\u6027\u3002\u5728\u5f00\u6e90\u7248\u672c\u7684 Spark \u8fde\u63a5\u5668\u91cc\u662f\u901a\u8fc7 Spark driver \u6765\u7edf\u4e00\u5206\u914d ID\uff0c\u8fd9\u6837\u4e5f\u80fd\u4fdd\u8bc1\u5728 1 \u4e2a Spark \u4efb\u52a1\u91cc\u53ef\u4ee5\u5e76\u53d1\u5199\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 `LogStore` \u8fd9\u4e2a\u63a5\u53e3\u5b9e\u73b0\u4e00\u4e2a\u7c7b\u4f3c Databricks \u63d0\u4f9b\u7684\u534f\u8c03\u670d\u52a1\u3002\u56e0\u4e3a\u4f9d\u8d56\u4e86\u4e00\u4e2a\u4e2d\u5fc3\u5316\u7684\u670d\u52a1\uff08\u867d\u7136\u53ea\u662f\u5728\u5199\u6570\u636e\u65f6\uff09\uff0c\u4e5f\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7834\u574f\u4e86 Delta Lake \u5ba3\u626c\u7684\u53bb\u4e2d\u5fc3\u5316\u601d\u60f3\u3002\\n\\n\u7531\u4e8e\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u4e86\u6240\u6709\u7684\u5386\u53f2\u64cd\u4f5c\uff0c\u5e76\u4e14\u6570\u636e\u548c\u65e5\u5fd7\u90fd\u662f\u4e0d\u53ef\u53d8\u7684\uff08immutable\uff09\uff0c\u56e0\u6b64 Delta Lake \u53ef\u4ee5\u5f88\u8f7b\u677e\u5b9e\u73b0\u65f6\u95f4\u65c5\u884c\uff08Time Travel\uff09\u529f\u80fd\uff0c\u4e5f\u5c31\u662f\u91cd\u73b0\u67d0\u4e2a\u5386\u53f2\u65f6\u523b\u7684\u6570\u636e\u72b6\u6001\u3002Delta Lake \u901a\u8fc7\u7c7b\u4f3c `TIMESTAMP AS OF` \u8fd9\u79cd\u8bed\u6cd5\u7684 SQL \u53ef\u4ee5\u8ba9\u7528\u6237\u6307\u5b9a\u8bfb\u53d6\u67d0\u4e2a\u65f6\u95f4\u7684\u6570\u636e\uff0c\u4e0d\u8fc7\u8fd9\u4e2a SQL \u8bed\u6cd5\u76ee\u524d\u5728\u5f00\u6e90\u7248\u672c\u4e2d\u8fd8[\u4e0d\u652f\u6301](https://github.com/delta-io/delta/issues/128)\u3002\\n\\nDelta Lake \u4e5f\u53ef\u4ee5\u5f88\u597d\u5730\u8ddf\u6d41\u5f0f\u8ba1\u7b97\u8fdb\u884c\u7ed3\u5408\uff0c\u4e0d\u7ba1\u662f\u751f\u4ea7\u8005\u8fd8\u662f\u6d88\u8d39\u8005\u90fd\u53ef\u4ee5\u5229\u7528 Delta Lake \u7684 API \u6765\u5b9e\u73b0\u6d41\u5f0f\u5199\u548c\u8bfb\u6570\u636e\u3002\u5f53\u7136\u6bd5\u7adf\u56e0\u4e3a\u662f Databricks \u5f00\u53d1\u7684\u4ea7\u54c1\uff0c\u76ee\u524d\u7ed3\u5408\u5f97\u6700\u597d\u7684\u80af\u5b9a\u662f Spark Structured Streaming\u3002\u4f60\u95ee\u652f\u6301 Flink \u5417\uff1f\u81f3\u5c11 Databricks \u5458\u5de5\u7684[\u56de\u7b54](https://github.com/delta-io/delta/issues/156#issuecomment-552503730)\u662f\u8fd8\u5728\u8ba1\u5212\u4e2d\uff0c\u77ed\u671f\u5185\u4f30\u8ba1\u6ca1\u620f\u3002\\n\\n\u6700\u540e\u662f\u6027\u80fd\u8bc4\u6d4b\u90e8\u5206\u3002\u9996\u5148\u8bc4\u6d4b\u7684\u662f LIST \u5927\u91cf\u6587\u4ef6\u7684\u573a\u666f\uff0c\u901a\u8fc7\u5bf9\u540c\u4e00\u5f20\u8868\u8fdb\u884c\u4e0d\u540c\u7a0b\u5ea6\u5730\u5206\u533a\u6765\u6a21\u62df\u4e0d\u540c\u91cf\u7ea7\u7684\u6587\u4ef6\uff0c\u8bc4\u6d4b\u7684\u5f15\u64ce\u662f Hive\u3001Presto\u3001Databricks Runtime\uff08\u4f01\u4e1a\u7248 Spark\uff0c\u4ee5\u4e0b\u7b80\u79f0 DR\uff09\uff0c\u5176\u4e2d Hive \u548c Presto \u8bfb\u53d6\u7684\u6570\u636e\u683c\u5f0f\u662f Parquet\uff0cDR \u8bfb\u53d6\u7684\u683c\u5f0f\u662f Parquet \u548c Delta Lake\u3002Hive \u5728\u6709 1 \u4e07\u4e2a\u5206\u533a\u65f6\u603b\u65f6\u95f4\u5df2\u7ecf\u8d85\u8fc7 1 \u5c0f\u65f6\uff1bPresto \u7a0d\u597d\u4e00\u4e9b\u5728 10 \u4e07\u4e2a\u5206\u533a\u65f6\u624d\u8d85\u8fc7 1 \u5c0f\u65f6\uff1bDR + Parquet \u5728 10 \u4e07\u4e2a\u5206\u533a\u65f6\u7684\u8017\u65f6\u662f 450 \u79d2\uff08\u5f97\u76ca\u4e8e\u5e76\u53d1\u6267\u884c LIST \u8bf7\u6c42\uff09\uff1bDR + Delta Lake \u5728 1 \u767e\u4e07\u5206\u533a\u65f6\u7684\u8017\u65f6\u624d 108 \u79d2\uff0c\u5982\u679c\u542f\u7528\u4e86\u672c\u5730\u7f13\u5b58\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7f29\u77ed\u5230 17 \u79d2\uff0c\u53ef\u4ee5\u770b\u51fa\u6765\u4f18\u5316\u6548\u679c\u975e\u5e38\u660e\u663e\u3002\u8fd9\u4e2a\u7ed3\u679c\u4e5f\u57fa\u672c\u7b26\u5408\u9884\u671f\uff0c\u6bd5\u7adf Delta Lake \u4e3b\u8981\u76ee\u6807\u4e4b\u4e00\u5c31\u662f\u4f18\u5316 list \u7684\u6027\u80fd\uff08\u4ee5\u53ca\u4e00\u81f4\u6027\uff09\uff0c\u5bf9\u8c61\u5b58\u50a8\u5728\u5143\u6570\u636e\u6027\u80fd\u4e0a\u80af\u5b9a\u6ca1\u6709\u4f18\u52bf\u3002\\n\\n\u63a5\u4e0b\u6765\u662f\u66f4\u63a5\u8fd1\u771f\u5b9e\u573a\u666f\u7684 TPC-DS \u6d4b\u8bd5\uff0c\u6570\u636e\u96c6\u5927\u5c0f\u662f 1 TB\uff0c\u6d4b\u8bd5\u7ed3\u679c\u53d6\u7684\u662f 3 \u6b21\u8fd0\u884c\u65f6\u95f4\u7684\u5e73\u5747\u503c\u3002\u6700\u540e\u7684\u6570\u636e\u662f Presto + Parquet \u8017\u65f6 3.76 \u5c0f\u65f6\uff0c\u793e\u533a\u7248 Spark + Parquet \u8017\u65f6 1.44 \u5c0f\u65f6\uff0cDR + Parquet \u8017\u65f6 0.99 \u5c0f\u65f6\uff0cDR + Delta Lake \u8017\u65f6 0.93 \u5c0f\u65f6\u3002DR + Parquet \u76f8\u6bd4\u793e\u533a\u7248 Spark \u5feb\u7684\u4e3b\u8981\u539f\u56e0\u662f DR \u505a\u4e86\u5f88\u591a\u8fd0\u884c\u65f6\u548c\u6267\u884c\u8ba1\u5212\u7684\u4f18\u5316\uff0c\u76f8\u6bd4\u4e4b\u4e0b DR + Delta Lake \u5e76\u6ca1\u6709\u6bd4\u76f4\u63a5\u8bfb\u53d6 Parquet \u63d0\u5347\u592a\u591a\uff0c\u8bba\u6587\u4e2d\u7684\u89e3\u91ca\u662f TPC-DS \u7684\u8868\u5206\u533a\u90fd\u4e0d\u5927\uff0c\u4e0d\u80fd\u5b8c\u5168\u4f53\u73b0 Delta Lake \u7684\u4f18\u52bf\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b\uff0cDelta Lake \u7684\u601d\u60f3\u5176\u5b9e\u5e76\u4e0d\u590d\u6742\uff0c\u4e5f\u662f\u5de5\u4e1a\u754c\u4e3a\u4e86\u89e3\u51b3\u5bf9\u8c61\u5b58\u50a8\u8bf8\u591a\u95ee\u9898\u7684\u4e00\u79cd\u5c1d\u8bd5\uff0c\u867d\u7136\u5e76\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\uff08\u6bd4\u5982\u539f\u5b50\u91cd\u547d\u540d\u548c\u5220\u9664\uff09\u3002\u5728\u5927\u6570\u636e\u5b58\u50a8\u4e0a\u5b9e\u73b0 ACID \u8fd9\u4e00\u70b9\u5bf9\u4e8e\u6784\u5efa\u5b9e\u65f6\u6570\u4ed3\u81f3\u5173\u91cd\u8981\uff0cDelta Lake \u901a\u8fc7\u4e00\u79cd\u7b80\u5355\u7edf\u4e00\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u9700\u6c42\uff0c\u800c\u4e0d\u7528\u50cf\u4f20\u7edf\u7684 [Lambda \u67b6\u6784](https://en.wikipedia.org/wiki/Lambda_architecture)\u4e00\u6837\u518d\u5355\u72ec\u90e8\u7f72\u4e00\u5957\u5b58\u50a8\u7cfb\u7edf\uff08\u6bd4\u5982 HBase\u3001Kudu\uff09\u3002\u4f46\u73b0\u5728\u6d41\u5f0f\u8ba1\u7b97\u9886\u57df\u7684\u98ce\u5934\u5df2\u7ecf\u4ece Spark \u9010\u6e10\u8f6c\u5411\u4e86 Flink\uff0c\u50cf Delta Lake \u8fd9\u79cd\u53ea\u5bf9 Spark \u652f\u6301\u7684\u6280\u672f\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u4e5f\u4f1a\u9650\u5236\u5b83\u7684\u666e\u53ca\uff0c\u76f8\u6bd4\u4e4b\u4e0b Iceberg \u548c Hudi \u4f3c\u4e4e\u66f4\u6709\u7ade\u4e89\u529b\u3002\\n\\n## Delta Engine: High Performance Query Engine for Delta Lake\\n\\n[[\u94fe\u63a5]](https://www.youtube.com/watch?v=o54YMz8zvCY)\\n\\n\u524d\u9762\u4ecb\u7ecd\u4e86 Delta Lake\uff0c\u7b97\u662f Databricks \u4eca\u5e74\u4e00\u4e2a\u91cd\u91cf\u7ea7\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u4f46\u5176\u5b9e\u771f\u6b63\u7684\u6740\u624b\u950f\u5e76\u6ca1\u6709\u5f00\u653e\u51fa\u6765\uff0c\u4e5f\u5c31\u662f\u8fd9\u91cc\u8981\u4ecb\u7ecd\u7684 Delta Engine\u3002\u7b80\u5355\u4ecb\u7ecd\u8fd9\u662f\u4e00\u4e2a\u5728 Delta Lake \u4e4b\u4e0a\uff0c\u57fa\u4e8e Spark 3.0 \u7684\u8ba1\u7b97\u5f15\u64ce\u3002Delta Engine \u4e3b\u8981\u5305\u542b 3 \u90e8\u5206\uff1a\u539f\u751f\u6267\u884c\u5f15\u64ce\uff08Native Execution Engine\uff09\uff0c\u67e5\u8be2\u4f18\u5316\u5668\uff08Query Optimizer\uff09\u4ee5\u53ca\u7f13\u5b58\uff08Caching\uff09\u3002\u8fd9\u4e2a\u89c6\u9891\u91cd\u70b9\u4ecb\u7ecd\u4e86\u539f\u751f\u6267\u884c\u5f15\u64ce\uff0c\u8fd9\u4e2a\u5f15\u64ce\u7684\u4ee3\u53f7\u662f Photon\uff0c\u5b83\u4f7f\u7528 C++ \u7f16\u5199\uff0c\u5e76\u4e14\u5b9e\u73b0\u4e86\u76ee\u524d\u5728 OLAP \u9886\u57df\u5f88\u706b\u7684\u5411\u91cf\u5316\uff08vectorization\uff09\u529f\u80fd\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u5f3a\u70c8\u5efa\u8bae\u9605\u8bfb [MonetDB/X100: Hyper-Pipelining Query Execution](http://cidrdb.org/cidr2005/papers/P19.pdf) \u8fd9\u7bc7\u8bba\u6587\uff0cDatabricks \u5389\u5bb3\u7684\u5730\u65b9\u5728\u4e8e\u662f\u8ddf\u8bba\u6587\u4f5c\u8005 Peter Boncz \u4e00\u8d77\u5408\u4f5c\u8bbe\u8ba1\u3002\u5728 30 TB \u7684 TPC-DS \u6d4b\u8bd5\u4e2d\uff0cPhoton \u5e26\u6765\u4e86 3.3 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\u5173\u4e8e\u67e5\u8be2\u4f18\u5316\u5668\u4ee5\u53ca\u7f13\u5b58\u529f\u80fd\u7684\u4ecb\u7ecd\u53ef\u4ee5\u53c2\u8003 Delta Engine \u7684[\u6587\u6863](https://docs.databricks.com/delta/optimizations/index.html)\u3002\\n\\n## A Thorough Comparison of Delta Lake, Iceberg and Hudi\\n\\n[[\u94fe\u63a5]](https://databricks.com/session_na20/a-thorough-comparison-of-delta-lake-iceberg-and-hudi)\\n\\nIceberg \u548c Hudi \u662f\u53e6\u5916\u4e24\u4e2a\u4f1a\u7ecf\u5e38\u62ff\u6765\u8ddf Delta Lake \u505a\u6bd4\u8f83\u7684\u5bf9\u8c61\uff0cIceberg \u662f Netflix \u5f00\u6e90\uff0c\u800c Hudi \u662f Uber \u5f00\u6e90\u3002\u5b83\u4eec\u4e4b\u95f4\u6709\u7740\u8bf8\u591a\u76f8\u4f3c\u4e4b\u5904\uff0c\u53c8\u6709\u7740\u5f88\u591a\u622a\u7136\u4e0d\u540c\u7684\u8bbe\u8ba1\u601d\u60f3\u3002\u8fd9\u4e2a\u89c6\u9891\u6765\u81ea\u817e\u8baf\u4e91\u6570\u636e\u6e56\u56e2\u961f\u7684\u9648\u4fca\u6770\uff0c\u6bd4\u8f83\u7cfb\u7edf\u5730\u5bf9\u6bd4\u4e86\u8fd9 3 \u79cd\u6280\u672f\u3002\u76f8\u5bf9\u6765\u8bf4 Iceberg \u7684\u8bbe\u8ba1\u662f\u8fd9 3 \u4e2a\u91cc\u9762\u6700\u4e2d\u7acb\u7684\uff0c\u4e0d\u8ddf\u67d0\u79cd\u7279\u5b9a\u7684\u683c\u5f0f\u548c\u5f15\u64ce\u7ed1\u5b9a\uff0c\u8fd9\u4e5f\u662f\u817e\u8baf\u9009\u62e9 Iceberg \u7684\u539f\u56e0\u4e4b\u4e00\uff0c\u5177\u4f53\u53ef\u4ee5\u770b[\u300c\u4e3a\u4ec0\u4e48\u817e\u8baf\u770b\u597d Apache Iceberg\uff1f\u300d](https://www.infoq.cn/article/59lbbuvcrzlusmdowjbb)\u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## Bringing HPC Techniques to Deep Learning\\n\\n[[\u94fe\u63a5]](https://andrew.gibiansky.com/blog/machine-learning/baidu-allreduce)\\n\\n\u6df1\u5ea6\u5b66\u4e60\u7684\u6838\u5fc3\u4e4b\u4e00\u662f [SGD](https://en.wikipedia.org/wiki/Stochastic_gradient_descent)\uff08Stochastic Gradient Descent\uff09\uff0c\u901a\u8fc7\u628a\u6570\u636e\u96c6\u62c6\u5206\u6210\u82e5\u5e72\u5c0f\u7684\u96c6\u5408\uff08mini-batch\uff09\uff0c\u518d\u57fa\u4e8e\u8fd9\u4e9b\u5c0f\u96c6\u5408\u53cd\u590d\u8fdb\u884c\u524d\u5411\u4f20\u64ad\uff08forward propagation\uff09\u548c\u53cd\u5411\u4f20\u64ad\uff08backpropagation\uff09\u8ba1\u7b97\uff0c\u4e0d\u65ad\u83b7\u53d6\u65b0\u7684\u68af\u5ea6\uff08gradient\uff09\u548c\u6743\u91cd\uff08weight\uff09\u3002\u5206\u5e03\u5f0f\u8bad\u7ec3\u672c\u8d28\u4e0a\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5c31\u662f\u600e\u4e48\u8ba9\u591a\u673a\u8ba1\u7b97\u7684\u6548\u7387\u7ebf\u6027\u63d0\u5347\uff0c\u5373\u6240\u8c13\u7684\u300c\u7ebf\u6027\u52a0\u901f\u6bd4\u300d\uff0c\u7406\u8bba\u503c\u5f53\u7136\u662f 100%\uff0c\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u5f80\u5f80\u5dee\u4e86\u5f88\u591a\u3002\u4f20\u7edf\u7684\u540c\u6b65 SGD \u5728\u6bcf\u4e00\u8f6e\u8ba1\u7b97\u5b8c\u4ee5\u540e\u9700\u8981\u628a\u6240\u6709\u68af\u5ea6\u6c47\u603b\uff0c\u518d\u91cd\u65b0\u8ba1\u7b97\u65b0\u7684\u6743\u91cd\uff0c\u7c7b\u4f3c\u4e00\u4e2a MapReduce \u7684\u8fc7\u7a0b\uff0c\u6b64\u65f6 reducer \u9700\u8981\u7b49\u5f85\u6240\u6709 mapper \u8ba1\u7b97\u5b8c\u6210\uff0c\u8ba1\u7b97\u6027\u80fd\u4f1a\u968f\u7740 mapper \u6570\u91cf\u7684\u589e\u52a0\u800c\u7ebf\u6027\u4e0b\u964d\u3002\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u8fd9\u7bc7 2017 \u5e74\u7684\u65e7\u6587\u4ecb\u7ecd\u7684\u4fbf\u662f\u5f71\u54cd\u81f3\u4eca\u7684 Ring Allreduce \u7b97\u6cd5\uff0c\u4f5c\u8005 Andrew Gibiansky \u4e4b\u524d\u5728\u767e\u5ea6\u7845\u8c37 AI \u5b9e\u9a8c\u5ba4\u5de5\u4f5c\uff0c\u540e\u6765\u8054\u5408\u521b\u529e\u4e86\u8bed\u97f3\u5408\u6210\u516c\u53f8 [Voicery](https://www.voicery.com)\uff08\u4e0d\u8fc7\u60b2\u5267\u5730\u53d1\u73b0\u8fd9\u5bb6\u516c\u53f8\u4eca\u5e74 10 \u6708\u4efd\u5df2\u7ecf\u5173\u4e86\uff09\u3002\u57fa\u4e8e Andrew Gibiansky \u7684\u6210\u679c\uff0cUber \u5f00\u6e90\u4e86\u76ee\u524d\u516c\u8ba4\u7684 Ring Allreduce \u6807\u51c6\u6846\u67b6 [Horovod](https://github.com/uber/horovod)\u3002\\n\\n## Introducing TensorFlow Recommenders\\n\\n[[\u94fe\u63a5]](https://blog.tensorflow.org/2020/09/introducing-tensorflow-recommenders.html)\\n\\n\u63a8\u8350\u7cfb\u7edf\u662f\u4e00\u76f4\u90fd\u662f\u673a\u5668\u5b66\u4e60\u4e00\u4e2a\u91cd\u8981\u7684\u5e94\u7528\u9886\u57df\uff0c\u5982\u679c\u4f60\u4e0d\u4e86\u89e3\u4ec0\u4e48\u662f\u63a8\u8350\u7cfb\u7edf\u53ef\u4ee5\u770b\u6211\u4e4b\u524d\u5199\u7684[\u4e00\u7bc7\u7b80\u4ecb](https://xiaogaozi.org/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1)\u3002\u4f7f\u7528 TensorFlow \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8bad\u7ec3\u4e00\u4e2a\u63a8\u8350\u7cfb\u7edf\u6a21\u578b\uff0c\u4e0d\u7ba1\u662f\u53ec\u56de\u6a21\u578b\u8fd8\u662f\u6392\u5e8f\u6a21\u578b\u3002\u73b0\u5728 TensorFlow \u5b98\u65b9\u5c06\u8fd9\u4e2a\u6d41\u7a0b\u8fdb\u4e00\u6b65\u7b80\u5316\uff0c\u63a8\u51fa\u4e86 TensorFlow Recommenders\uff08TFRS\uff09\u5e93\uff0c\u65e8\u5728\u8ba9\u8bad\u7ec3\u3001\u8bc4\u4f30\u3001serving \u63a8\u8350\u7cfb\u7edf\u6a21\u578b\u66f4\u52a0\u5bb9\u6613\uff0c\u5e76\u4e14\u878d\u5408\u4e00\u4e9b Google \u81ea\u5df1\u7684\u7ecf\u9a8c\uff0c\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\u4f1a\u662f\u4e00\u4e2a\u597d\u7684\u5165\u95e8\u6307\u5357\u3002"},{"id":"/6","metadata":{"permalink":"/issues/6","source":"@site/blog/6.md","title":"Issue #6","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aPresto\u3001Spark shuffle\u3001Facebook Cosco\u3001Federated Learning\u3001Distributed file system","date":"2020-09-15T18:54:00.000Z","formattedDate":"September 15, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":24.655,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #6","date":"2020-09-15 18:54:00 +0800","tags":["issue"]},"prevItem":{"title":"Issue #7","permalink":"/issues/7"},"nextItem":{"title":"Issue #5","permalink":"/issues/5"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aPresto\u3001Spark shuffle\u3001Facebook Cosco\u3001Federated Learning\u3001Distributed file system\\n\\n\x3c!--truncate--\x3e\\n\\n## Presto: SQL on Everything\\n\\n[[\u94fe\u63a5]](https://prestosql.io/Presto_SQL_on_Everything.pdf)\\n\\nPresto \u662f Facebook 2012 \u5e74\u5f00\u59cb\u5f00\u53d1\u5e76\u4e8e 2013 \u5e74\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u67e5\u8be2\u5f15\u64ce\u3002\u548c[\u7b2c 3 \u671f](/issues/3)\u4ecb\u7ecd\u7684 Kudu \u4e00\u6837\uff0c\u4e3b\u8981\u5e94\u7528\u5728 OLAP \u573a\u666f\uff0c\u4f46\u8ddf Kudu \u4e0d\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0cPresto \u4ec5\u4ec5\u662f\u4e00\u4e2a\u67e5\u8be2\u5f15\u64ce\uff0c\u5e76\u4e0d\u8d1f\u8d23\u6570\u636e\u5b58\u50a8\u3002\u8fd9\u4e5f\u662f\u8bba\u6587\u6807\u9898\u300cSQL on Everything\u300d\u7684\u542b\u4e49\uff0c\u8fd9\u91cc\u7684\u300cEverything\u300d\u6307\u4ee3\u7684\u5373\u662f\u4efb\u610f\u7c7b\u578b\u7684\u5b58\u50a8\uff0c\u6bd4\u5982 HDFS\u3001MySQL \u7b49\u3002\\n\\n\u8bba\u6587\u5f00\u7bc7\u5148\u603b\u7ed3\u4e86 Presto \u51e0\u4e2a\u503c\u5f97\u5173\u6ce8\u7684\u7279\u70b9\uff1a\\n\\n- Presto \u662f\u4e00\u4e2a\u81ea\u9002\u5e94\u7684\u591a\u79df\u6237\u7cfb\u7edf\uff08adaptive multi-tenant system\uff09\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u6269\u5c55\u5230\u4e0a\u5343\u8282\u70b9\u7684\u540c\u65f6\uff0c\u8fd8\u80fd\u6709\u6548\u5229\u7528\u96c6\u7fa4\u8d44\u6e90\u3002\u8fd9\u91cc\u7684\u300c\u81ea\u9002\u5e94\u300d\u5f88\u91cd\u8981\uff0c\u662f\u5c06 Presto \u548c\u5176\u5b83\u7cfb\u7edf\u8fdb\u884c\u6bd4\u8f83\u7684\u8981\u70b9\u4e4b\u4e00\u3002\\n- Presto \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u548c\u591a\u79cd\u6570\u636e\u6e90\u8fdb\u884c\u96c6\u6210\uff0c\u751a\u81f3\u5728 1 \u6761\u67e5\u8be2\u8bed\u53e5\u91cc\u5c31\u53ef\u4ee5\u540c\u65f6\u67e5\u8be2\u591a\u4e2a\u6570\u636e\u6e90\u3002Presto \u901a\u8fc7\u8fde\u63a5\u5668\uff08connector\uff09\u7684\u6982\u5ff5\u7edf\u4e00\u5e95\u5c42\u5b58\u50a8\u7684\u8bbf\u95ee\u3002\\n- \u901a\u8fc7\u4e0d\u540c\u7684\u914d\u7f6e\u53ef\u4ee5\u8ba9 Presto \u540c\u65f6\u9002\u914d\u4e0d\u540c\u7684\u573a\u666f\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\u5728\u540e\u7eed\u4ecb\u7ecd Facebook \u7684\u67e5\u8be2\u573a\u666f\u65f6\u4e5f\u6709\u4f53\u73b0\u3002\\n- Presto \u901a\u8fc7\u5f88\u591a\u5173\u952e\u7279\u6027\u5b9e\u73b0\u4e86\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u67e5\u8be2\u5f15\u64ce\u3002\u591a\u4e2a\u5e76\u884c\u7684\u67e5\u8be2\u5728\u540c\u4e00\u4e2a JVM \u4e2d\u8fd0\u884c\uff0c\u867d\u7136\u53ef\u4ee5\u964d\u4f4e\u54cd\u5e94\u65f6\u95f4\uff0c\u4f46\u540c\u65f6\u4e5f\u9700\u8981\u5728\u8c03\u5ea6\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u9694\u79bb\u8fd9\u4e9b\u65b9\u9762\u7279\u522b\u6ce8\u610f\u3002\\n\\n\u63a5\u4e0b\u6765\u4ecb\u7ecd Facebook \u76ee\u524d\u4f7f\u7528 Presto \u7684\u51e0\u4e2a\u4e3b\u8981\u573a\u666f\uff1a\\n\\n- **\u4ea4\u4e92\u5f0f\u5206\u6790\uff08Interactive Analytics\uff09**\uff1a\u8fd9\u662f\u5c06 Facebook \u6570\u636e\u4ed3\u5e93\u4f5c\u4e3a\u6570\u636e\u6e90\u7684\u67e5\u8be2\u573a\u666f\u3002\u8fd9\u4e2a\u573a\u666f\u901a\u5e38\u67e5\u8be2\u7684\u6570\u636e\u91cf\u8f83\u5c0f\uff0c\u538b\u7f29\u540e\u5927\u6982 50GB-3TB \u5de6\u53f3\u3002\u5355\u96c6\u7fa4\u9700\u8981\u652f\u6301\u7684\u5e76\u53d1\u67e5\u8be2\u91cf\u5728 50-100 \u5de6\u53f3\uff0c\u79d2\u7ea7\u6216\u8005\u5206\u949f\u7ea7\u8fd4\u56de\u7ed3\u679c\u3002\u7528\u6237\u5bf9\u4e8e\u67e5\u8be2\u65f6\u95f4\u975e\u5e38\u654f\u611f\uff0c\u4f46\u540c\u65f6\u5bf9\u4e8e\u67e5\u8be2\u6240\u9700\u7684\u8d44\u6e90\u91cf\u6ca1\u6709\u7279\u522b\u7cbe\u786e\u7684\u5224\u65ad\u3002\u5728\u8fdb\u884c\u63a2\u7d22\u5f0f\u5206\u6790\u65f6\uff0c\u7528\u6237\u901a\u5e38\u4e0d\u9700\u8981\u8fd4\u56de\u6240\u6709\u7ed3\u679c\u96c6\uff0c\u53ea\u8981\u6709\u521d\u6b65\u7684\u7ed3\u679c\u6216\u8005\u6ee1\u8db3 `LIMIT` \u7684\u9650\u5236\u6574\u4e2a\u67e5\u8be2\u5c31\u53ef\u4ee5\u63d0\u524d\u7ec8\u6b62\u3002\\n- **\u6279\u91cf ETL\uff08Batch ETL\uff09**\uff1a\u8fd9\u4e2a\u573a\u666f\u7684\u7528\u6237\u4e00\u822c\u662f\u6570\u636e\u5de5\u7a0b\u5e08\uff0c\u76ee\u524d\u5df2\u7ecf\u662f Facebook \u5185\u90e8\u4e00\u4e2a\u5f88\u5927\u7684 Presto \u5e94\u7528\u573a\u666f\u3002\u76f8\u6bd4\u4ea4\u4e92\u5f0f\u67e5\u8be2\uff0cETL \u9700\u8981\u7684\u8d44\u6e90\u4e5f\u66f4\u591a\uff0c\u4e0d\u7ba1\u662f CPU \u8fd8\u662f\u5185\u5b58\uff0c\u7279\u522b\u662f\u5f53\u6d89\u53ca\u5230\u805a\u5408\u6216\u8005 join \u5f88\u591a\u5927\u8868\u7684\u65f6\u5019\u3002\u5728\u8fd9\u4e2a\u573a\u666f\u67e5\u8be2\u65f6\u95f4\u53cd\u800c\u6ca1\u6709\u90a3\u4e48\u91cd\u8981\uff0c\u66f4\u52a0\u91cd\u8981\u7684\u662f\u8d44\u6e90\u5229\u7528\u7387\u548c\u6574\u4f53\u96c6\u7fa4\u7684\u541e\u5410\u3002\\n- **A/B \u6d4b\u8bd5\uff08A/B Testing\uff09**\uff1a\u4e3a\u4e86\u6ee1\u8db3\u7528\u6237\u5bf9\u4ea7\u54c1\u9a8c\u8bc1\u8d8a\u6765\u8d8a\u5feb\u7684\u9700\u6c42\uff0cA/B \u6d4b\u8bd5\u7684\u7ed3\u679c\u9700\u8981\u5728\u5c0f\u65f6\u7ea7\uff08\u800c\u4e0d\u662f\u5929\u7ea7\uff09\u5185\u5f97\u5230\uff0c\u5e76\u4fdd\u8bc1\u6570\u636e\u5b8c\u6574\u4e14\u7cbe\u786e\u3002\u5f53\u7528\u6237\u9700\u8981\u8fdb\u884c\u66f4\u6df1\u5c42\u6b21\u7684\u5206\u6790\u65f6\uff0c\u67e5\u8be2\u7ed3\u679c\u9700\u8981\u5728 5-30 \u79d2\u5de6\u53f3\u8fd4\u56de\u3002\u5f88\u96be\u901a\u8fc7\u9884\u805a\u5408\uff08pre-aggregating\uff09\u7684\u65b9\u5f0f\u6ee1\u8db3\u8fd9\u4e9b\u67e5\u8be2\u9700\u6c42\uff0c\u56e0\u6b64\u5fc5\u987b\u901a\u8fc7\u5728\u7ebf\u8ba1\u7b97\u6765\u89e3\u51b3\u3002\u67e5\u8be2\u4f1a\u6d89\u53ca\u5230 join \u591a\u4e2a\u5927\u7684\u6570\u636e\u96c6\uff0c\u540c\u65f6\u67e5\u8be2\u8bed\u53e5\u7684\u7279\u5f81\u662f\u76f8\u5bf9\u56fa\u5b9a\u7684\u3002\\n- **\u5f00\u53d1\u8005\uff0f\u5e7f\u544a\u4e3b\u5206\u6790\uff08Developer/Advertiser Analytics\uff09**\uff1a\u8fd9\u662f\u9762\u5411\u5916\u90e8\u5f00\u53d1\u8005\u6216\u8005\u5e7f\u544a\u4e3b\u7684\u5206\u6790\u573a\u666f\uff0c\u6bd4\u5982 [Facebook Analytics](https://analytics.facebook.com)\u3002\u540c A/B \u6d4b\u8bd5\u573a\u666f\u4e00\u6837\uff0c\u8fd9\u4e2a\u573a\u666f\u7684\u67e5\u8be2\u8bed\u53e5\u7279\u5f81\u4e5f\u662f\u76f8\u5bf9\u56fa\u5b9a\u7684\u3002\u867d\u7136\u603b\u7684\u6570\u636e\u89c4\u6a21\u5f88\u5927\uff0c\u4f46\u662f\u7528\u6237\u67e5\u8be2\u65f6\u56e0\u4e3a\u4f1a\u9650\u5236\u5728\u4ed6\u81ea\u5df1\u7684\u6570\u636e\u91cc\u76f8\u5bf9\u6765\u8bf4\u67e5\u8be2\u91cf\u4f1a\u5c0f\u5f88\u591a\u3002\u6570\u636e\u63a5\u5165\uff08data ingestion\uff09\u7684\u65f6\u5ef6\u5927\u6982\u662f\u5206\u949f\u7ea7\uff0c\u67e5\u8be2\u65f6\u5ef6\u9700\u8981\u4e25\u683c\u9650\u5b9a\u5728 50 \u6beb\u79d2\u5230 5 \u79d2\u5de6\u53f3\u3002\u56e0\u4e3a\u5e94\u7528\u5728\u5916\u90e8\u5546\u4e1a\u4ea7\u54c1\uff0cPresto \u96c6\u7fa4\u7684\u53ef\u7528\u6027\u9700\u8981\u4fdd\u8bc1\u5728 99.999%\uff0c\u5e76\u4e14\u652f\u6301\u4e0a\u767e\u5e76\u53d1\u67e5\u8be2\u3002\\n\\n\u4ee5\u4e0a\u8fd9\u4e9b\u573a\u666f\u53ef\u80fd\u9664\u4e86 ETL \u4ee5\u5916\uff0c\u4e5f\u662f\u76ee\u524d\u5f88\u591a\u516c\u53f8\u4f7f\u7528 Presto \u7684\u4e3b\u8981\u573a\u666f\uff0c\u603b\u7684\u6765\u8bf4\u4e3b\u8981\u8fd8\u662f\u5e94\u7528\u5728\u4ea4\u4e92\u5f0f\u67e5\u8be2\u4e0a\u3002\\n\\n\u7136\u540e\u662f Presto \u6574\u4f53\u7684\u67b6\u6784\u4ecb\u7ecd\uff0c\u96c6\u7fa4\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\u7684\u8282\u70b9\uff1acoordinator \u548c worker\u3002Coordinator \u8282\u70b9\u8d1f\u8d23\u89e3\u6790\u3001\u89c4\u5212\u4ee5\u53ca\u4f18\u5316\u67e5\u8be2\uff0c\u901a\u5e38\u53ea\u4f1a\u6709 1 \u4e2a\u3002Worker \u8282\u70b9\u8d1f\u8d23\u5904\u7406\u67e5\u8be2\u8bf7\u6c42\uff0c\u6839\u636e\u96c6\u7fa4\u89c4\u6a21\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55\u3002\\n\\n\u5f53\u5ba2\u6237\u7aef\u901a\u8fc7 HTTP \u8bf7\u6c42\u5c06 SQL \u53d1\u9001\u7ed9 coordinator \u65f6\uff0c\u7ecf\u8fc7\u89e3\u6790\u548c\u5206\u6790\uff0ccoordinator \u4f1a\u751f\u6210\u4e00\u4e2a\u5206\u5e03\u5f0f\u6267\u884c\u8ba1\u5212\uff08distributed execution plan\uff09\u3002\u8fd9\u4e2a\u6267\u884c\u8ba1\u5212\u7531\u591a\u4e2a stage \u8fde\u63a5\u800c\u6210\uff0c\u7c7b\u4f3c\u4e00\u4e2a DAG \u7684\u5f62\u5f0f\u3002\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u6267\u884c\u8ba1\u5212\uff0cstage \u4f1a\u88ab\u5206\u53d1\u5230\u4e0d\u540c\u7684 worker\uff0c\u56e0\u6b64 stage \u4e4b\u95f4\u9700\u8981\u901a\u8fc7 shuffle \u6765\u4ea4\u6362\u6570\u636e\u3002\u6bcf\u4e2a stage \u5185\u90e8\u7531\u591a\u4e2a task \u7ec4\u6210\uff0c\u4e00\u4e2a task \u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a\u5904\u7406\u5355\u5143\uff08processing unit\uff09\u3002Task \u5185\u53c8\u7531\u591a\u4e2a pipeline \u6784\u6210\uff0c\u4e00\u4e2a pipeline \u5185\u5305\u542b\u4e00\u7cfb\u5217\u7684 operator\u3002\u5230\u8fd9\u91cc\uff0coperator \u5df2\u7ecf\u662f\u6700\u5c0f\u7684\u5904\u7406\u5355\u4f4d\uff0c\u901a\u5e38\u53ea\u8d1f\u8d23\u67d0\u4e00\u7c7b\u5355\u4e00\u8ba1\u7b97\u4efb\u52a1\u3002\\n\\nCoordinator \u5f88\u5927\u4e00\u90e8\u5206\u5de5\u4f5c\u662f\u8d1f\u8d23\u8c03\u5ea6\uff0c\u8c03\u5ea6\u5206\u4e3a\u4e09\u4e2a\u7ef4\u5ea6\uff1astage\u3001task \u548c split\u3002Stage \u8c03\u5ea6\u51b3\u5b9a stage \u7684\u6267\u884c\u987a\u5e8f\uff1btask \u8c03\u5ea6\u51b3\u5b9a\u591a\u5c11\u4efb\u52a1\u9700\u8981\u88ab\u8c03\u5ea6\u4ee5\u53ca\u5e94\u8be5\u5206\u914d\u7ed9\u54ea\u4e9b worker\uff1bsplit \u8c03\u5ea6\u51b3\u5b9a split \u4f1a\u88ab\u5206\u914d\u7ed9\u54ea\u4e9b\u4efb\u52a1\uff08\u5173\u4e8e split \u8fd9\u4e2a\u6982\u5ff5\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\u3002\\n\\n\u8c03\u5ea6 stage \u5206\u4e3a\u4e24\u79cd\u7b56\u7565\uff1aall-at-once \u548c phased\u3002All-at-once \u5f88\u597d\u7406\u89e3\u5c31\u662f\u6240\u6709 stage \u5e76\u884c\u6267\u884c\uff0c\u8fd9\u4e2a\u7b56\u7565\u53ef\u4ee5\u6700\u5927\u5316\u6267\u884c\u6548\u7387\uff0c\u9002\u5408\u65f6\u5ef6\u654f\u611f\u7684\u573a\u666f\uff08\u5982\u4ea4\u4e92\u5f0f\u5206\u6790\uff09\u3002\u800c phased \u7b56\u7565\u5c31\u662f\u53ea\u5e76\u884c\u6267\u884c\u90a3\u4e9b\u5f3a\u5173\u8054\u7684\u7ec4\u4ef6\uff0c\u6574\u4f53\u4efb\u52a1\u5206\u9636\u6bb5\u6267\u884c\uff0c\u8fd9\u4e2a\u7b56\u7565\u53ef\u4ee5\u6709\u6548\u964d\u4f4e\u5185\u5b58\u5360\u7528\uff0c\u9002\u5408 ETL \u573a\u666f\u3002\\n\\n\u5f53 stage \u8c03\u5ea6\u6210\u529f\uff0ccoordinator \u5373\u4f1a\u5f00\u59cb\u5206\u914d task\u3002\u4efb\u52a1\u8c03\u5ea6\u5668\u5c06 stage \u5206\u4e3a\u4e24\u7c7b\uff1aleaf \u548c intermediate\u3002Leaf stage \u8d1f\u8d23\u4ece\u8fde\u63a5\u5668\u4e2d\u8bfb\u53d6\u6570\u636e\uff0cintermediate stage \u8d1f\u8d23\u5904\u7406\u6765\u81ea\u5176\u5b83 stage \u7684\u4e2d\u95f4\u7ed3\u679c\u3002\u5bf9\u4e8e leaf stage\uff0c\u4efb\u52a1\u8c03\u5ea6\u5668\u4f1a\u6839\u636e\u5982\u7f51\u7edc\u62d3\u6251\u3001\u6570\u636e\u672c\u5730\u6027\u8fd9\u4e9b\u56e0\u7d20\u6765\u51b3\u5b9a\u5e94\u8be5\u628a task \u5206\u914d\u7ed9\u54ea\u4e9b worker \u8282\u70b9\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f9d\u8d56\u8fde\u63a5\u5668\u5b9e\u73b0\u7684 Data Layout API\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u9650\u5236\uff0cPresto \u503e\u5411\u4e8e\u628a leaf stage \u7684\u4efb\u52a1\u5206\u6563\u5230\u6574\u4e2a\u96c6\u7fa4\uff0c\u4ee5\u52a0\u5feb\u6570\u636e\u8bfb\u53d6\u6548\u7387\u3002Intermediate stage \u7684\u4efb\u52a1\u53ef\u4ee5\u88ab\u5206\u914d\u5230\u4efb\u610f\u8282\u70b9\u4e0a\uff0c\u4f46\u662f\u8c03\u5ea6\u5668\u4ecd\u7136\u9700\u8981\u51b3\u5b9a\u5f53\u524d\u6bcf\u4e2a stage \u6709\u591a\u5c11\u4efb\u52a1\u9700\u8981\u88ab\u8c03\u5ea6\uff0c\u4e14\u8fd9\u4e2a\u4efb\u52a1\u6570\u662f\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u8c03\u6574\u7684\u3002\\n\\n\u5f53 leaf stage \u7684\u4efb\u52a1\u5206\u914d\u597d\u4ee5\u540e\uff0c\u8fd9\u4e2a worker \u8282\u70b9\u4fbf\u53ef\u4ee5\u5f00\u59cb\u63a5\u6536\u6765\u81ea coordinator \u5206\u914d\u7684 split\u3002Split \u662f\u5bf9\u5e95\u5c42\u6570\u636e\u7684\u903b\u8f91\u5c01\u88c5\uff0c\u4f8b\u5982\u5e95\u5c42\u5b58\u50a8\u662f HDFS\uff0c\u90a3\u4e00\u4e2a split \u901a\u5e38\u5305\u542b\u7684\u4fe1\u606f\u6709\u6587\u4ef6\u8def\u5f84\u3001\u6587\u4ef6\u504f\u79fb\u7b49\u3002Leaf stage \u7684\u4efb\u52a1\u5fc5\u987b\u81f3\u5c11\u5206\u914d\u4e00\u4e2a split \u624d\u80fd\u5f00\u59cb\u8fd0\u884c\uff0c\u800c intermediate stage \u7684\u4efb\u52a1\u662f\u4e00\u76f4\u53ef\u8fd0\u884c\u7684\u3002Split \u7684\u521b\u5efa\u7531\u8fde\u63a5\u5668\u8d1f\u8d23\uff0c\u5e76\u4e14\u61d2\u5206\u914d\u7ed9 leaf stage \u7684\u4efb\u52a1\uff0c\u4e5f\u5c31\u662f\u8bf4\u5e76\u4e0d\u4f1a\u7b49\u5230\u6240\u6709 split \u90fd\u521b\u5efa\u5b8c\u6bd5\u3002\u8fd9\u6837\u505a\u6709\u51e0\u4e2a\u597d\u5904\uff1a\\n\\n- \u5c06\u8fde\u63a5\u5668\u521b\u5efa split \u7684\u65f6\u95f4\u4ece\u67e5\u8be2\u4e2d\u89e3\u8026\u3002\u67d0\u4e9b\u8fde\u63a5\u5668\uff08\u5982 Hive\uff09\u53ef\u80fd\u9700\u8981\u82b1\u8d39\u5f88\u957f\u65f6\u95f4\u53bb\u904d\u5386\u5206\u533a\u548c list \u6587\u4ef6\u3002\\n- \u67e5\u8be2\u53ef\u4ee5\u5c3d\u5feb\u5f00\u59cb\u6267\u884c\u800c\u4e0d\u7528\u7b49\u5230\u6240\u6709\u6570\u636e\u5904\u7406\u5b8c\u6bd5\u3002\u5728\u4ea4\u4e92\u5f0f\u5206\u6790\u573a\u666f\u5f88\u6709\u53ef\u80fd\u67e5\u8be2\u4f1a\u88ab\u63d0\u524d\u4e2d\u65ad\u3002\\n- \u6bcf\u4e2a worker \u7ef4\u62a4\u4e86\u4e00\u4e2a split \u7684\u961f\u5217\uff0ccoordinator \u5206\u914d split \u65f6\u4f1a\u4f18\u5148\u9009\u62e9\u961f\u5217\u957f\u5ea6\u6700\u77ed\u7684\u8282\u70b9\u3002\\n- \u4e0d\u7528\u4e00\u6b21\u4fdd\u5b58\u6240\u6709 split \u7684\u5143\u4fe1\u606f\u3002\u5bf9\u4e8e Hive \u8fde\u63a5\u5668\u6765\u8bf4\u5f88\u6709\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0a\u767e\u4e07\u4e2a split\uff0c\u8fd9\u4f1a\u76f4\u63a5\u5bfc\u81f4 coordinator \u5185\u5b58\u4e0d\u8db3\u3002\\n\\n\u4ecb\u7ecd\u5b8c\u4e86 coordinator \u7684\u5de5\u4f5c\u63a5\u4e0b\u6765\u5c31\u662f worker\u3002\u524d\u9762\u5df2\u7ecf\u63d0\u5230\u6700\u5c0f\u7684\u6267\u884c\u5355\u4f4d\u662f operator\uff0coperator \u8d1f\u8d23\u5904\u7406\u8f93\u5165\u6570\u636e\uff0c\u540c\u65f6\u8f93\u51fa\u5904\u7406\u5b8c\u7684\u6570\u636e\u3002Operator \u8f93\u5165\u8f93\u51fa\u7684\u6570\u636e\u5355\u5143\u53eb\u505a page\uff0c\u4e00\u4e2a page \u662f\u8fde\u63a5\u5668\u5c06 split \u4e2d\u7684\u591a\u884c\u6570\u636e\u8f6c\u4e3a\u5217\u5f0f\u5b58\u50a8\u4ee5\u540e\u4ea7\u751f\u7684\u6570\u636e\u7ed3\u6784\u3002Shuffle \u4e5f\u662f worker \u7684\u4e3b\u8981\u5de5\u4f5c\u4e4b\u4e00\uff0c\u533a\u522b\u4e8e\u4f20\u7edf\u7684 Hadoop \u7ec4\u4ef6\uff0cPresto \u662f\u57fa\u4e8e\u5168\u5185\u5b58\u7684 shuffle \u5b9e\u73b0\uff0c\u8fd9\u4e5f\u662f Presto \u6027\u80fd\u66f4\u4f18\u7684\u539f\u56e0\u4e4b\u4e00\u3002Shuffle \u7684\u6570\u636e\u4f1a\u6682\u5b58\u5728\u5185\u5b58\u7f13\u51b2\u533a\uff08buffer\uff09\u4e2d\uff0c\u7b80\u5355\u7406\u89e3 map \u7aef\u7684\u7f13\u51b2\u533a\u4e3a\u8f93\u51fa\u7f13\u51b2\u533a\uff0creduce \u7aef\u7684\u4e3a\u8f93\u5165\u7f13\u51b2\u533a\u3002\u8fd9\u4e24\u4e2a\u7f13\u51b2\u533a\u90fd\u662f\u6709\u5bb9\u91cf\u9650\u5236\u7684\uff0c\u4f1a\u6839\u636e\u6570\u636e\u6d88\u8d39\u7684\u901f\u7387\u52a8\u6001\u8c03\u6574\u751f\u4ea7\u901f\u7387\uff0c\u786e\u4fdd\u6574\u4f53\u4efb\u52a1\u7684\u7a33\u5b9a\u6027\u4ee5\u53ca\u591a\u79df\u6237\u4e4b\u95f4\u7684\u516c\u5e73\u6027\u3002\u5f53\u8f93\u51fa\u7f13\u51b2\u533a\u5bb9\u91cf\u6301\u7eed\u504f\u9ad8\u65f6\uff0cPresto \u4f1a\u51cf\u5c11\u53ef\u6d88\u8d39\u7684 split \u6570\u91cf\u3002\u8f93\u5165\u7f13\u51b2\u533a\u8fd9\u7aef\u4f1a\u6709\u4e00\u4e2a\u7c7b\u4f3c TCP \u6ed1\u52a8\u7a97\u53e3\u7684\u7b56\u7565\u52a8\u6001\u63a7\u5236\u4e0a\u6e38\u7684\u751f\u4ea7\u901f\u7387\u3002\\n\\n\u56de\u987e\u5f00\u7bc7\u603b\u7ed3\u7684 Presto \u7279\u70b9\uff0c\u5176\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u662f**\u81ea\u9002\u5e94\u7684\u591a\u79df\u6237\u573a\u666f**\uff0c\u4e0a\u4e00\u6bb5\u843d\u4ecb\u7ecd shuffle \u7f13\u51b2\u533a\u7684\u65f6\u5019\u5176\u5b9e\u5df2\u7ecf\u6d89\u53ca\u5230\u90e8\u5206\u9488\u5bf9\u6027\u7684\u4f18\u5316\u3002\u672c\u8d28\u4e0a\u8d44\u6e90\u7ba1\u7406\u9700\u8981\u8003\u8651\u7684\u5c31\u662f CPU \u548c\u5185\u5b58\u8fd9\u4e24\u79cd\u8d44\u6e90\uff0cPresto \u5206\u522b\u90fd\u6709\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6848\u3002\\n\\nCPU \u8c03\u5ea6\u573a\u666f\u6bcf\u4e2a split \u90fd\u4f1a\u6709\u4e00\u4e2a\u5141\u8bb8\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u4e00\u79d2\u5185\u6267\u884c\u7684\u6700\u5927 quanta\uff0c\u5f53 quanta \u8d85\u51fa\u65f6\u8fd9\u4e2a split \u5c06\u4f1a\u88ab\u653e\u56de\u961f\u5217\u91ca\u653e\u7ebf\u7a0b\u7ed9\u5176\u5b83 split\u3002\u5f53\u8f93\u51fa\u7f13\u51b2\u533a\u6ee1\uff08\u4e0b\u6e38\u6d88\u8d39\u6162\uff09\u3001\u8f93\u5165\u7f13\u51b2\u533a\u7a7a\uff08\u4e0a\u6e38\u751f\u4ea7\u6162\uff09\u6216\u8005\u96c6\u7fa4\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u5373\u4f7f quanta \u6ca1\u4f7f\u7528\u5b8c\u8c03\u5ea6\u5668\u4e5f\u4f1a\u5f3a\u884c\u5207\u6362\u4efb\u52a1\u3002\u8fd9\u4e2a\u57fa\u4e8e quanta \u7684\u8c03\u5ea6\u7b56\u7565\u4f7f\u5f97 Presto \u80fd\u591f\u6700\u5927\u5316 CPU \u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u5f53\u7ebf\u7a0b\u88ab\u91ca\u653e\u5e94\u8be5\u5982\u4f55\u6311\u9009\u4e0b\u4e00\u4e2a\u8fd0\u884c\u7684\u4efb\u52a1\u5462\uff1fPresto \u5efa\u7acb\u4e86\u4e00\u4e2a 5 \u7ea7\u7684\u53cd\u9988\u961f\u5217\uff08feedback queue\uff09\uff0c\u6bcf\u4e2a\u7b49\u7ea7\u90fd\u5206\u914d\u4e86\u4e00\u4e2a\u53ef\u914d\u7f6e\u7684 CPU \u65f6\u95f4\u6bd4\u4f8b\u3002\u968f\u7740\u4e00\u4e2a\u4efb\u52a1\u4f7f\u7528\u7684 CPU \u65f6\u95f4\u4e0d\u65ad\u7d2f\u79ef\uff0c\u8fd9\u4e2a\u4efb\u52a1\u4f1a\u79fb\u52a8\u5230\u66f4\u9ad8\u7b49\u7ea7\u7684\u961f\u5217\u3002\u4e5f\u5c31\u662f\u8bf4 Presto \u503e\u5411\u4e8e\u4f18\u5148\u6267\u884c\u90a3\u4e9b\u300c\u5feb\u300d\u7684\u4efb\u52a1\uff0c\u56e0\u4e3a\u7528\u6237\u671f\u671b\u8f7b\u7684\u67e5\u8be2\u5c3d\u5feb\u5b8c\u6210\uff0c\u800c\u5bf9\u4e8e\u90a3\u4e9b\u91cd\u7684\u67e5\u8be2\u6240\u9700\u7684\u65f6\u95f4\u4e0d\u592a\u654f\u611f\u3002\\n\\n\u5185\u5b58\u7ba1\u7406\u662f\u4e00\u4e2a\u6bd4 CPU \u66f4\u590d\u6742\u7684\u573a\u666f\u3002Presto \u5c06\u5185\u5b58\u5206\u4e3a\u4e24\u79cd\u7c7b\u522b\uff1a\u7528\u6237\uff08user\uff09\u548c\u7cfb\u7edf\uff08system\uff09\uff0c\u5e76\u5206\u522b\u7ef4\u62a4\u4e0d\u540c\u7684\u5185\u5b58\u6c60\u3002\u5f15\u64ce\u5bf9\u7528\u6237\u5185\u5b58\u548c\u603b\u5185\u5b58\uff08\u7528\u6237 + \u7cfb\u7edf\uff09\u90fd\u6709\u4e0d\u540c\u7684\u9650\u5236\uff0c\u8d85\u8fc7\u5168\u5c40\uff08\u6240\u6709 worker \u805a\u5408\u4ee5\u540e\uff09\u6216\u8005\u5355\u8282\u70b9\u5185\u5b58\u9650\u5236\u7684\u4efb\u52a1\u5c06\u4f1a\u88ab\u5f3a\u884c\u6740\u6389\u3002\u867d\u7136\u6709\u5168\u5c40\u7684\u5185\u5b58\u9650\u5236\uff0c\u4f46\u662f\u4e3a\u4e86\u6ee1\u8db3\u5e76\u884c\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u9700\u6c42\u901a\u5e38\u8fd8\u662f\u4f1a\u8d85\u5356\uff08overcommit\uff09\u5185\u5b58\uff0c\u5373\u4f7f\u771f\u7684\u51fa\u73b0\u90e8\u5206\u8282\u70b9\u5185\u5b58\u8017\u5c3d\u7684\u60c5\u51b5\uff0cPresto \u4e5f\u63d0\u4f9b\u4e86\u4e24\u79cd\u673a\u5236\u53bb\u786e\u4fdd\u6574\u4f53\u96c6\u7fa4\u7684\u7a33\u5b9a\u6027\u3002\u8fd9\u4e24\u79cd\u673a\u5236\u5206\u522b\u662f\uff1aspilling \u548c\u9884\u7559\u5185\u5b58\u6c60\uff08reserved pool\uff09\u3002Spilling \u5176\u5b9e\u5c31\u662f\u5728\u8282\u70b9\u5185\u5b58\u8017\u5c3d\u65f6\u6309\u7167\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u5347\u5e8f\u6392\u5217\uff0c\u4f9d\u6b21\u628a\u5185\u5b58\u4e2d\u7684\u72b6\u6001\u5199\u5230\u672c\u5730\u78c1\u76d8\u3002\u4e0d\u8fc7 Facebook \u5185\u90e8\u5e76\u6ca1\u6709\u5f00\u542f\u8fd9\u4e2a\u7279\u6027\uff0c\u56e0\u4e3a\u96c6\u7fa4\u8d44\u6e90\uff08TB \u7ea7\u7684\u5185\u5b58\uff09\u8db3\u591f\u652f\u6491\u7528\u6237\u7684\u4f7f\u7528\u573a\u666f\uff0c\u5168\u5185\u5b58\u8ba1\u7b97\u4e5f\u66f4\u52a0\u80fd\u4fdd\u8bc1\u67e5\u8be2\u7684\u6267\u884c\u65f6\u95f4\u3002\u5982\u679c\u6ca1\u6709\u5f00\u542f spilling \u7279\u6027\uff0c\u90a3 Presto \u5c06\u4f1a\u91c7\u7528\u9884\u7559\u5185\u5b58\u6c60\u7684\u7b56\u7565\u3002\u8fd9\u4e2a\u7b56\u7565\u7684\u5927\u610f\u662f\u628a\u5185\u5b58\u6c60\u5206\u4e3a\u901a\u7528\uff08general\uff09\u548c\u9884\u7559\uff08reserved\uff09\u4e24\u79cd\uff0c\u5f53\u4e00\u4e2a worker \u8282\u70b9\u7684\u901a\u7528\u5185\u5b58\u6c60\u8017\u5c3d\u65f6\u5c06\u4f1a\u628a\u8fd9\u4e2a\u8282\u70b9\u4e0a\u5360\u7528\u6700\u591a\u5185\u5b58\u7684\u67e5\u8be2\u300c\u664b\u5347\u300d\u5230\u9884\u7559\u5185\u5b58\u6c60\uff0c\u6574\u4e2a\u96c6\u7fa4\u540c\u4e00\u65f6\u95f4\u53ea\u5141\u8bb8\u4e00\u4e2a\u67e5\u8be2\u664b\u5347\u3002\u540e\u7eed\u7684\u5185\u5b58\u7533\u8bf7\u4f1a\u4f18\u5148\u6ee1\u8db3\u8fd9\u4e2a\u664b\u5347\u7684\u67e5\u8be2\uff0c\u76f4\u5230\u5b83\u6267\u884c\u5b8c\u6bd5\u3002\u8fd9\u4e2a\u7b56\u7565\u5f53\u7136\u4f1a\u5f71\u54cd\u6574\u4f53\u96c6\u7fa4\u7684\u6548\u7387\uff0c\u56e0\u6b64\u7528\u6237\u4e5f\u53ef\u4ee5\u9009\u62e9\u76f4\u63a5\u6740\u6389\u67e5\u8be2\u3002\\n\\n\u6700\u540e\u662f\u5bb9\u9519\uff08fault tolerance\uff09\u3002\u4f5c\u4e3a\u4e00\u4e2a\u591a\u79df\u6237\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u4f18\u826f\u7684\u5bb9\u9519\u6027\u662f\u4e00\u4e2a\u5fc5\u4e0d\u53ef\u5c11\u7684\u9700\u6c42\u3002\u4f46\u662f\u9057\u61be\u7684\u662f\u5728\u8fd9\u4e00\u70b9\u4e0a Presto \u505a\u5f97\u5e76\u4e0d\u597d\uff0ccoordinator \u4f9d\u7136\u662f\u5355\u70b9\uff08\u4e00\u4e2a\u9898\u5916\u8bdd\uff0cStarburst Data \u8fd9\u5bb6\u63d0\u4f9b\u5546\u4e1a Presto \u7248\u672c\u7684\u516c\u53f8[\u652f\u6301 coordinator HA](https://docs.starburstdata.com/latest/aws/high-availability.html)\uff09\uff0cworker \u5b95\u673a\u5c06\u4f1a\u5bfc\u81f4\u6240\u6709\u8fd0\u884c\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u7684\u67e5\u8be2\u5931\u8d25\uff08\u793e\u533a\u6709[\u4e00](https://github.com/prestodb/presto/issues/9855)[\u4e9b](https://github.com/prestosql/presto/issues/455) issue \u4f46\u662f\u76ee\u524d\u6ca1\u6709\u8fdb\u5c55\uff09\uff0cPresto \u975e\u5e38\u4f9d\u8d56\u5ba2\u6237\u7aef\u81ea\u5df1\u53bb\u91cd\u8bd5\u3002Facebook \u5185\u90e8\u662f\u901a\u8fc7\u5916\u90e8\u7684\u7f16\u6392\u7cfb\u7edf\u6765\u786e\u4fdd\u96c6\u7fa4\u7684\u53ef\u7528\u6027\uff0c\u5bf9\u4e8e\u4ea4\u4e92\u5f0f\u5206\u6790\u548c ETL \u573a\u666f\u6709 standby \u7684 coordinator\uff0cA/B \u6d4b\u8bd5\u548c\u5f00\u53d1\u8005\uff0f\u5e7f\u544a\u4e3b\u5206\u6790\u573a\u666f\u90e8\u7f72\u4e86\u591a\u6d3b\uff08multiple active\uff09\u96c6\u7fa4\u3002\u76d1\u63a7\u7cfb\u7edf\u5c06\u4f1a\u8bc6\u522b\u4e0d\u53ef\u7528\u7684\u8282\u70b9\u81ea\u52a8\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff0c\u5e76\u5728\u4e4b\u540e\u518d\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4\u3002\\n\\n\u5728\u5f00\u53d1 Presto \u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f5c\u8005\u4e5f\u603b\u7ed3\u4e86\u4e00\u4e9b\u5de5\u7a0b\u4e0a\u7684\u7ecf\u9a8c\uff1a\\n\\n- **\u81ea\u9002\u5e94\u80dc\u8fc7\u624b\u52a8\u8c03\u4f18\uff08Adaptiveness over configurability\uff09**\uff1a\u524d\u9762\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5f88\u591a Presto \u81ea\u9002\u5e94\u7684\u7279\u6027\uff0c\u4f5c\u8005\u8ba4\u4e3a\u5f53\u9762\u5bf9\u4e00\u4e2a\u591a\u79df\u6237\u573a\u666f\uff0c\u4e14\u67e5\u8be2\u7684\u7279\u5f81\u5343\u53d8\u4e07\u5316\u7684\u65f6\u5019\uff0c\u81ea\u9002\u5e94\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u5426\u5219\u5c31\u9700\u8981\u4eba\u5de5\u53bb\u9488\u5bf9\u6027\u5730\u624b\u52a8\u8c03\u4f18\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5728\u9762\u5bf9\u5927\u89c4\u6a21\u7684\u67e5\u8be2\u573a\u666f\u65f6\u662f\u6ca1\u6cd5\u6269\u5c55\u7684\u3002\\n- **\u975e\u5e38\u8f7b\u677e\u5730\u76d1\u63a7\uff08Effortless instrumentation\uff09**\uff1aPresto \u4f5c\u8005\u76f8\u4fe1\u53ef\u89c2\u5bdf\uff08observable\uff09\u7684\u7cfb\u7edf\u8bbe\u8ba1\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u8981\u5141\u8bb8\u5de5\u7a0b\u5e08\u53bb\u4e86\u89e3\u548c\u4f18\u5316\u81ea\u5df1\u4ee3\u7801\u7684\u6027\u80fd\u3002Presto \u6bcf\u4e2a worker \u5e73\u5747\u5bfc\u51fa\u4e86\u7ea6 10000 \u4e2a\u76d1\u63a7\u6307\u6807\uff0c\u7c92\u5ea6\u7ec6\u5230\u4e86 operator \u7ea7\u522b\uff0c\u5e76\u4f1a\u805a\u5408\u5230 task \u548c stage \u7ea7\u522b\u3002\\n- **\u9759\u6001\u914d\u7f6e\uff08Static configuration\uff09**\uff1a\u9519\u8bef\u7684\u914d\u7f6e\u53ef\u80fd\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u975e\u5e38\u5927\u7684\u5f71\u54cd\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u65f6\u523b\u5bf9\u7cfb\u7edf\u6574\u4f53\u72b6\u6001\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u4e86\u89e3\uff0cPresto \u4f5c\u8005\u9009\u62e9\u4f7f\u7528\u9759\u6001\u914d\u7f6e\u7684\u65b9\u6848\u800c\u4e0d\u662f\u52a8\u6001\u914d\u7f6e\u3002\\n- **\u5782\u76f4\u96c6\u6210\uff08Vertical integration\uff09**\uff1a\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u8981\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\u7684\u95ee\u9898\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5927\u578b\u9879\u76ee\u6765\u8bf4\u80af\u5b9a\u4f1a\u4f9d\u8d56\u5f88\u591a\u57fa\u7840\u5e93\uff0c\u90a3\u4ec0\u4e48\u65f6\u5019\u9009\u62e9\u7528\u5f00\u6e90\u5b9e\u73b0\uff0c\u4ec0\u4e48\u65f6\u5019\u9009\u62e9\u81ea\u7814\u662f\u4e00\u4e2a\u9700\u8981\u8ba4\u771f\u601d\u8003\u7684\u95ee\u9898\uff08\u5f53\u7136\u7c7b\u4f3c Google \u8fd9\u79cd\u53ea\u8003\u8651\u81ea\u7814\u7684\u516c\u53f8\u5c31\u6ca1\u6709\u8fd9\u4e2a\u56f0\u6270\u4e86\uff09\u3002Presto \u4f5c\u8005\u503e\u5411\u4e8e\u5728\u90a3\u4e9b\u5bf9\u6027\u80fd\u548c\u6548\u7387\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\u9009\u62e9\u81ea\u7814\u3002\\n\\n\u6700\u540e\u662f\u4e00\u4e2a\u516b\u5366\u3002Presto \u6700\u65e9\u662f\u7531\u4e00\u6279 Facebook \u7684\u5458\u5de5\u5f00\u53d1\uff0c2018 \u5e74\u8fd9\u6279\u5458\u5de5\u4e2d\u7684\u90e8\u5206\u6838\u5fc3\u79bb\u804c\uff0c\u5168\u804c\u5efa\u8bbe Presto \u5f00\u6e90\u793e\u533a\u30022019 \u5e74 1 \u6708 31 \u65e5[\u6210\u7acb](http://www.prweb.com/releases/presto_software_foundation_launches_to_advance_presto_open_source_community/prweb16070792.htm)\u300cPresto Software Foundation\u300d\uff0c\u5e76\u5728 GitHub \u4e0a\u521b\u5efa\u4e86\u65b0\u7684\u7ec4\u7ec7 [PrestoSQL](https://github.com/prestosql)\u3002\u6709\u8da3\u7684\u662f\u5728 2019 \u5e74 9 \u6708 23 \u65e5 Facebook \u8054\u5408\u591a\u5bb6\u516c\u53f8[\u6210\u7acb](https://www.linuxfoundation.org/press-release/2019/09/facebook-uber-twitter-and-alibaba-form-presto-foundation-to-tackle-distributed-data-processing-at-scale)\u4e86\u4e00\u4e2a\u65b0\u7684\u57fa\u91d1\u4f1a\u53eb\u300cPresto Foundation\u300d\uff0c\u5728 GitHub \u4e0a\u7684\u7ec4\u7ec7\u53eb [PrestoDB](https://github.com/prestodb)\u3002\u6309\u7167 Presto \u4f5c\u8005\u7684[\u8bf4\u6cd5](https://github.com/prestosql/presto/issues/380)\uff0c\u4ed6\u4eec\u5728\u6210\u7acb Presto Software Foundation \u4e4b\u540e\u5176\u5b9e\u662f\u6709\u9080\u8bf7\u8fc7 Facebook \u52a0\u5165\u7684\uff0c\u4f46\u662f\u663e\u7136\u5bf9\u65b9\u62d2\u7edd\u4e86\u8fd9\u4e2a\u9080\u8bf7\u3002\u4e8e\u662f\u4f60\u4f1a\u53d1\u73b0\u76ee\u524d\u5728\u5f00\u6e90\u793e\u533a\u6709\u4e24\u4e2a\u7248\u672c\u7684 Presto\uff0c\u5e76\u4e14\u9879\u76ee\u540d\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u8fc7\u4e3a\u4e86\u4fbf\u4e8e\u533a\u5206\u4e00\u822c\u8fd8\u662f\u5206\u522b\u53eb\u505a PrestoSQL \u548c PrestoDB\u3002\u524d\u8005\u80cc\u540e\u7684\u5546\u4e1a\u516c\u53f8\u4e3b\u8981\u662f Starburst Data\uff0c\u8fd9\u5bb6\u516c\u53f8\u7684 3 \u4e2a CTO \u540c\u65f6\u4e5f\u662f Presto \u7684\u539f\u59cb\u4f5c\u8005\uff08\u662f\u7684\uff0c\u8fd9\u5bb6\u516c\u53f8\u6709 3 \u4e2a CTO\uff09\uff1b\u540e\u8005\u80cc\u540e\u7684\u5546\u4e1a\u516c\u53f8\u6709 Facebook\u3001Uber\u3001Twitter\u3001\u963f\u91cc\u5df4\u5df4\u3001Alluxio \u548c Ahana\u3002\u4e3a\u4e86\u4e0d\u81f3\u4e8e\u8ba9\u7528\u6237\u6df7\u6dc6\uff0cStarburst Data \u8fd8\u5728\u5b98\u7f51[\u6bd4\u8f83](https://www.starburstdata.com/prestosql-and-prestodb)\u4e86\u8fd9\u4e24\u4e2a\u7248\u672c\u7684 Presto\u3002\u76ee\u524d\u516c\u6709\u4e91\u5382\u5546\u63d0\u4f9b\u7684\u4ea7\u54c1\u4e2d\uff0c[AWS Athena](https://docs.aws.amazon.com/athena/latest/ug/presto-functions.html)\u3001[\u963f\u91cc\u4e91 DLA](https://help.aliyun.com/document_detail/169871.html) \u90fd\u662f\u57fa\u4e8e PrestoDB \u5f00\u53d1\u7684 serverless \u4ea7\u54c1\uff0c[AWS EMR](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-release-components.html) \u4e24\u79cd Presto \u90fd\u652f\u6301\uff0c[Google Dataproc 1.5](https://cloud.google.com/dataproc/docs/concepts/versioning/dataproc-release-1.5)\u3001[\u963f\u91cc\u4e91 EMR 3.25.0](https://help.aliyun.com/document_detail/132036.html?#title-fm0-jq8-sog) \u4ee5\u540e\u9ed8\u8ba4\u96c6\u6210\u7684\u662f PrestoSQL\uff0c[\u817e\u8baf\u4e91 EMR](https://cloud.tencent.com/document/product/589/20279) \u9ed8\u8ba4\u96c6\u6210\u7684\u662f PrestoDB\u3002\\n\\n## Spark Architecture: Shuffle\\n\\n[[\u94fe\u63a5]](https://0x0fff.com/spark-architecture-shuffle)\\n\\n\u8981\u7406\u89e3\u4ec0\u4e48\u662f shuffle \u5c31\u5f97\u5148\u4e86\u89e3\u4ec0\u4e48\u662f MapReduce\uff0c\u81ea\u4ece 2004 \u5e74 Google \u90a3\u7bc7\u60ca\u4e16\u9a87\u4fd7\u7684\u4ecb\u7ecd MapReduce \u7684[\u8bba\u6587](https://research.google/pubs/pub62)\u53d1\u8868\u4ee5\u6765\uff0c\u5927\u6570\u636e\u7684\u751f\u6001\u5c31\u88ab\u5f7b\u5e95\u6539\u53d8\u4e86\uff08\u5e76\u6cbf\u7528\u81f3\u4eca\uff09\u3002\u57fa\u4e8e\u8fd9\u6837\u4e00\u4e2a\u7b80\u5355\u7684\u7f16\u7a0b\u6a21\u578b\u5b9e\u73b0\u4e86\u5404\u79cd\u590d\u6742\u7684\u8ba1\u7b97\u903b\u8f91\uff0c\u4f46\u4e5f\u5b58\u5728\u4e00\u4e9b\u300c\u95ee\u9898\u300d\uff0cshuffle \u5c31\u662f\u5176\u4e2d\u4e00\u4e2a\u3002\u5f53 map \u4efb\u52a1\u5b8c\u6210\u4ee5\u540e\uff0c\u6570\u636e\u9700\u8981\u6839\u636e partition \u7b56\u7565\u91cd\u65b0\u5206\u914d\u5230\u4e0d\u540c\u7684 reduce \u4efb\u52a1\u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5373\u79f0\u4e3a shuffle\u3002\u8fd9\u7bc7\u6587\u7ae0\u8be6\u7ec6\u4ecb\u7ecd\u4e86 Spark \u5386\u53f2\u4e0a\u5404\u79cd shuffle \u65b9\u6848\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u3002\\n\\n## Cosco: An Efficient Facebook-Scale Shuffle Service\\n\\n[[\u94fe\u63a5]](https://databricks.com/session/cosco-an-efficient-facebook-scale-shuffle-service)\\n\\n\u63a5\u4e0a\u4e00\u7bc7\u6587\u7ae0\uff0c\u8fd9\u662f Facebook \u5728 2018 \u5e74\u7684 Spark+AI Summit \u4e0a\u7684\u4e00\u4e2a\u5206\u4eab\uff0c\u4ecb\u7ecd\u4e86\u4ed6\u4eec\u5b9e\u73b0\u7684\u4e00\u4e2a\u5916\u90e8 shuffle \u670d\u52a1 Cosco\uff0c\u53ef\u4ee5\u540c\u65f6\u7528\u4e8e Hive \u548c Spark \u4efb\u52a1\u3002\u5f53\u65f6\u5df2\u7ecf\u5728 90%+ \u7684 Hive \u4efb\u52a1\u4e0a\u4f7f\u7528\uff0c\u5e76\u5728\u751f\u4ea7\u73af\u5883\u8fd0\u884c 1 \u5e74\u4ee5\u4e0a\uff0cSpark \u4efb\u52a1\u4e5f\u5728\u9010\u6e10\u63a8\u5e7f\u4e2d\u3002\u4e3a\u4ec0\u4e48\u8981\u5f00\u53d1\u4e00\u4e2a\u5916\u90e8 shuffle \u670d\u52a1\u5462\uff1fFacebook \u5217\u4e3e\u4e86\u4e00\u4e9b\u4ed6\u4eec\u5f53\u65f6\u9762\u4e34\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u5355\u6b21 shuffle \u9700\u8981\u4ea4\u6362\u7684\u6570\u636e\u91cf\u7ea7\u662f PiB \u7ea7\uff0c\u603b\u5171\u6709 10 \u4e07\u4e2a mapper\u30011 \u4e07\u4e2a reducer\uff0c3 \u500d\u7684\u5199\u653e\u5927\uff08shuffle 1 PiB \u7684\u6570\u636e\u5b9e\u9645\u8981\u5199 3 PiB \u5230\u78c1\u76d8\uff09\uff0c\u5e73\u5747 IO \u5927\u5c0f\u53ea\u6709 200 KiB\u3002\u8fd9\u4e9b\u90fd\u662f\u4fc3\u4f7f\u4ed6\u4eec\u5f00\u53d1 Cosco \u7684\u539f\u56e0\uff08\u5f53\u7136\u4e0d\u662f\u6240\u6709\u516c\u53f8\u90fd\u4f1a\u9047\u5230\uff09\uff0c\u53e6\u4e00\u4e2a\u597d\u5904\u662f executor \u53d8\u6210\u4e86\u65e0\u72b6\u6001\uff0c\u5bf9\u4e8e\u52a8\u6001\u4f38\u7f29\u66f4\u52a0\u53cb\u597d\u3002\u5982\u679c\u5bf9 Cosco \u6709\u5174\u8da3\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u770b\u4e00\u770b\u4ed6\u4eec\u5728 2019 \u5e74\u7684 Spark+AI Summit \u4e0a\u505a\u7684[\u540e\u7eed\u5206\u4eab](https://databricks.com/session_na20/flash-for-apache-spark-shuffle-with-cosco)\u3002\\n\\n## Federated Learning: Collaborative Machine Learning without Centralized Training Data\\n\\n[[\u94fe\u63a5]](https://ai.googleblog.com/2017/04/federated-learning-collaborative.html)\\n\\n\u4f20\u7edf\u673a\u5668\u5b66\u4e60\u4e2d\u7684\u4f18\u5316\u7b97\u6cd5\uff08\u4f8b\u5982 [SGD](https://en.wikipedia.org/wiki/Stochastic_gradient_descent)\uff09\u662f\u5c06\u5927\u89c4\u6a21\u6570\u636e\u96c6\u5206\u5e03\u5f0f\u8fd0\u884c\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u8fd9\u9700\u8981\u4f4e\u5ef6\u65f6\u3001\u9ad8\u541e\u5410\u5730\u8bfb\u53d6\u8bad\u7ec3\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u4e00\u822c\u90fd\u662f\u63d0\u524d\u6536\u96c6\u5230\u4e00\u4e2a\u4e2d\u5fc3\u5316\u5b58\u50a8\u91cc\u3002\u4f46\u662f\u5728\u67d0\u4e9b\u573a\u666f\u5e76\u4e0d\u9002\u5408\u8fd9\u6837\u505a\uff0c\u4e0d\u7ba1\u662f\u56e0\u4e3a\u6570\u636e\u91cf\u592a\u5927\u4e0d\u6613\u6536\u96c6\uff0c\u8fd8\u662f\u51fa\u4e8e\u6570\u636e\u9690\u79c1\u7684\u8003\u8651\u3002\u56e0\u6b64 Google \u63d0\u51fa\u4e86\u8054\u90a6\u5b66\u4e60\uff08Federated Learning\uff09\u7684\u6982\u5ff5\uff0c\u8fd9\u4e2a\u8bcd\u6e90\u4e8e\u53d1\u8868\u5728 2017 \u5e74 AISTATS \u4f1a\u8bae\u4e0a\u7684\u4e00\u7bc7\u8bba\u6587 [Communication-Efficient Learning of Deep Networks from Decentralized Data](https://arxiv.org/abs/1602.05629)\u3002\u8054\u90a6\u5b66\u4e60\u7684\u5927\u4f53\u601d\u60f3\u5c31\u662f\u5728\u6570\u636e\u7684\u751f\u4ea7\u7aef\uff08\u4f8b\u5982\u4f60\u7684\u624b\u673a\uff09\u76f4\u63a5\u8fdb\u884c\u6a21\u578b\u8bad\u7ec3\uff0c\u7ecf\u8fc7\u6c47\u603b\u4ee5\u540e\u628a\u5bf9\u6a21\u578b\u7684\u66f4\u65b0\u6570\u636e\u53d1\u9001\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u518d\u628a\u5176\u5b83\u5ba2\u6237\u7aef\u4e0a\u4f20\u7684\u66f4\u65b0\u6570\u636e\u4e00\u8d77\u6c47\u603b\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6a21\u578b\uff0c\u6700\u540e\u4e0b\u53d1\u8fd9\u4e2a\u65b0\u6a21\u578b\u5230\u6240\u6709\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u770b\u5230\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u8bad\u7ec3\u6570\u636e\u4f9d\u7136\u4fdd\u7559\u5728\u5ba2\u6237\u7aef\uff0c\u5e76\u4e0d\u9700\u8981\u4e0a\u4f20\u3002\u5982\u679c\u4f60\u5728 Android \u7cfb\u7edf\u4e2d\u4f7f\u7528 Gboard \u8fd9\u4e2a app\uff0c\u90a3\u5176\u5b9e\u4f60\u5df2\u7ecf\u53c2\u4e0e\u5230\u8054\u90a6\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4e86\uff0c\u5f53\u7136\u53ea\u4f1a\u5728\u5f53\u4f60\u7684\u624b\u673a\u7a7a\u95f2\u5e76\u4e14\u8fde\u63a5\u7535\u6e90\u548c Wi-Fi \u7684\u65f6\u5019\u624d\u4f1a\u8fdb\u884c\u3002\\n\\n## \u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u5bf9\u6bd4\\n\\n[[\u94fe\u63a5]](https://juicefs.com/blog/cn/posts/distributed-filesystem-comparison)\\n\\n2003 \u5e74 Google \u53d1\u8868\u4e86 [The Google File System](https://research.google/pubs/pub51) \u8bba\u6587\uff0c\u5c31\u50cf\u524d\u9762\u63d0\u5230\u7684 MapReduce \u4e00\u6837\uff0c\u4ece\u6b64\u5bf9\u4e1a\u754c\u4ea7\u751f\u4e86\u975e\u5e38\u6df1\u8fdc\u7684\u5f71\u54cd\u3002\u8fd9\u7bc7\u535a\u5ba2\u68b3\u7406\u4e86 GlusterFS\u3001CephFS\u3001GFS\u3001HDFS\u3001MooseFS \u548c [JuiceFS](https://juicefs.com) \u8fd9\u51e0\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u67b6\u6784\u8bbe\u8ba1\u3002\u968f\u7740\u7f51\u7edc\u5e26\u5bbd\u7684\u53d1\u5c55\uff0c\u5728\u4e91\u8ba1\u7b97\u548c\u4e91\u539f\u751f\u7684\u5927\u8d8b\u52bf\u4e0b\uff0c\u603b\u7684\u6765\u8bf4\u6b63\u9010\u6b65\u671d\u7740\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u7684\u65b9\u5411\u6f14\u8fdb\uff0c\u8fd9\u5bf9\u4e8e\u57fa\u7840\u8bbe\u65bd\u7684\u67b6\u6784\u4e5f\u6709\u7740\u4e00\u5b9a\u7684\u8981\u6c42\u3002"},{"id":"/5","metadata":{"permalink":"/issues/5","source":"@site/blog/5.md","title":"Issue #5","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aDynamicEmbedding\u3001Generics again\u3001Fiber\u3001NFS\u3001Kale\u3001Spark dynamic allocation\u3001Boiled Hippo","date":"2020-07-21T14:08:28.000Z","formattedDate":"July 21, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":14.065,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #5","date":"2020-07-21 14:08:28 +0800","tags":["issue"]},"prevItem":{"title":"Issue #6","permalink":"/issues/6"},"nextItem":{"title":"Issue #4","permalink":"/issues/4"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aDynamicEmbedding\u3001Generics again\u3001Fiber\u3001NFS\u3001Kale\u3001Spark dynamic allocation\u3001Boiled Hippo\\n\\n\x3c!--truncate--\x3e\\n\\n## DynamicEmbedding: Extending TensorFlow for Colossal-Scale Applications\\n\\n[[\u94fe\u63a5]](https://arxiv.org/abs/2004.08366)\\n\\n\u5728[\u7b2c\u4e00\u671f](/issues/1) Maybe News \u4e2d\u4ecb\u7ecd\u4e86\u817e\u8baf\u63d0\u51fa\u7684\u89e3\u51b3 TensorFlow \u4e2d\u5927\u89c4\u6a21\u7a00\u758f\u7279\u5f81\u6a21\u578b\u8bad\u7ec3\u7684\u65b9\u6848\uff0c\u672c\u671f\u7684\u8fd9\u7bc7\u8bba\u6587\u6765\u81ea Google\uff08\u51c6\u786e\u8bf4\u662f Google Smart Campaigns \u56e2\u961f\uff09\u3002\u4f5c\u4e3a\u53d1\u660e TensorFlow \u7684\u516c\u53f8\uff0cGoogle \u5185\u90e8\u56e2\u961f\u7684\u8bbe\u8ba1\u601d\u60f3\u503c\u5f97\u501f\u9274\u3002\\n\\n\u8fd9\u4e2a\u7cfb\u7edf\u88ab\u79f0\u4e4b\u4e3a DynamicEmbedding\uff08DE\uff09\uff0c\u540d\u5b57\u7b80\u5355\u76f4\u89c2\uff0c\u8981\u89e3\u51b3\u7684\u573a\u666f\u4e5f\u662f\u5f88\u591a\u516c\u53f8\u90fd\u9047\u5230\u7684\u5982\u4f55\u52a8\u6001\u7ef4\u62a4 embedding\u3002\u7cfb\u7edf\u5185\u90e8\u5206\u4e3a\u4e24\u4e2a\u7ec4\u4ef6\uff1aDynamicEmbedding Master\uff08DEM\uff09\u548c DynamicEmbedding Worker\uff08DEW\uff09\uff0c\u5408\u8d77\u6765\u53eb\u505a DynamicEmbedding Service\uff08DES\uff09\u3002DEM \u8d1f\u8d23\u5904\u7406\u6240\u6709\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5305\u62ec embedding \u67e5\u627e\uff08lookup\uff09\u3001\u66f4\u65b0\uff08update\uff09\u7b49\u3002DEW \u8d1f\u8d23 embedding \u5b58\u50a8\u3001\u68af\u5ea6\u66f4\u65b0\u7b49\uff0c\u6240\u6709\u8bf7\u6c42\u90fd\u6765\u81ea DEM\u3002\u540c\u65f6\u65b0\u589e\u4e86\u51e0\u4e2a TensorFlow API\uff0c\u5982 `dynamic_embedding_lookup()`\u3001`compute_sampled_logits()`\uff0c\u8fd9\u4e9b API \u662f\u6574\u4e2a\u7cfb\u7edf\u7684\u5173\u952e\u5165\u53e3\uff0c\u4efb\u4f55\u6a21\u578b\u5728\u63a5\u5165 DES \u7684\u65f6\u5019\u90fd\u9700\u8981\u5728\u7279\u5b9a\u7684\u5730\u65b9\u8c03\u7528\u8fd9\u4e9b API\u3002\u4ee5\u4e0a\u8bbe\u8ba1\u770b\u8d77\u6765\u8ddf\u5927\u90e8\u5206\u516c\u53f8\u7684\u65b9\u6848\u6ca1\u6709\u592a\u5927\u5dee\u522b\u3002\\n\\n\u901a\u8fc7\u5b9e\u73b0\u4e00\u4e2a\u53eb\u505a EmbeddingStore \u7684\u901a\u7528\u63a5\u53e3\uff0cDEW \u540e\u7aef\u652f\u6301\u5bf9\u63a5\u591a\u79cd\u7c7b\u578b\u7684\u5b58\u50a8\uff0c\u4f8b\u5982 Protocol Buffers\u3001GFS\u3001Bigtable\uff0c\u6bd4\u8f83\u5de7\u5999\u5730\u5c06\u5927\u89c4\u6a21 embedding \u5b58\u50a8\u65f6\u9762\u4e34\u7684\u6269\u5c55\u6027\u548c\u7a33\u5b9a\u6027\u95ee\u9898\u8f6c\u79fb\u5230\u4e86\u5916\u90e8\u5b58\u50a8\u7cfb\u7edf\u3002\u5f53\u7136\u56e0\u4e3a\u591a\u4e86\u4e00\u6b21\u7f51\u7edc\u8bf7\u6c42\u662f\u5426\u4f1a\u5f71\u54cd\u6574\u4f53\u7684\u8bad\u7ec3\u6548\u7387\u8fd9\u70b9\u6709\u5f85\u5546\u69b7\uff0c\u8bba\u6587\u4e2d\u4ecb\u7ecd BigtableEmbedding \u65f6\u63d0\u5230\u4f1a\u5c06\u6570\u636e\u540c\u65f6\u5b58\u50a8\u5230\u672c\u5730\u7f13\u5b58\u548c\u8fdc\u7aef\uff0c\u731c\u6d4b\u8fd9\u91cc\u672c\u5730\u7f13\u5b58\u7684\u76ee\u7684\u4fbf\u662f\u4e3a\u4e86\u52a0\u901f\u5b58\u50a8\u64cd\u4f5c\u3002\\n\\nEmbedding \u66f4\u65b0\u8fd9\u4e00\u6b65\u6d89\u53ca\u5230\u4e00\u4e9b\u5e38\u7528\u7684\u68af\u5ea6\u4e0b\u964d\uff08gradient descent\uff09\u7b97\u6cd5\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e00\u81f4\uff0cDEW \u5185\u90e8\u5b9e\u73b0\u4e86\u8ddf TensorFlow \u539f\u751f\u63d0\u4f9b\u7684\u4f18\u5316\u5668\uff08optimizer\uff09\u540c\u6837\u7684\u903b\u8f91\uff0c\u5e76\u4e14\u5927\u90e8\u5206\u4ee3\u7801\u662f\u53ef\u4ee5\u590d\u7528\u7684\u3002\u5f53\u8bad\u7ec3\u6570\u636e\u65f6\u95f4\u8de8\u5ea6\u5f88\u5927\u65f6\uff08\u5982\u6570\u6708\u6216\u8005\u6570\u5e74\uff09\uff0c\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u65e0\u6548\u7684\u7279\u5f81\u6216\u8005\u4e00\u4e9b\u9700\u8981\u7279\u6b8a\u5904\u7406\u7684\u7279\u5f81\u3002\u56e0\u6b64 DEW \u5728\u6bcf\u6b21 embedding \u66f4\u65b0\u7684\u65f6\u5019\u4f1a\u540c\u65f6\u7edf\u8ba1\u8fd9\u4e2a embedding \u7684\u66f4\u65b0\u9891\u7387\uff0c\u901a\u8fc7\u8bbe\u5b9a\u4e00\u4e2a\u6070\u5f53\u7684\u9608\u503c\u6765\u4fdd\u8bc1\u53ea\u6709\u90e8\u5206 embedding \u4f1a\u6301\u4e45\u5316\u5230\u5b58\u50a8\u7cfb\u7edf\u91cc\uff0c\u90a3\u4e9b\u4f4e\u9891\u7684\u6570\u636e\u4fbf\u4e0d\u4f1a\u7ee7\u7eed\u4fdd\u5b58\u3002\u9664\u4e86\u7edf\u8ba1\u9891\u7387\u8fd9\u79cd\u65b9\u6cd5\uff0c\u901a\u8fc7 bloom filter \u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c\u7684\u6548\u679c\u3002\\n\\nServing \u7684\u65f6\u5019\u56e0\u4e3a embedding \u90fd\u5df2\u7ecf\u5b58\u50a8\u5230\u4e86\u5916\u90e8\u7cfb\u7edf\uff0c\u6240\u4ee5 DEW \u5c31\u6ca1\u6709\u5fc5\u8981\u5b58\u5728\u4e86\uff0c\u53ea\u9700\u8981\u5728\u672c\u5730\u90e8\u7f72 DEM \u8d1f\u8d23\u5904\u7406\u8bfb\u8bf7\u6c42\u3002\u4e3a\u4e86\u63d0\u5347\u63a8\u7406\u7684\u6027\u80fd\uff0c\u672c\u5730\u7f13\u5b58\u80af\u5b9a\u662f\u5c11\u4e0d\u4e86\u7684\uff0c\u540c\u65f6\u6279\u91cf\u5904\u7406\u67e5\u8be2\u8bf7\u6c42\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\\n\\n\u5b9e\u9a8c\u8bc4\u4f30\u9636\u6bb5\u9996\u5148\u6bd4\u8f83\u4e86\u548c\u539f\u751f TensorFlow \u8bad\u7ec3\u540c\u6837\u7684\u6a21\u578b\u3001\u540c\u6837\u7684\u8d85\u53c2\u662f\u5426\u4f1a\u6709\u6307\u6807\u4e0a\u7684\u5dee\u5f02\uff0c\u6a21\u578b\u9009\u62e9\u7684\u662f Word2Vec\uff0c\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u9009\u62e9\u7684\u662f SGD\u3001Adagrad \u548c Momentum\u3002\u4ece\u6700\u7ec8\u8bad\u7ec3\u7684 loss \u4e0a\u770b\u51e0\u4e4e\u6ca1\u6709\u5dee\u522b\uff0c\u8bf4\u660e DE \u7cfb\u7edf\u4e0d\u4f1a\u5bf9\u6a21\u578b\u8d28\u91cf\u6709\u5f71\u54cd\u3002\\n\\n\u63a5\u7740\u6d4b\u8bd5\u4e86\u5b57\u5178\uff08dictionary\uff09\u5927\u5c0f\u5bf9\u6a21\u578b\u7cbe\u5ea6\uff08accuracy\uff09\u7684\u5f71\u54cd\uff0c\u7406\u8bba\u4e0a DE \u7cfb\u7edf\u5176\u5b9e\u662f\u4e0d\u9650\u5b9a\u5b57\u5178\u5927\u5c0f\u7684\uff0c\u4ece\u5b9e\u9a8c\u7684\u4e24\u4e2a\u6a21\u578b Word2Vec \u548c Sparse2Seq \u4e0a\u6765\u770b\u4e5f\u7684\u786e\u662f\u5b57\u5178\u5927\u5c0f\u8d8a\u5927\u6a21\u578b\u7cbe\u5ea6\u8d8a\u9ad8\u3002\\n\\n\u7136\u540e\u662f\u8bc4\u6d4b\u6a21\u578b\u8bad\u7ec3\u65f6\u4e24\u4e2a\u91cd\u8981\u7684\u7cfb\u7edf\u6307\u6807\uff1a\u96c6\u7fa4\u603b\u7684\u5185\u5b58\u5360\u7528\u548c\u6bcf\u79d2\u8bad\u7ec3\u7684 global steps\uff08GSS\uff09\u3002\u5206\u522b\u6d4b\u8bd5\u4e86\u4e09\u4e2a\u6a21\u578b\uff1aWord2Vec\uff0cImage2Lable \u548c Seq2Seq\u3002\u5728\u4f7f\u7528\u539f\u751f\u7684 TensorFlow \u65f6\u96c6\u7fa4\u5185\u5b58\u5360\u7528\u4f1a\u968f\u7740 worker \u6570\u91cf\u7684\u589e\u5927\u800c\u663e\u8457\u589e\u957f\uff08\u5728 Word2Vec \u6a21\u578b\u4e2d\u5c24\u4e3a\u660e\u663e\uff09\uff0c\u76f8\u6bd4\u4e4b\u4e0b DE \u7cfb\u7edf\u7684\u5185\u5b58\u5360\u7528\u53ea\u8ddf embedding \u7684\u603b\u5927\u5c0f\u6709\u5173\uff0c\u4e0e DEW \u7684\u6570\u91cf\u65e0\u5173\u3002\u4e4b\u6240\u4ee5\u6709\u8fd9\u6837\u7684\u5dee\u5f02\u4e5f\u662f\u56e0\u4e3a\u539f\u751f\u7684 TensorFlow \u4f1a\u5728\u4e0d\u540c worker \u95f4\u91cd\u590d\u5b58\u50a8 embedding \u6570\u636e\u3002GSS \u7684\u5bf9\u6bd4\u4e0a\u4e24\u8005\u7684\u52a0\u901f\u6bd4\u90fd\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u603b\u4f53\u4e0a DE \u8fd8\u662f\u4f1a\u66f4\u4f18\u3002\\n\\n\u6700\u540e\u8bba\u6587\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u4e86 DE \u5728 Google Smart Campaigns \u4ea7\u54c1\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\uff1a\u7ed9\u5e7f\u544a\u4e3b\u81ea\u52a8\u63a8\u8350\u6295\u653e\u7684\u5173\u952e\u8bcd\u3002\u8fd9\u662f\u4e00\u4e2a\u53eb\u505a Sparse2Label \u7684\u6a21\u578b\uff0c\u8f93\u51fa\u5373\u662f\u63a8\u8350\u7684\u5173\u952e\u8bcd\uff08label\uff09\u3002\u8fd9\u4e2a\u6a21\u578b\u5e26\u6765\u7684\u6700\u5927\u53d8\u5316\u662f\u4ee5\u524d\u9700\u8981\u9488\u5bf9\u6bcf\u4e00\u79cd\u8bed\u8a00\u8bad\u7ec3\u4e00\u4e2a\u5355\u72ec\u7684\u6a21\u578b\uff0c\u800c\u73b0\u5728\u53ea\u9700\u8981\u4e00\u4e2a\u6a21\u578b\u5373\u53ef\u3002\u901a\u8fc7\u5bf9\u6bd4\u4e00\u4e9b\u6838\u5fc3\u6307\u6807\uff08\u5982 CTR\uff09\uff0cDE \u63a8\u8350\u7684\u5173\u952e\u8bcd\u90fd\u660e\u663e\u66f4\u597d\u3002\u6574\u4e2a\u6a21\u578b\u4e5f\u662f\u968f\u7740\u65f6\u95f4\u4e0d\u65ad\u589e\u957f\u7684\uff0c\u622a\u6b62 2020 \u5e74 2 \u6708\u8fd9\u4e2a\u6a21\u578b\u7684\u53c2\u6570\u91cf\u5df2\u7ecf\u8fbe\u5230\u4e86 1249 \u4ebf\u4e2a\uff0c\u5982\u679c\u6bcf\u4e2a\u53c2\u6570\u6309 4 \u5b57\u8282\u7b97\u7684\u8bdd\u6a21\u578b\u5927\u5c0f\u5dee\u4e0d\u591a\u4e3a 465 GiB\uff08\u5176\u5b9e\u6bd4\u60f3\u8c61\u4e2d\u5c0f\uff09\u3002\\n\\n\u53e6\u4e00\u4e2a\u66f4\u96be\u8bc4\u4f30\u7684\u6307\u6807\u662f\u7528\u6237\u641c\u7d22\u7684\u5173\u952e\u8bcd\uff08query\uff09\u4e0e\u5e7f\u544a\u6295\u653e\u7684\u5173\u952e\u8bcd\u4e4b\u95f4\u7684\u5173\u8054\u5ea6\uff0c\u5f88\u591a\u65f6\u5019\u4e24\u8005\u4e4b\u95f4\u5e76\u4e0d\u662f\u5b8c\u5168\u5339\u914d\u7684\u3002\u4f5c\u8005\u662f\u901a\u8fc7\u4eba\u5de5\u8bc4\u4f30 38 \u4e07\u4e2a\u6837\u672c\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u7684\uff0c\u6bcf\u4e2a\u6837\u672c\u90fd\u4f1a\u6709 5 \u4e2a\u4eba\u7c7b\u8fdb\u884c\u6253\u5206\uff0c\u5206\u6570\u533a\u95f4\u4ece -100 \u5230 100\uff0c\u8d8a\u9ad8\u8d8a\u5339\u914d\uff0c\u7136\u540e\u8ba1\u7b97\u8fd9 5 \u4e2a\u5206\u6570\u7684\u5e73\u5747\u503c\u4f5c\u4e3a\u8fd9\u4e2a\u6837\u672c\u7684\u6700\u7ec8\u5206\u6570\u3002\u5927\u4e8e\u7b49\u4e8e 50 \u5206\u7684\u6837\u672c\u8ba4\u4e3a\u662f\u597d\uff08good\uff09\u7684\u6837\u672c\uff0c\u5c0f\u4e8e\u7b49\u4e8e 0 \u5206\u7684\u5219\u8ba4\u4e3a\u662f\u4e0d\u597d\uff08bad\uff09\u7684\u6837\u672c\uff0c\u524d\u8005\u9664\u4ee5\u540e\u8005\u88ab\u79f0\u4f5c GB ratio\uff0c\u8fd9\u4e2a\u6bd4\u7387\u8d8a\u5927\u8d8a\u597d\u3002\u6bcf\u4e2a\u63a8\u8350\u7684\u5173\u952e\u8bcd\u90fd\u4f1a\u540c\u65f6\u6709\u4e00\u4e2a\u7f6e\u4fe1\u503c\uff08\u4e5f\u5c31\u662f\u7f51\u9875\u548c\u5173\u952e\u8bcd embedding \u4e4b\u95f4\u7684 cosine \u8ddd\u79bb\uff09\uff0c\u4ece\u8bc4\u6d4b\u7ed3\u679c\u4e0a\u6765\u770b\u5f53\u8fd9\u4e2a\u7f6e\u4fe1\u503c\u5927\u4e8e 0.7 \u65f6\uff0c\u4e0d\u597d\u7684\u6837\u672c\u91cf\u5c06\u4f1a\u663e\u8457\u51cf\u5c11\u3002\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u6536\u96c6\u7684\u6570\u636e\u4e5f\u5370\u8bc1\u4e86 DE \u7cfb\u7edf\u63a8\u8350\u7684\u5173\u952e\u8bcd\u662f GB ratio \u6700\u9ad8\u7684\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b DE \u7cfb\u7edf\u89e3\u51b3\u4e86\u539f\u751f TensorFlow \u5728\u5927\u89c4\u6a21 embedding \u6a21\u578b\u8bad\u7ec3\u65f6\u6548\u7387\u4f4e\u4e0b\uff08\u751a\u81f3\u4e0d\u53ef\u7528\uff09\u7684\u95ee\u9898\uff0c\u77ed\u671f\u5185\u8fd9\u4e2a\u7cfb\u7edf\u4f30\u8ba1\u4e5f\u4e0d\u4f1a\u5f00\u6e90\u6216\u8005\u5408\u5e76\u5230\u4e0a\u6e38\u3002\u76ee\u524d\u53ef\u4ee5\u671f\u5f85\u7684\u8fd8\u662f\u817e\u8baf\u7684\u65b9\u6848\uff0c\u4ed6\u4eec\u5df2\u7ecf\u63d0\u4ea4\u4e86[\u4ee3\u7801](https://github.com/tensorflow/tensorflow/pull/41371)\u5230 TensorFlow \u793e\u533a\u3002\\n\\n## The Next Step for Generics\\n\\n[[\u94fe\u63a5]](https://blog.golang.org/generics-next-step)\\n\\n\u5728[\u7b2c\u4e8c\u671f](/issues/2) Maybe News \u4e2d\u66fe\u7ecf\u4ecb\u7ecd\u8fc7 Go \u8bed\u8a00\u5f00\u53d1\u8005\u5173\u4e8e\u6cdb\u578b\u8bbe\u8ba1\u7684\u4e00\u4e9b\u601d\u8003\uff0c\u8fd1\u671f Ian Lance Taylor \u53c8\u548c\u793e\u533a\u540c\u6b65\u4e86\u4e00\u4e0b\u6700\u65b0\u8fdb\u5c55\u3002\u6700\u5927\u7684\u53d8\u5316\u5c31\u662f\u53bb\u6389\u4e86 contract \u8fd9\u4e2a\u65b0\u589e\u7684\u6982\u5ff5\uff0c\u6539\u4e3a\u590d\u7528 interface\u3002\u540c\u65f6\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684 [playground](https://go2goplay.golang.org)\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5927\u5bb6\u8bd5\u9a8c\u6cdb\u578b\u4ee3\u7801\u3002\u5982\u679c\u6700\u65b0\u7684\u8fd9\u4e00\u7248\u8bbe\u8ba1\u793e\u533a\u6ca1\u6709\u592a\u5927\u5f02\u8bae\u7684\u8bdd\uff0c\u4e50\u89c2\u4f30\u8ba1\u5c06\u4f1a\u5728 Go 1.17 \u52a0\u5165\u6cdb\u578b\u7279\u6027\uff0c\u4e5f\u5c31\u662f\u5728 2021 \u5e74 8 \u6708\u5de6\u53f3\u3002\u5f53\u7136\u6700\u7ec8\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\u8fd8\u662f\u6709\u5f88\u591a\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7279\u522b\u662f\u5f53\u524d\u75ab\u60c5\u5bf9\u4e8e\u5168\u7403\u5f71\u54cd\u7684\u60c5\u51b5\u4e0b\u3002\\n\\n## Fiber: Distributed Computing for AI Made Simple\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/fiberdistributed)\\n\\n\u5206\u5e03\u5f0f\u8ba1\u7b97\u5728 AI \u9886\u57df\u7684\u9700\u6c42\u4e00\u76f4\u90fd\u5f88\u5f3a\u70c8\uff0c\u4f46\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e0d\u4ec5\u4ec5\u662f\u5c06\u5355\u673a\u8fc1\u79fb\u5230\u591a\u673a\u8fd9\u6837\u5c31\u8db3\u591f\u4e86\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5982\uff1a\u6613\u7528\u6027\uff08\u964d\u4f4e\u7528\u6237\u4ece\u5355\u673a\u8fc1\u79fb\u7684\u6210\u672c\uff09\u3001\u7a33\u5b9a\u6027\uff08\u81ea\u52a8\u5bb9\u9519\uff09\u3001\u5f39\u6027\u4f38\u7f29\uff08\u548c\u5e95\u5c42\u8d44\u6e90\u8c03\u5ea6\u5c42\u914d\u5408\uff09\u3001\u7ebf\u6027\u52a0\u901f\uff08\u6a2a\u5411\u6269\u5c55\u591a\u5c11\u673a\u5668\u5c31\u80fd\u5e26\u6765\u591a\u5c11\u6027\u80fd\u63d0\u5347\uff09\u3002Uber \u548c OpenAI \u5171\u540c\u5f00\u53d1\u7684 Fiber \u6846\u67b6\u4fbf\u662f\u5c1d\u8bd5\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u7684\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4ece Fiber \u7684[\u8bba\u6587](https://arxiv.org/abs/2003.11164)\u80fd\u770b\u5230\u8fd9\u4e2a\u6846\u67b6\u6700\u521d\u8bbe\u8ba1\u9762\u5411\u7684\u662f\u5f3a\u5316\u5b66\u4e60\uff08Reinforcement Learning\uff09\u573a\u666f\uff0c\u5728\u8fd9\u4e2a\u9886\u57df\u6709\u5f88\u591a\u7c7b\u4f3c\u7684\u6846\u67b6\uff0c\u6bd4\u5982 Google \u7684 [Dopamine](https://github.com/google/dopamine)\u3001Facebook \u7684 [ReAgent](https://github.com/facebookresearch/ReAgent)\u3001UC Berkeley \u7684 [Ray](https://github.com/ray-project/ray)\u3002\u81ea\u52a8\u5bb9\u9519\u548c\u5f39\u6027\u4f38\u7f29\u8fd9\u4e24\u4e2a\u7279\u6027\u53c8\u8ba9\u6211\u8054\u60f3\u5230\u8682\u8681\u91d1\u670d\u7684 [ElasticDL](https://github.com/sql-machine-learning/elasticdl) \u548c\u624d\u4e91\u7684 [FTLib](https://github.com/caicloud/ftlib)\u3002\\n\\n## The impact of slow NFS on data systems\\n\\n[[\u94fe\u63a5]](https://engineering.linkedin.com/blog/2020/the-impact-of-slow-nfs-on-data-systems)\\n\\nLinkedIn \u5206\u4eab\u4e86\u4ed6\u4eec\u4f7f\u7528 NFS \u8fdb\u884c\u6570\u636e\u5e93\u5907\u4efd\u65f6\u9047\u5230\u7684\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a\u5907\u4efd\u8fdb\u7a0b\u548c\u6570\u636e\u5e93\u8fdb\u7a0b\u662f\u4e00\u8d77\u90e8\u7f72\u7684\uff0c\u56e0\u6b64\u8fd9\u4e2a\u95ee\u9898\u8fd8\u95f4\u63a5\u5f71\u54cd\u5230\u4e86\u5728\u7ebf\u4e1a\u52a1\u7684\u7a33\u5b9a\u6027\u3002\u6574\u4e2a\u95ee\u9898\u5206\u6790\u8fc7\u7a0b\u6e05\u6670\u6613\u61c2\uff0c\u8fd8\u80fd\u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u5927\u5b66\u91cc\u5b66\u4e60\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e00\u4e9b\u77e5\u8bc6\u3002\u4f46\u95ee\u9898\u7684\u6839\u6e90 NFS \u670d\u52a1\u7684\u6027\u80fd\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5dee\u8fd8\u662f\u6ca1\u6709\u7279\u522b\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u80fd\u5728\u8fd9\u4e2a\u573a\u666f\u91cc NFS \u5c31\u4e0d\u662f\u7279\u522b\u597d\u7684\u9009\u62e9\u5427\u3002\\n\\n## Kubeflow & Kale simplify building better ML Pipelines with automatic hyperparameter tuning\\n\\n[[\u94fe\u63a5]](https://medium.com/kubeflow/kubeflow-kale-simplify-building-better-ml-pipelines-with-automatic-hyperparameter-tuning-5821747f4fcb)\\n\\nJupyter Notebooks \u662f\u5f53\u4e0b\u6570\u636e\u79d1\u5b66\u5bb6\u6216\u8005\u7b97\u6cd5\u5de5\u7a0b\u5e08\u65e5\u5e38\u5de5\u4f5c\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4ea4\u4e92\u5f0f\u7684\u754c\u9762\u52a0\u4e0a\u5373\u65f6\u7684\u4ee3\u7801\u8fd0\u884c\u53cd\u9988\u6781\u5927\u5730\u63d0\u5347\u4e86\u5f00\u53d1\u6548\u7387\u3002\u4f46\u662f\u5982\u679c\u8981\u5c06\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u63d0\u4ea4\u5230\u96c6\u7fa4\u4e2d\u8fd0\u884c\u5f80\u5f80\u8fd8\u5f97\u4f9d\u9760\u7c7b\u4f3c Kubeflow Pipelines \u8fd9\u79cd DAG \u7ba1\u7406\u53ca\u8c03\u5ea6\u7ec4\u4ef6\uff0cKubeflow Pipelines \u6709\u4e00\u5957\u57fa\u4e8e Python API \u7684\u8bed\u6cd5\uff0c\u56e0\u6b64\u7528\u6237\u9700\u8981\u518d\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u72ec\u7acb\u7684 pipeline\u3002\u6709\u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u5c06 notebook \u4e2d\u5df2\u7ecf\u9a8c\u8bc1\u8fc7\u7684\u4ee3\u7801\u81ea\u52a8\u8f6c\u6362\u6210 pipeline \u5e76\u63d0\u4ea4\u5230\u96c6\u7fa4\u5462\uff1f[Kale](https://kubeflow-kale.github.io)\uff08**K**ubeflow **A**utomated Pipe**L**ines **E**ngine\uff09\u5373\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u8bde\u751f\uff0c\u5b83\u662f\u4e00\u4e2a\u80fd\u591f\u5c06 Jupyter Notebooks \u81ea\u52a8\u8f6c\u6362\u4e3a Kubeflow Pipelines \u7684\u5de5\u5177\u3002\u5728\u6700\u65b0\u7684 0.5 \u7248\u672c\u4e2d Kale \u65b0\u589e\u4e86\u5bf9 [Katib](https://github.com/kubeflow/katib) \u7684\u96c6\u6210\uff0c\u540e\u8005\u662f\u8fdb\u884c\u81ea\u52a8\u8d85\u53c2\u8c03\u4f18\uff08Hyperparameter Tuning\uff09\u548c\u795e\u7ecf\u7f51\u7edc\u67b6\u6784\u641c\u7d22\uff08Neural Architecture Search\uff09\u7684\u7ec4\u4ef6\u3002\\n\\n## GoogleCloudPlatform/spark-on-k8s-operator #976: Add support for dynamic allocation via shuffle tracking\\n\\n[[\u94fe\u63a5]](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/pull/976)\\n\\nSpark 3.0 \u4e3a[\u52a8\u6001\u8d44\u6e90\u5206\u914d](http://spark.apache.org/docs/latest/job-scheduling.html#dynamic-resource-allocation)\uff08dynamic resource allocation\uff09\u65b0\u589e\u4e86 shuffle tracking \u7279\u6027\uff08\u9ed8\u8ba4\u5173\u95ed\uff09\uff0c\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u67e5\u770b [SPARK-27963](https://issues.apache.org/jira/browse/SPARK-27963)\u3002\u5f53\u4f7f\u7528\u52a8\u6001\u8d44\u6e90\u5206\u914d\u65f6\u7528\u6237\u9700\u8981\u9884\u5148\u8bbe\u5b9a\u8bf8\u5982\u521d\u59cb\u3001\u6700\u5c0f\u548c\u6700\u5927 executor \u6570\u91cf\u8fd9\u6837\u7684\u53c2\u6570\uff0c\u4e4b\u540e Spark \u8fd0\u884c\u65f6\u4f1a\u6839\u636e\u5f53\u524d\u4efb\u52a1\u6392\u961f\u65f6\u95f4\u548c executor \u7a7a\u95f2\u65f6\u95f4\u8fd9\u4e9b\u6307\u6807\u53bb\u521b\u5efa\u6216\u8005\u9500\u6bc1 executor\u3002\u5bf9\u4e8e\u6709\u72b6\u6001\u7684 executor\uff08\u5982 shuffle \u65f6\u5b58\u50a8\u5230\u78c1\u76d8\u7684\u6570\u636e\u3001cache \u5230\u5185\u5b58\u548c\u78c1\u76d8\u7684\u6570\u636e\uff09\u4f1a\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u7b56\u7565\u9632\u6b62\u9519\u8bef\u56de\u6536\u8d44\u6e90\uff0c\u8fc7\u53bb\u7684\u505a\u6cd5\u662f\u4f7f\u7528\u5916\u90e8 shuffle \u670d\u52a1\u3002\u5f00\u542f shuffle tracking \u4ee5\u540e\u5c31\u4e0d\u518d\u4f9d\u8d56\u5916\u90e8 shuffle \u670d\u52a1\uff0c\u800c\u662f\u8bbe\u7f6e\u4e00\u4e2a executor \u6301\u6709 shuffle \u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u8fc7\u53bb Spark \u7684 K8s \u6a21\u5f0f\u4e0d\u652f\u6301\u5916\u90e8 shuffle \u670d\u52a1\uff0c\u6709\u4e86\u8fd9\u4e2a\u65b0\u7684\u7279\u6027\u4ee5\u540e\u4f7f\u5f97\u52a8\u6001\u8d44\u6e90\u5206\u914d\u5728 K8s \u6a21\u5f0f\u4e0a\u6210\u4e3a\u53ef\u80fd\u3002spark-on-k8s-operator \u9879\u76ee\u8fd1\u671f\u4e5f\u652f\u6301\u4e86\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 [YAML \u914d\u7f6e](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/docs/user-guide.md#dynamic-allocation)\u6765\u5f00\u542f\u3002\\n\\n## Boiled Hippo\\n\\n[[Bandcamp]](https://spacefruityrecords.bandcamp.com/album/boiled-hippo-2) [[\u7f51\u6613\u4e91\u97f3\u4e50]](https://music.163.com/#/album?id=91278378) [[\u867e\u7c73]](https://www.xiami.com/album/1ttwrEdcce1)\\n\\n\u672c\u671f\u6700\u540e\u63a8\u8350\u4e00\u5f20\u6765\u81ea\u6211\u7684\u4e00\u4e2a\u597d\u670b\u53cb\u7684\u5531\u7247\uff0cBoiled Hippo \u662f\u4e00\u652f\u5317\u4eac\u7684\u8ff7\u5e7b\u6447\u6eda\u4e50\u961f\uff0c\u7ecf\u8fc7\u591a\u5e74\u7684\u6f14\u51fa\u79ef\u7d2f\u7ec8\u4e8e\u5728\u4eca\u5e74\u53d1\u884c\u4e86\u4e50\u961f\u7684\u7b2c\u4e00\u5f20\u540c\u540d\u4e13\u8f91\u3002\u867d\u8bf4\u662f\u8ff7\u5e7b\u6447\u6eda\uff0c\u4f46\u5982\u679c\u4ece\u65cb\u5f8b\u4e0a\u8bb2\u7edd\u5bf9\u662f\u975e\u5e38\u300c\u597d\u542c\u300d\u7684\u3002\u5982\u679c\u4f60\u6709\u5174\u8da3\u8d2d\u4e70\u5b9e\u4f53\u5531\u7247\uff08\u9ed1\u80f6\u3001\u78c1\u5e26\u3001CD \u90fd\u6709\uff09\uff0c\u76ee\u524d\u53ef\u4ee5\u5728\u5317\u4eac\u7684 fRUITYSPACE\u3001fRUITYSHOP\u3001\u72ec\u97f3\u5531\u7247\uff0c\u4e0a\u6d77\u7684 Daily Vinyl\uff0c\u91d1\u534e\u7684 Wave \u8fd9\u51e0\u4e2a\u5730\u65b9\u8d2d\u4e70\u3002"},{"id":"/4","metadata":{"permalink":"/issues/4","source":"@site/blog/4.md","title":"Issue #4","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aAliGraph\u3001Monorepo\u3001Docker image\u3001Go interface\u3001Guitar tab","date":"2020-06-17T14:07:52.000Z","formattedDate":"June 17, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":14.865,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #4","date":"2020-06-17 14:07:52 +0800","tags":["issue"]},"prevItem":{"title":"Issue #5","permalink":"/issues/5"},"nextItem":{"title":"Issue #3","permalink":"/issues/3"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aAliGraph\u3001Monorepo\u3001Docker image\u3001Go interface\u3001Guitar tab\\n\\n\x3c!--truncate--\x3e\\n\\n## AliGraph: A Comprehensive Graph Neural Network Platform\\n\\n[[\u94fe\u63a5]](https://dl.acm.org/doi/10.1145/3292500.3340404)\\n\\nAliGraph \u662f\u963f\u91cc\u5df4\u5df4\u56e2\u961f\u7814\u53d1\u7684 GNN\uff08Graph Neural Network\uff09\u5206\u5e03\u5f0f\u8bad\u7ec3\u6846\u67b6\uff08\u867d\u7136\u6807\u9898\u91cc\u662f\u300c\u5e73\u53f0\u300d\u4f46\u611f\u89c9\u8fd8\u7b97\u4e0d\u4e0a\uff09\uff0c\u8bba\u6587\u53d1\u8868\u5728 KDD 2019 \u548c PVLDB 2019\u3002\\n\\n\u8bba\u6587\u5f00\u7bc7\u4fbf\u63d0\u51fa\u4e86\u5f53\u4e0b GNN \u6a21\u578b\u8bad\u7ec3\u7684 4 \u4e2a\u6311\u6218\uff1a\\n\\n1. \u5982\u4f55\u63d0\u9ad8\u5927\u89c4\u6a21\u56fe\u6a21\u578b\u7684\u8bad\u7ec3\u6548\u7387\u53ca\u4f18\u5316\u7a7a\u95f4\u5360\u7528\uff1f\\n2. \u600e\u6837\u4f18\u96c5\u5730\u5c06\u5f02\u6784\uff08heterogeneous\uff09\u4fe1\u606f\u7ec4\u5408\u5230\u4e00\u4e2a\u7edf\u4e00\u7684 embedding \u7ed3\u679c\u4e2d\uff1f\\n3. \u5982\u4f55\u5c06\u7ed3\u6784\u5316\u7684\u62d3\u6251\uff08topological\uff09\u4fe1\u606f\u4e0e\u975e\u7ed3\u6784\u5316\u7684\u5c5e\u6027\uff08attribute\uff09\u4fe1\u606f\u7edf\u4e00\u6765\u5171\u540c\u5b9a\u4e49\u90a3\u4e9b\u9700\u8981\u4fdd\u7559\u7684\u4fe1\u606f\uff1f\\n4. \u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\u52a8\u6001\u56fe\u7684 GNN \u65b9\u6cd5\uff1f\\n\\n\u540e\u9762\u7684\u7bc7\u7ae0\u4fbf\u662f\u8be6\u7ec6\u4ecb\u7ecd AliGraph \u5982\u4f55\u89e3\u51b3\u4ee5\u4e0a\u8fd9 4 \u4e2a\u95ee\u9898\u3002\u6846\u67b6\u4ece\u4e0a\u81f3\u4e0b\u6574\u4f53\u5206\u4e3a 3 \u5c42\uff1a\u7b97\u5b50\uff08operator\uff09\u3001\u91c7\u6837\uff08sampling\uff09\u3001\u5b58\u50a8\uff08storage\uff09\u3002\u7b97\u5b50\u5c42\u5305\u542b\u5e38\u89c1\u7684 GNN \u8fd0\u7b97\u64cd\u4f5c\uff0c\u91c7\u6837\u5c42\u5305\u542b\u51e0\u79cd\u9884\u8bbe\u7684\u91c7\u6837\u7b97\u6cd5\uff0c\u5b58\u50a8\u5c42\u4e3b\u8981\u5173\u6ce8\u5982\u4f55\u9ad8\u6548\u5bf9\u5927\u89c4\u6a21\u56fe\u8fdb\u884c\u5206\u5e03\u5f0f\u5b58\u50a8\u3002\u5728\u8fd9 3 \u5c42\u57fa\u7840\u4e4b\u4e0a\u53ef\u4ee5\u5b9e\u73b0\u4efb\u610f\u7684 GNN \u7b97\u6cd5\u4ee5\u53ca\u5e94\u7528\u3002\\n\\n\u5b58\u50a8\u5c42\u56e0\u4e3a\u662f\u8981\u89e3\u51b3\u4e00\u4e2a\u56fe\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u95ee\u9898\uff0c\u56e0\u6b64\u9996\u5148\u8981\u5c06\u56fe\u8fdb\u884c\u5206\u5272\uff08partition\uff09\u3002AliGraph \u5185\u7f6e\u4e86 4 \u79cd\u56fe\u5206\u5272\u7b97\u6cd5\uff1a[METIS](https://dm.kaist.ac.kr/kse625/resources/metis.pdf)\u3001[\u9876\u70b9\u5207\u5272\u548c\u8fb9\u5207\u5272](https://www.usenix.org/conference/osdi12/technical-sessions/presentation/gonzalez)\u3001[2D \u5206\u5272](https://dl.acm.org/doi/10.1145/2503210.2503293)\u3001[\u6d41\u5f0f\u5206\u5272](https://dl.acm.org/doi/10.1145/2339530.2339722)\u3002\u8fd9 4 \u79cd\u7b97\u6cd5\u5206\u522b\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u573a\u666f\uff0cMETIS \u9002\u5408\u5904\u7406\u7a00\u758f\uff08sparse\uff09\u7684\u56fe\uff0c\u9876\u70b9\u5207\u5272\u548c\u8fb9\u5207\u5272\u9002\u5408\u5bc6\u96c6\uff08dense\uff09\u7684\u56fe\uff0c2D \u5206\u5272\u9002\u5408 worker \u6570\u91cf\u56fa\u5b9a\u7684\u573a\u666f\uff0c\u6d41\u5f0f\u5206\u5272\u901a\u5e38\u5e94\u7528\u5728\u8fb9\uff08edge\uff09\u9891\u7e41\u66f4\u65b0\u7684\u56fe\u3002\u7528\u6237\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u9009\u62e9\u6070\u5f53\u7684\u5206\u5272\u7b97\u6cd5\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u7684\u5f62\u5f0f\u81ea\u5df1\u5b9e\u73b0\u3002\\n\\n\u53e6\u4e00\u4e2a\u5b58\u50a8\u5c42\u5173\u5fc3\u7684\u95ee\u9898\u662f\u5982\u4f55\u5c06\u56fe\u7ed3\u6784\u548c\u5c5e\u6027\uff08attribute\uff09\u5171\u540c\u5b58\u50a8\u3002\u8fd9\u91cc\u8bb2\u7684\u56fe\u7ed3\u6784\u5373\u9876\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\uff0c\u8fd9\u662f\u6700\u4e3b\u8981\u7684\u56fe\u6570\u636e\u3002\u540c\u65f6\u6bcf\u4e2a\u9876\u70b9\u4e5f\u4f1a\u9644\u52a0\u4e00\u4e9b\u72ec\u7279\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u67d0\u4e2a\u9876\u70b9\u8868\u793a\u4e00\u4e2a\u7528\u6237\uff0c\u90a3\u9644\u52a0\u5728\u8fd9\u4e2a\u7528\u6237\u4e0a\u9762\u7684\u5c5e\u6027\u5c31\u662f\u7c7b\u4f3c\u6027\u522b\u3001\u5e74\u9f84\u3001\u5730\u7406\u4f4d\u7f6e\u8fd9\u6837\u7684\u4fe1\u606f\u3002\u5982\u679c\u76f4\u63a5\u5c06\u5c5e\u6027\u4fe1\u606f\u548c\u56fe\u7ed3\u6784\u4e00\u8d77\u5b58\u50a8\u4f1a\u9020\u6210\u975e\u5e38\u5927\u7684\u7a7a\u95f4\u6d6a\u8d39\uff0c\u56e0\u4e3a\u4ece\u5168\u5c40\u89d2\u5ea6\u770b\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u9876\u70b9\u7684\u5c5e\u6027\u662f\u9ad8\u5ea6\u91cd\u5408\u7684\u3002\u5e76\u4e14\u5c5e\u6027\u4e0e\u56fe\u7ed3\u6784\u7684\u5927\u5c0f\u5dee\u5f02\u4e5f\u975e\u5e38\u660e\u663e\uff0c\u4e00\u4e2a\u9876\u70b9 ID \u901a\u5e38\u5360\u7528 8 \u5b57\u8282\uff0c\u4f46\u662f\u5c5e\u6027\u4fe1\u606f\u7684\u5927\u5c0f\u4ece 0.1KB \u5230 1KB \u90fd\u6709\u53ef\u80fd \u3002\u56e0\u6b64 AliGraph \u9009\u62e9\u5c06\u5c5e\u6027\u4fe1\u606f\u5355\u72ec\u5b58\u50a8\uff0c\u901a\u8fc7\u4e24\u4e2a\u5355\u72ec\u7684\u7d22\u5f15\u5206\u522b\u5b58\u50a8\u9876\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff0c\u800c\u56fe\u7ed3\u6784\u4e2d\u53ea\u5b58\u50a8\u5c5e\u6027\u7d22\u5f15\u7684 ID\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u81ea\u7136\u662f\u663e\u8457\u964d\u4f4e\u4e86\u5b58\u50a8\u6240\u9700\u7684\u7a7a\u95f4\uff0c\u4f46\u4ee3\u4ef7\u5c31\u662f\u964d\u4f4e\u4e86\u67e5\u8be2\u6027\u80fd\uff0c\u56e0\u4e3a\u9700\u8981\u9891\u7e41\u8bbf\u95ee\u7d22\u5f15\u6765\u83b7\u53d6\u5c5e\u6027\u4fe1\u606f\u3002AliGraph \u9009\u62e9\u589e\u52a0\u4e00\u5c42 LRU \u7f13\u5b58\u7684\u65b9\u5f0f\u5bf9\u67e5\u8be2\u6027\u80fd\u8fdb\u884c\u4f18\u5316\u3002\\n\\n\u5b58\u50a8\u5c42\u5173\u5fc3\u7684\u6700\u540e\u4e00\u4e2a\u95ee\u9898\u4e5f\u662f\u8ddf\u67e5\u8be2\u6027\u80fd\u6709\u5173\u3002\u5728\u56fe\u7b97\u6cd5\u4e2d\u4e00\u4e2a\u9876\u70b9\u7684\u90bb\u5c45\uff08neighbor\uff09\u662f\u975e\u5e38\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u90bb\u5c45\u53ef\u4ee5\u662f\u76f4\u63a5\uff081 \u8df3\uff09\u7684\u4e5f\u53ef\u4ee5\u662f\u95f4\u63a5\uff08\u591a\u8df3\uff09\u7684\uff0c\u7531\u4e8e\u56fe\u88ab\u5206\u5272\u4ee5\u540e\u672c\u5730\u53ea\u4f1a\u5b58\u50a8\u76f4\u63a5\u7684\u90bb\u5c45\uff0c\u5f53\u9700\u8981\u8bbf\u95ee\u95f4\u63a5\u90bb\u5c45\u7684\u65f6\u5019\u5c31\u5fc5\u987b\u901a\u8fc7\u7f51\u7edc\u901a\u4fe1\u4e0e\u5176\u5b83\u5b58\u50a8\u8282\u70b9\u8fdb\u884c\u4ea4\u4e92\uff0c\u8fd9\u91cc\u7684\u7f51\u7edc\u901a\u4fe1\u4ee3\u4ef7\u5728\u5927\u89c4\u6a21\u56fe\u8ba1\u7b97\u4e2d\u662f\u4e0d\u5bb9\u5ffd\u89c6\u7684\u3002\u89e3\u51b3\u601d\u8def\u4e5f\u5f88\u76f4\u63a5\uff0c\u5373\u5728\u6bcf\u4e2a\u8282\u70b9\u672c\u5730\u7f13\u5b58\u9876\u70b9\u7684\u95f4\u63a5\u90bb\u5c45\uff0c\u4f46\u8981\u7f13\u5b58\u54ea\u4e9b\u9876\u70b9\u7684\u90bb\u5c45\uff0c\u8981\u7f13\u5b58\u51e0\u4e2a\u90bb\u5c45\u662f\u9700\u8981\u4ed4\u7ec6\u8003\u91cf\u7684\u95ee\u9898\u3002AliGraph \u6ca1\u6709\u4f7f\u7528\u76ee\u524d\u5e38\u89c1\u7684\u4e00\u4e9b\u7f13\u5b58\u7b97\u6cd5\uff08\u5982 LRU\uff09\uff0c\u800c\u662f\u63d0\u51fa\u4e86\u4e00\u79cd\u65b0\u7684\u57fa\u4e8e\u9876\u70b9\u91cd\u8981\u6027\uff08importance\uff09\u7684\u7b97\u6cd5\u6765\u5bf9\u95f4\u63a5\u90bb\u5c45\u8fdb\u884c\u7f13\u5b58\u3002\u5728\u6709\u5411\u56fe\u4e2d\u8ba1\u7b97\u4e00\u4e2a\u9876\u70b9\u91cd\u8981\u6027\u7684\u516c\u5f0f\u662f `\u5165\u90bb\u5c45\u7684\u4e2a\u6570 / \u51fa\u90bb\u5c45\u7684\u4e2a\u6570`\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u90bb\u5c45\u4e2a\u6570\u540c\u6837\u53ef\u4ee5\u662f\u76f4\u63a5\u7684\u6216\u8005\u95f4\u63a5\u7684\u3002\u5f53\u8fd9\u4e2a\u516c\u5f0f\u7684\u8ba1\u7b97\u7ed3\u679c\u5927\u4e8e\u67d0\u4e2a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u9608\u503c\u65f6\u5373\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u300c\u91cd\u8981\u300d\u7684\u9876\u70b9\u3002\u4ece\u5b9e\u9645\u6d4b\u8bd5\u4e2d\u5f97\u51fa\u7684\u7ecf\u9a8c\u503c\u662f\u901a\u5e38\u53ea\u9700\u8981\u8ba1\u7b97\u4e24\u8df3\uff08hop\uff09\u7684\u90bb\u5c45\u4e2a\u6570\u5c31\u591f\u4e86\uff0c\u800c\u9608\u503c\u672c\u8eab\u4e0d\u662f\u4e00\u4e2a\u7279\u522b\u654f\u611f\u7684\u6570\u503c\uff0c\u8bbe\u7f6e\u5728 0.2 \u5de6\u53f3\u662f\u5bf9\u4e8e\u7f13\u5b58\u6210\u672c\u548c\u6548\u679c\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u5e73\u8861\u3002\u9009\u51fa\u6240\u6709\u91cd\u8981\u7684\u9876\u70b9\u4ee5\u540e\uff0c\u6700\u7ec8\u4f1a\u5728\u6240\u6709\u5305\u542b\u8fd9\u4e9b\u9876\u70b9\u7684\u8282\u70b9\u4e0a\u7f13\u5b58 _k_ \u8df3\u7684\u51fa\u90bb\u5c45\uff08out-neighbor\uff09\u3002\\n\\nGNN \u7b97\u6cd5\u901a\u5e38\u53ef\u4ee5\u603b\u7ed3\u4e3a 3 \u4e2a\u6b65\u9aa4\uff1a\u91c7\u6837\uff08sample\uff09\u67d0\u4e2a\u9876\u70b9\u7684\u90bb\u5c45\uff0c\u805a\u5408\uff08aggregate\uff09\u8fd9\u4e9b\u91c7\u6837\u540e\u7684\u9876\u70b9\u7684 embedding\uff0c\u5c06\u805a\u5408\u540e\u7684 embedding \u4e0e\u9876\u70b9\u81ea\u5df1\u7684\u8fdb\u884c\u5408\u5e76\uff08combine\uff09\u5f97\u5230\u65b0\u7684 embedding\u3002\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u91c7\u6837\u662f\u6574\u4e2a\u6d41\u7a0b\u4e2d\u7684\u7b2c\u4e00\u6b65\uff0c\u91c7\u6837\u7684\u6548\u679c\u4e5f\u4f1a\u76f4\u63a5\u5f71\u54cd\u540e\u7eed\u8ba1\u7b97\u7684 embedding \u7ed3\u679c\u3002AliGraph \u62bd\u8c61\u4e86 3 \u7c7b\u91c7\u6837\u65b9\u6cd5\uff1a\u904d\u5386\u91c7\u6837\uff08traverse\uff09\u3001\u8fd1\u90bb\u91c7\u6837\uff08neighborhood\uff09\u548c\u8d1f\u91c7\u6837\uff08negative\uff09\u3002\u904d\u5386\u91c7\u6837\u662f\u4ece\u672c\u5730\u5b50\u56fe\u4e2d\u83b7\u53d6\u6570\u636e\uff1b\u8fd1\u90bb\u91c7\u6837\u5bf9\u4e8e 1 \u8df3\u7684\u90bb\u5c45\u53ef\u4ee5\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u83b7\u53d6\uff0c\u591a\u8df3\u7684\u90bb\u5c45\u5982\u679c\u5728\u7f13\u5b58\u4e2d\u5c31\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u5426\u5219\u5c31\u8bf7\u6c42\u5176\u5b83\u8282\u70b9\uff1b\u8d1f\u91c7\u6837\u901a\u5e38\u4e5f\u662f\u4ece\u672c\u5730\u6311\u9009\u9876\u70b9\uff0c\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u6709\u53ef\u80fd\u9700\u8981\u4ece\u5176\u5b83\u8282\u70b9\u6311\u9009\u3002\\n\\n\u5728\u91c7\u6837\u5b8c\u90bb\u5c45\u9876\u70b9\u4ee5\u540e\u5c31\u662f\u805a\u5408\u8fd9\u4e9b\u9876\u70b9\u7684 embedding\uff0c\u5e38\u7528\u7684\u805a\u5408\u65b9\u6cd5\u6709\uff1aelement-wise mean\u3001max-pooling \u548c LSTM\u3002\u6700\u540e\u662f\u5c06\u805a\u5408\u540e\u7684 embedding \u4e0e\u9876\u70b9\u81ea\u5df1\u7684\u8fdb\u884c\u5408\u5e76\uff0c\u901a\u5e38\u5c31\u662f\u5c06\u8fd9\u4e24\u4e2a embedding \u8fdb\u884c\u6c42\u548c\u3002\u4e3a\u4e86\u52a0\u901f\u805a\u5408\u548c\u5408\u5e76\u8fd9\u4e24\u4e2a\u7b97\u5b50\u7684\u8ba1\u7b97\uff0cAliGraph \u5e94\u7528\u4e86\u4e00\u4e2a\u7269\u5316\uff08materialization\uff09\u4e2d\u95f4\u5411\u91cf\u7684\u7b56\u7565\uff0c\u5373\u6bcf\u4e2a mini-batch \u4e2d\u7684\u6240\u6709\u9876\u70b9\u5171\u4eab\u91c7\u6837\u7684\u9876\u70b9\uff0c\u540c\u6837\u7684\u805a\u5408\u548c\u5408\u5e76\u64cd\u4f5c\u7684\u4e2d\u95f4\u7ed3\u679c\u4e5f\u5171\u4eab\uff0c\u8fd9\u4e2a\u7b56\u7565\u4f1a\u5927\u5e45\u964d\u4f4e\u8ba1\u7b97\u6210\u672c\u3002\\n\\n\u5728\u6700\u540e\u7684\u8bc4\u4f30\u73af\u8282\u7528\u4e86\u4e24\u4e2a\u6765\u81ea\u6dd8\u5b9d\u7684\u6570\u636e\u96c6\uff0c\u4e24\u4e2a\u6570\u636e\u96c6\u4e4b\u95f4\u53ea\u6709\u5927\u5c0f\u7684\u533a\u522b\uff0c\u5927\u6570\u636e\u96c6\u662f\u5c0f\u6570\u636e\u96c6\u7684 6 \u500d\u5de6\u53f3\u3002\u5927\u6570\u636e\u96c6\u7684\u57fa\u7840\u6570\u636e\u662f\uff1a4.8 \u4ebf\u4e2a\u7528\u6237\u9876\u70b9\uff0c968 \u4e07\u4e2a\u5546\u54c1\u9876\u70b9\uff0c65.8 \u4ebf\u6761\u7528\u6237\u5230\u5546\u54c1\u7684\u8fb9\uff0c2.3 \u4ebf\u6761\u5546\u54c1\u5230\u5546\u54c1\u7684\u8fb9\uff0c\u7528\u6237\u5e73\u5747\u6709 27 \u4e2a\u5c5e\u6027\uff0c\u5546\u54c1\u5e73\u5747\u6709 32 \u4e2a\u5c5e\u6027\u3002\u5f53\u4f7f\u7528 200 \u4e2a worker\uff08\u8282\u70b9\u914d\u7f6e\u8bba\u6587\u4e2d\u6ca1\u6709\u8bf4\u660e\uff09\u65f6\u5927\u6570\u636e\u96c6\u53ea\u9700\u8981 5 \u5206\u949f\u5373\u53ef\u5c06\u6574\u4e2a\u56fe\u6784\u5efa\u5b8c\u6bd5\uff0c\u76f8\u6bd4\u4e4b\u4e0b\u4ee5\u5f80\u7684\u4e00\u4e9b\u65b9\u6848\u53ef\u80fd\u9700\u8981\u8017\u8d39\u6570\u5c0f\u65f6\u3002\u57fa\u4e8e\u9876\u70b9\u91cd\u8981\u6027\u7684\u7f13\u5b58\u7b97\u6cd5\u76f8\u6bd4 LRU \u8fd9\u4e9b\u4f20\u7edf\u7b97\u6cd5\u4e5f\u662f\u660e\u663e\u66f4\u4f18\u30023 \u7c7b\u91c7\u6837\u65b9\u6cd5\u7684\u6027\u80fd\u8bc4\u4f30\u7ed3\u679c\u4ece\u51e0\u6beb\u79d2\u5230\u51e0\u5341\u6beb\u79d2\u4e0d\u7b49\uff0c\u4f46\u6700\u957f\u4e5f\u4e0d\u8d85\u8fc7 60 \u6beb\u79d2\uff0c\u5e76\u4e14\u91c7\u6837\u6027\u80fd\u4e0e\u6570\u636e\u96c6\u5927\u5c0f\u4e0d\u592a\u76f8\u5173\u3002\u805a\u5408\u548c\u5408\u5e76\u7b97\u5b50\u76f8\u6bd4\u4f20\u7edf\u7684\u5b9e\u73b0\u4e5f\u6709\u4e00\u4e2a\u6570\u91cf\u7ea7\u7684\u6027\u80fd\u63d0\u5347\uff0c\u8fd9\u4e3b\u8981\u5f97\u76ca\u4e8e\u524d\u9762\u63d0\u5230\u7684\u7269\u5316\u7b56\u7565\u3002\\n\\nAliGraph \u76ee\u524d\u5df2\u7ecf\u5f00\u6e90\uff08\u4e00\u90e8\u5206\uff1f\uff09\u4f46\u662f\u6362\u4e86\u4e00\u4e2a\u540d\u5b57\u53eb\u505a [graph-learn](https://github.com/alibaba/graph-learn)\uff0c\u8ddf\u5927\u591a\u6570\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u4e00\u6837\uff0c\u5e95\u5c42\u4f7f\u7528 C++ \u8bed\u8a00\u5b9e\u73b0\u5e76\u63d0\u4f9b Python \u8bed\u8a00\u7684 API\uff0c\u76ee\u524d\u652f\u6301 TensorFlow\uff0c\u672a\u6765\u4f1a\u652f\u6301 PyTorch\u3002\u6709\u610f\u601d\u7684\u662f\u521a\u521a\u5f00\u6e90\u4e0d\u4e45\u5c31\u6709\u4eba\u63d0\u4e86\u4e00\u4e2a [issue](https://github.com/alibaba/graph-learn/issues/16) \u5e0c\u671b\u80fd\u591f\u8ddf\u53e6\u5916\u51e0\u4e2a\u6d41\u884c\u7684 GNN \u6846\u67b6\u8fdb\u884c\u6bd4\u8f83\uff0c\u4f46\u662f\u9879\u76ee\u6210\u5458\u7684\u56de\u7b54\u6bd4\u8f83\u542b\u7cca\u3002\\n\\n## Building Uber\u2019s Go Monorepo with Bazel\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/go-monorepo-bazel)\\n\\nUber \u5e94\u8be5\u662f\u9664\u4e86 Google \u4ee5\u5916\u5f88\u65e9\u9009\u62e9\u5728\u540e\u7aef\u670d\u52a1\u4e2d\u5927\u89c4\u6a21\u4f7f\u7528 Go \u8bed\u8a00\u7684\u516c\u53f8\u4e4b\u4e00\uff0c\u5e76\u8d21\u732e\u4e86\u5f88\u591a\u8457\u540d\u7684 Go \u8bed\u8a00\u9879\u76ee\uff08\u5982 [zap](https://github.com/uber-go/zap)\u3001[Jaeger](https://github.com/jaegertracing/jaeger)\uff09\u3002\u65e9\u5728 2017 \u5e74\uff0cUber \u7684 Android \u548c iOS \u56e2\u961f\u5c31\u5df2\u7ecf\u53ea\u4f7f\u7528\u4e00\u4e2a\u4ee3\u7801\u4ed3\u5e93\u8fdb\u884c\u5f00\u53d1\uff0c\u4fd7\u79f0 monorepo\u3002\u5b9e\u8df5 monorepo \u6700\u8457\u540d\u7684\u516c\u53f8\u5e94\u8be5\u8fd8\u662f Google\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u770b\u770b [Why Google Stores Billions of Lines of Code in a Single Repository](https://research.google/pubs/pub45424) \u8fd9\u7bc7\u6587\u7ae0\u3002\u73b0\u5728\u540e\u7aef\u56e2\u961f\u4e5f\u5f00\u59cb\u91c7\u7528 monorepo \u6765\u7ba1\u7406 Go \u8bed\u8a00\u9879\u76ee\uff0c\u4f46\u662f\u548c\u5ba2\u6237\u7aef\u56e2\u961f\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u6ca1\u6709\u7528 [Buck](https://buck.build) \u800c\u662f\u7528 [Bazel](https://bazel.build)\uff08\u524d\u8005\u662f Facebook \u5f00\u6e90\uff0c\u540e\u8005\u662f Google \u5f00\u6e90\uff09\u3002\u8fd9\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u4e86\u5728 monorepo \u4e2d\u5c06 Go \u8bed\u8a00\u548c Bazel \u7ed3\u5408\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u3002\\n\\n## Optimising Docker Layers for Better Caching with Nix\\n\\n[[\u94fe\u63a5]](https://grahamc.com/blog/nix-and-layered-docker-images)\\n\\n\u6050\u6015\u5927\u591a\u6570\u65f6\u5019\u63a5\u89e6\u5bb9\u5668\u662f\u4ece\u6784\u5efa\u4e00\u4e2a Docker \u955c\u50cf\u5f00\u59cb\u7684\uff0c\u8fd9\u4e00\u6b65\u5f80\u5f80\u4e5f\u662f\u6700\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u3002\u4e3a\u4ec0\u4e48\u6211\u7684\u955c\u50cf\u8fd9\u4e48\u5927\uff1f\u4e3a\u4ec0\u4e48\u6bcf\u6b21\u62c9\u53d6\u955c\u50cf\u90fd\u8981\u4ece\u5934\u5f00\u59cb\uff1f\u8fd9\u4e9b\u95ee\u9898\u53ef\u80fd\u4f1a\u968f\u7740\u4f7f\u7528\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\u9010\u6e10\u6d6e\u73b0\u51fa\u6765\uff0c\u8981\u56de\u7b54\u5b83\u4eec\u9700\u8981\u4e86\u89e3 Docker \u955c\u50cf\u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u300clayer\u300d\uff0c\u672c\u8d28\u4e0a\u4f60\u5728 `Dockerfile` \u91cc\u5199\u7684\u6bcf\u4e00\u884c\u547d\u4ee4\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a layer\uff0c\u4e00\u4e2a\u955c\u50cf\u4fbf\u662f\u7531\u5f88\u591a layer \u6784\u6210\u3002Layer \u4e4b\u95f4\u662f\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\uff0c\u5f53\u62c9\u53d6\u955c\u50cf\u65f6\u5982\u679c\u672c\u5730\u5df2\u7ecf\u5b58\u5728\u67d0\u4e2a layer \u5c31\u4e0d\u4f1a\u91cd\u590d\u62c9\u53d6\u3002\u5728\u4f20\u7edf\u7684 Linux \u53d1\u884c\u7248\u4e2d\u5b89\u88c5\u4f9d\u8d56\u65f6 Docker \u662f\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u54ea\u4e9b\u6587\u4ef6\u88ab\u4fee\u6539\u7684\uff0c\u800c [Nix](https://github.com/NixOS/nix) \u8fd9\u4e2a\u7279\u6b8a\u7684\u5305\u7ba1\u7406\u5668\u91c7\u7528\u4e86\u4e0d\u4e00\u6837\u7684\u8bbe\u8ba1\u601d\u8def\u4f7f\u5f97\u5b89\u88c5\u4f9d\u8d56\u8fd9\u4ef6\u4e8b\u60c5\u5bf9\u4e8e Docker layer \u7f13\u5b58\u975e\u5e38\u53cb\u597d\u3002\u884d\u751f\u9605\u8bfb\u63a8\u8350 J\xe9r\xf4me Petazzoni \u5199\u7684\u5173\u4e8e\u5982\u4f55\u51cf\u5c11\u955c\u50cf\u5927\u5c0f\u7684[\u7cfb\u5217\u6587\u7ae0](https://www.ardanlabs.com/blog/2020/02/docker-images-part1-reducing-image-size.html)\u3002\\n\\n## Proposal: Permit embedding of interfaces with overlapping method sets\\n\\n[[\u94fe\u63a5]](https://github.com/golang/proposal/blob/master/design/6977-overlapping-interfaces.md)\\n\\nInterface \u662f Go \u8bed\u8a00\u4e00\u4e2a\u91cd\u8981\u7684\u7279\u6027\uff0c\u7c7b\u4f3c\u5f88\u591a\u5176\u5b83\u8bed\u8a00\u4e2d\u7684\u6982\u5ff5\uff0c\u63a5\u53e3\u5b9a\u4e49\u597d\u4ee5\u540e\u662f\u9700\u8981\u901a\u8fc7 struct \u6765\u5b9e\u73b0\u7684\u3002\u4f46\u4e0d\u540c\u4e4b\u5904\u53c8\u5728\u4e8e struct \u4e0d\u9700\u8981\u663e\u5f0f\u58f0\u660e\u5b9e\u73b0\u4e86\u4ec0\u4e48 interface\uff0c\u53ea\u8981\u6ee1\u8db3 interface \u4e2d\u5b9a\u4e49\u7684\u63a5\u53e3\u5c31\u884c\uff0c\u8fd9\u4e2a\u5173\u952e\u8bbe\u8ba1\u4f7f\u5f97 Go \u8bed\u8a00\u7684 interface \u4f7f\u7528\u573a\u666f\u53ef\u4ee5\u975e\u5e38\u7075\u6d3b\u3002\u8ddf struct \u4e00\u6837 interface \u4e5f\u5141\u8bb8\u5d4c\u5957\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u5728\u4e00\u4e2a interface \u5b9a\u4e49\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a interface\u3002\u5982\u679c\u540c\u65f6\u5d4c\u5957\u4e86\u591a\u4e2a interface\uff0c\u5e76\u4e14\u8fd9\u4e9b interface \u4e4b\u95f4\u6709\u91cd\u590d\u7684\u63a5\u53e3\u5728\u7f16\u8bd1\u65f6\u662f\u4f1a\u62a5\u9519\u7684\u3002\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4e3a\u4e86\u89c4\u907f\u8fd9\u4e2a\u9650\u5236\u53ef\u80fd\u9700\u8981\u4fee\u6539 interface \u7684\u5b9a\u4e49\uff0c\u8fd9\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\u4e0d\u592a\u53cb\u597d\u3002\u4e0a\u9762\u8fd9\u4e2a\u63d0\u6848\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u4e0d\u4fee\u6539\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u907f\u5f00\u8fd9\u4e2a\u9650\u5236\uff0c\u76ee\u524d\u8fd9\u4e2a\u529f\u80fd\u5df2\u7ecf\u5728 [Go 1.14](https://golang.org/doc/go1.14#language) \u4e2d\u53d1\u5e03\u3002\\n\\n## VexTab\\n\\n[[\u94fe\u63a5]](https://github.com/0xfe/vextab)\\n\\n\u4e0d\u7ba1\u662f\u97f3\u4e50\u521b\u4f5c\u8fd8\u662f\u97f3\u4e50\u6f14\u594f\uff0c\u4e50\u8c31\u90fd\u662f\u4e00\u4e2a\u5fc5\u4e0d\u53ef\u5c11\u7684\u4e1c\u897f\u3002\u8fd8\u8bb0\u5f97\u521a\u5b66\u5409\u4ed6\u90a3\u4f1a\u513f\u975e\u5e38\u70ed\u8877\u7684\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u53bb\u7f51\u4e0a\u641c\u96c6\u5404\u79cd\u6b4c\u66f2\u7684\u516d\u7ebf\u8c31\uff0c\u8fd9\u4e9b\u4e50\u8c31\u7684\u683c\u5f0f\u4ece\u6700\u6734\u7d20\u7684\u7eaf\u6587\u672c\u5230\u9ad8\u7ea7\u7684 [Guitar Pro](https://www.guitar-pro.com) \u683c\u5f0f\u90fd\u6709\u3002\u518d\u540e\u6765\u5f00\u59cb\u5b66\u4e60\u6252\u6b4c\uff0c\u4e5f\u9762\u4e34\u628a\u6252\u4e0b\u6765\u7684\u8c31\u5b50\u7eaa\u5f55\u4e0b\u6765\u7684\u9700\u6c42\u3002\u867d\u7136 Guitar Pro \u5f88\u597d\u4f46\u6bd5\u7adf\u662f\u4e00\u4e2a\u6536\u8d39\u8f6f\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e5f\u662f\u79c1\u6709\u7684\u3002\u5c31\u50cf\u6211\u66f4\u559c\u6b22 Markdown \u800c\u4e0d\u662f\u76f4\u63a5\u7528 Word \u4e00\u6837\uff0c\u4e00\u76f4\u5e0c\u671b\u80fd\u6709\u4e00\u4e2a\u7c7b\u4f3c\u7684\u6807\u8bb0\u8bed\u8a00\u7528\u4e8e\u7f16\u5199\u4e50\u8c31\u3002VexTab \u5373\u662f\u8fd9\u6837\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u7f16\u5199\u4e94\u7ebf\u8c31\u548c\u516d\u7ebf\u8c31\u7684\u8bed\u8a00\uff0c\u4e5f\u63d0\u4f9b\u4e00\u4e2a JavaScript \u5e93\u65b9\u4fbf\u5d4c\u5165\u5230\u7f51\u9875\u4e2d\u3002\u6709\u610f\u601d\u7684\u662f VexTab \u7684\u4f5c\u8005\u540c\u65f6\u4e5f\u662f Google \u7684\u4e00\u540d\u5458\u5de5\u3002"},{"id":"/3","metadata":{"permalink":"/issues/3","source":"@site/blog/3.md","title":"Issue #3","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aOLAP\u3001ByteKV\u3001GPU share\u3001DL paper\u3001TensorFlow dev","date":"2020-06-10T17:37:27.000Z","formattedDate":"June 10, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":14.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #3","date":"2020-06-10 17:37:27 +0800","tags":["issue"]},"prevItem":{"title":"Issue #4","permalink":"/issues/4"},"nextItem":{"title":"Issue #2","permalink":"/issues/2"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aOLAP\u3001ByteKV\u3001GPU share\u3001DL paper\u3001TensorFlow dev\\n\\n\x3c!--truncate--\x3e\\n\\n## Kudu: Storage for Fast Analytics on Fast Data\\n\\n[[\u94fe\u63a5]](https://kudu.apache.org/kudu.pdf)\\n\\n[OLAP](https://en.wikipedia.org/wiki/Online_analytical_processing)\uff08Online Analytical Processing\uff09\u4e00\u76f4\u662f\u5927\u6570\u636e\u9886\u57df\u975e\u5e38\u91cd\u8981\u7684\u5e94\u7528\u573a\u666f\uff0c\u5149\u6709\u6570\u636e\u4e5f\u4e0d\u884c\uff0c\u4f60\u5f97\u300c\u5206\u6790\u300d\u554a\u3002\u81ea\u4ece\u6709\u4e86 Hadoop\uff0cOLAP \u7684\u5de5\u5177\u5c31\u4e00\u76f4\u5728\u6f14\u53d8\uff0c\u4ece\u6700\u65e9\u7684\u88f8\u5199 MapReduce \u4efb\u52a1\uff0c\u5230 [Pig](https://pig.apache.org)\u3001[Hive](https://hive.apache.org)\u3001[Presto](https://prestosql.io)\u3001[Impala](https://impala.apache.org)\u3001[Druid](https://druid.apache.org)\u3001[ClickHouse](https://clickhouse.tech)\uff0c\u4ee5\u53ca\u4eca\u5929\u8981\u4ecb\u7ecd\u7684 [Kudu](https://kudu.apache.org)\u3002\u4e00\u4e2a\u660e\u663e\u7684\u8d8b\u52bf\u662f OLAP \u5f15\u64ce\u5728\u9010\u6b65\u671d\u7740\u300c\u53bb Hadoop \u5316\u300d\u548c\u300c\u5b9e\u65f6\u5316\u300d\u53d1\u5c55\uff0c\u5f53\u7136\u8fd9\u4e9b\u9879\u76ee\u91cc\u6700\u65b0\u7684\u4e5f\u5df2\u7ecf\u662f 2016 \u5e74\u53d1\u5e03\u7684\u4e86\uff0c\u63a5\u4e0b\u6765\u4f1a\u600e\u4e48\u53d8\u5316\u8fd8\u662f\u4e2a\u672a\u77e5\u6570\u3002\\n\\n\u5148\u8bb2\u8bb2\u4e3a\u4ec0\u4e48\u4f1a\u6709\u7c7b\u4f3c Kudu \u8fd9\u6837\u7684\u9879\u76ee\u8bde\u751f\u3002\u4f20\u7edf\u7684 OLAP \u5f15\u64ce\u56e0\u4e3a\u662f\u6784\u5efa\u5728 HDFS \u4e0a\u7684\uff0c\u8981\u60f3\u5206\u6790\u6570\u636e\u9996\u5148\u5f97\u5c06\u6570\u636e\u5b58\u50a8\u5230 HDFS \u4e0a\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\uff08\u901a\u5e38\u53eb\u505a ETL\uff09\u5f80\u5f80\u662f\u6bd4\u8f83\u8017\u65f6\u4ee5\u53ca\u590d\u6742\u7684\u3002\u540c\u65f6\u7531\u4e8e HDFS \u5929\u751f\u4e0d\u652f\u6301\u968f\u673a\u8bfb\u5199\uff0c\u4e3a\u4e86\u5f25\u8865\u8fd9\u4e2a\u300c\u7f3a\u9677\u300d\uff0c\u6709\u4e86 HBase \u8fd9\u6837\u7684\u9879\u76ee\u3002\u4f46 HBase \u5bf9\u4e8e OLAP \u573a\u666f\u662f\u4e0d\u591f\u53cb\u597d\u7684\uff0c\u56e0\u6b64\u5f80\u5f80\u9700\u8981\u628a\u6570\u636e\u4ece HBase \u518d\u5bfc\u5165\u5230 HDFS \u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53ef\u80fd\u6bd4\u8f83\u8017\u65f6\uff0c\u7ef4\u62a4\u6210\u672c\u4e5f\u6bd4\u8f83\u9ad8\u3002\u56e0\u6b64 Kudu \u7684\u76ee\u6807\u662f\u5b9e\u73b0\u4e00\u4e2a\u5373\u652f\u6301\u968f\u673a\u8bfb\u5199\uff08\u4e3b\u8981\u662f\u5199\uff09\uff0c\u53c8\u9488\u5bf9\u5927\u6279\u91cf\u67e5\u8be2\u8fdb\u884c\u4f18\u5316\u7684\u5b58\u50a8\u5f15\u64ce\u3002\u8fd9\u79cd\u65f6\u5019 HDFS \u5c31\u663e\u5f97\u5f88\u7d2f\u8d58\u4e86\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8d8a\u6765\u8d8a\u591a\u5f15\u64ce\u9009\u62e9\u4e0d\u4f9d\u8d56 HDFS \u7684\u7f18\u6545\uff08Kudu \u5b98\u7f51\u4e5f\u5728 FAQ \u4e2d\u4e13\u95e8[\u89e3\u91ca](https://kudu.apache.org/faq.html#why-doesnt-kudu-store-its-data-in-hdfs)\u4e86\u4e3a\u4ec0\u4e48\u4e0d\u7528 HDFS\uff09\u3002\u5f53\u7136\u5e76\u4e0d\u662f\u8bf4 HDFS \u5c31\u6ca1\u7528\u4e86\uff0c\u6709\u5f88\u591a\u6570\u636e\u8fd8\u662f\u975e\u5e38\u9759\u6001\u7684\uff0c\u5bf9\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u4e5f\u4e0d\u9ad8\uff0c\u6b64\u65f6\u7528 HDFS \u662f\u4e00\u79cd\u7b80\u5355\u7ecf\u6d4e\u7684\u9009\u62e9\u3002\\n\\n\u8fd9\u7bc7\u8bba\u6587\u867d\u7136\u4ecb\u7ecd\u7684\u662f Kudu \u65e9\u671f\u7684\u4e00\u4e9b\u8bbe\u8ba1\u601d\u60f3\uff0c\u4f46\u57fa\u672c\u4e0a\u5c5e\u4e8e\u6700\u6838\u5fc3\u7684\u529f\u80fd\u3002\u8ddf\u5f88\u591a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u4e00\u6837\uff0cKudu \u4e5f\u662f\u53d7 [Spanner](https://research.google/pubs/pub39966) \u542f\u53d1\u3002\u7cfb\u7edf\u67b6\u6784\u4e0a\u5206\u4e3a\u4e00\u4e2a Master \u670d\u52a1\u548c\u82e5\u5e72 Tablet \u670d\u52a1\u3002Master \u8d1f\u8d23\u7ef4\u62a4\u5143\u4fe1\u606f\uff0c\u5305\u62ec Tablet \u8282\u70b9\u548c\u6570\u636e\u7684\u3002Tablet \u670d\u52a1\u5219\u8d1f\u8d23\u6570\u636e\u5b58\u50a8\uff0c\u6bcf\u53f0\u8282\u70b9\u4e0a\u4f1a\u6709\u51e0\u5341\u81f3\u6570\u767e\u4e2a tablet\uff0c\u6bcf\u4e2a tablet \u4e2d\u5305\u542b\u4e86\u82e5\u5e72\u6570\u636e\uff0c\u6700\u5927\u53ef\u4ee5\u8fbe\u5230\u51e0\u5341 GB \u7684\u89c4\u6a21\uff08\u8fd9\u91cc\u4f60\u53ef\u4ee5\u628a tablet \u7c7b\u6bd4\u4e3a\u5f88\u591a\u522b\u7684\u7cfb\u7edf\u4e2d\u7684 region \u6982\u5ff5\uff09\u3002\\n\\n\u8ddf\u5f88\u591a\u5173\u7cfb\u6570\u636e\u5e93\u4e00\u6837\uff0cKudu \u662f\u6709 table \u7684\u6982\u5ff5\u7684\u3002\u4f46\u8ddf\u5f88\u591a NoSQL \u6570\u636e\u5e93\u4e0d\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0c\u5f3a\u5236\u7528\u6237\u5fc5\u987b\u663e\u5f0f\u5b9a\u4e49 schema\u3002Kudu \u4e00\u4e2a\u6709\u610f\u601d\u7684\u8bbe\u8ba1\u5728\u4e8e\u540c\u65f6\u652f\u6301\u4e86 hash \u548c range \u8fd9\u4e24\u79cd\u6570\u636e partition \u65b9\u6cd5\uff0c\u800c\u4e0d\u50cf\u522b\u7684\u7cfb\u7edf\u53ea\u652f\u6301\u5176\u4e2d\u4e00\u79cd\uff08\u6709\u5173\u8fd9\u4e24\u79cd partition \u7684\u4ecb\u7ecd\u53ef\u4ee5\u770b\u6211\u4e4b\u524d\u7684[\u4e00\u7bc7\u6587\u7ae0](https://xiaogaozi.org/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\uff09\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u662f\u5373\u4fdd\u7559\u4e86 hash \u7684\u6570\u636e\u5747\u5300\u5206\u914d\u7279\u70b9\uff0c\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u9632\u6b62\u8bfb\u5199\u70ed\u70b9\uff0c\u53c8\u4fdd\u7559\u4e86 range \u5bf9\u4e8e\u8303\u56f4\u626b\u63cf\u7684\u53cb\u597d\u6027\u3002\\n\\nTablet \u670d\u52a1\u4e4b\u95f4\u662f\u901a\u8fc7 Raft \u6765\u8fdb\u884c\u6570\u636e\u590d\u5236\uff0c\u56e0\u6b64\u53ef\u4ee5\u8ba4\u4e3a Kudu \u662f\u4e00\u4e2a\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\u7684\u5b58\u50a8\u7cfb\u7edf\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f Kudu \u7684\u9ed8\u8ba4\u8bbe\u7f6e\u662f 500 \u6beb\u79d2\u7684\u5fc3\u8df3\u95f4\u9694\u4ee5\u53ca 1.5 \u79d2\u7684\u9009\u4e3e\u8d85\u65f6\uff0c\u8fd9\u4e2a\u8ddf Raft \u8bba\u6587\u63a8\u8350\u7684\u65f6\u95f4\u76f8\u6bd4\u957f\u4e86\u4e0d\u5c11\uff08\u63a8\u8350\u7684\u9009\u4e3e\u8d85\u65f6\u662f 150~300 \u6beb\u79d2\uff09\u3002\u5f53\u96c6\u7fa4\u6269\u5bb9\u65f6\uff0c\u65b0\u8282\u70b9\u5c06\u4f1a\u9996\u5148\u8fdb\u5165 `PRE_VOTER` \u72b6\u6001\uff0c\u7b49\u5230 log \u8ffd\u4e0a\u4ee5\u540e\u518d\u53d8\u6210 `VOTER` \u72b6\u6001\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u4e5f\u662f Raft \u8bba\u6587\u4e2d\u5efa\u8bae\u7684\uff0c\u4e0d\u8fc7\u8bba\u6587\u4e2d\u53eb\u505a learner \u6216\u8005 non-voting member\u3002Master \u670d\u52a1\u867d\u7136\u662f\u5355\u70b9\u8bbe\u8ba1\uff08\u5373\u72b6\u6001\u4e0d\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\uff09\uff0c\u4f46\u4e3a\u4e86\u4fdd\u969c\u9ad8\u53ef\u7528\u4e5f\u53ef\u4ee5\u901a\u8fc7 Raft \u5b9e\u73b0\u591a\u8282\u70b9\u72b6\u6001\u590d\u5236\uff0c\u53ea\u4e0d\u8fc7\u4efb\u610f\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u4e2a\u8282\u70b9\u5de5\u4f5c\u3002\\n\\nKudu \u7684\u6570\u636e\u5b58\u50a8\u5f15\u64ce\u662f\u5b8c\u5168\u81ea\u5df1\u8bbe\u8ba1\u7684\uff0c\u6ca1\u6709\u76f4\u63a5\u7528\u4efb\u4f55\u73b0\u6709\u7684\u5f15\u64ce\uff0c\u867d\u7136\u4e5f\u80fd\u591a\u5c11\u770b\u51fa\u4e00\u4e9b\u522b\u7684\u5f15\u64ce\u7684\u5f71\u5b50\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\u53ef\u4ee5\u7406\u89e3\uff0cOLAP \u7cfb\u7edf\u533a\u522b\u4e8e [OLTP](https://en.wikipedia.org/wiki/Online_transaction_processing) \uff08Online Transactional Processing\uff09\u7cfb\u7edf\u7684\u6700\u5927\u4e0d\u540c\u5373\u5728\u4e8e\u6570\u636e\u5b58\u50a8\u7684\u5f62\u5f0f\uff0c\u7b80\u5355\u7406\u89e3\u540e\u8005\u662f\u884c\u5f0f\uff08row-oriented\uff09\u5b58\u50a8\uff0c\u800c\u524d\u8005\u662f\u5217\u5f0f\uff08column-oriented\uff09\u5b58\u50a8\u3002\u8457\u540d\u7684 [Parquet](https://parquet.apache.org) \u5c31\u662f\u5e7f\u6cdb\u88ab\u7528\u4e8e OLAP \u573a\u666f\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\uff0cKudu \u5728\u5b9e\u73b0\u4e0a\u4e5f\u590d\u7528\u4e86\u5f88\u591a Parquet \u7684\u4ee3\u7801\u3002\\n\\n\u6bcf\u4e2a table \u5728\u5b58\u50a8\u7ea7\u522b\u4f1a\u88ab\u5206\u5272\u4e3a\u591a\u4e2a RowSets\uff0c\u987e\u540d\u601d\u4e49\u6bcf\u4e2a RowSets \u662f\u7531\u5f88\u591a\u884c\uff08row\uff09\u7ec4\u6210\uff0cRowSets \u4e4b\u95f4\u4e0d\u4f1a\u6709\u91cd\u590d\u7684\u6570\u636e\uff0c\u4f46\u4e3b\u952e\u7684\u8303\u56f4\u53ef\u80fd\u4f1a\u4ea4\u53c9\u3002\\n\\n\u5f53\u6709\u65b0\u7684\u6570\u636e\u65f6\u4f1a\u9996\u5148\u5b58\u50a8\u5230\u5185\u5b58\u4e2d\u7684 MemRowSets\uff0c\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a\u4f7f\u7528\u4e50\u89c2\u9501\uff08optimistic locking\uff09\u7684\u5e76\u53d1\uff08concurrent\uff09B \u6811\u3002\u6bd4\u8f83\u7279\u522b\u7684\u4e00\u70b9\u662f\u6570\u636e\u5e76\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u6309\u7167\u5217\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0cMemRowSets \u4e2d\u8fd8\u662f\u7528\u7684\u884c\u5f0f\u5b58\u50a8\u3002\u5f53\u6570\u636e\u7d2f\u79ef\u5230\u4e00\u5b9a\u7a0b\u5ea6 MemRowSets \u5c31\u4f1a\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\uff0c\u79f0\u4e4b\u4e3a DiskRowSets\uff0c\u6bcf\u4e2a DiskRowSet \u5927\u5c0f\u4e0a\u9650\u662f 32MB\u3002DiskRowSet \u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u57fa\u7840\u6570\u636e\uff08base data\uff09\u548c\u589e\u91cf\u6570\u636e\uff08delta stores\uff09\u3002\\n\\n\u57fa\u7840\u6570\u636e\u662f\u5217\u5f0f\u683c\u5f0f\uff0c\u5373\u6bcf\u4e00\u5217\u90fd\u5355\u72ec\u8fde\u7eed\u5b58\u50a8\uff0c\u6bcf\u4e00\u5217\u5185\u90e8\u53c8\u5212\u5206\u6210\u4e86\u591a\u4e2a\u5c0f\u7684\u9875\uff08page\uff09\uff0c\u6709\u4e00\u4e2a B \u6811\u6839\u636e\u884c\u53f7\u7d22\u5f15\u4e86\u8fd9\u4e9b\u9875\u3002\u6bcf\u4e00\u5217\u53ef\u4ee5\u7531\u7528\u6237\u6307\u5b9a\u4e0d\u540c\u7684\u7f16\u7801\uff08encoding\uff09\u65b9\u6cd5\uff08\u5982 dictionary encoding\u3001bitshuffle\u3001front coding\uff09\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u4f7f\u7528\u901a\u7528\u7684\u538b\u7f29\u7b97\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff08\u5982 LZ4\u3001gzip\u3001bzip2\uff09\uff0c\u57fa\u4e8e\u5217\u7684\u7f16\u7801\u53ca\u6570\u636e\u538b\u7f29\u662f\u5217\u5f0f\u5b58\u50a8\u975e\u5e38\u5927\u7684\u4e00\u4e2a\u7279\u70b9\u3002\\n\\n\u589e\u91cf\u6570\u636e\u4e5f\u5206\u4e3a\u5185\u5b58\u548c\u78c1\u76d8\u4e24\u79cd\u5f62\u5f0f\u3002\u5185\u5b58\u4e2d\u7684\u53eb\u505a DeltaMemStores\uff0c\u8fd9\u4e2a\u8ddf MemRowSets \u7684\u5b9e\u73b0\u4e00\u6837\u3002\u78c1\u76d8\u4e2d\u7684\u53eb\u505a DeltaFiles\uff0c\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7c7b\u578b\u7684\u5217\u5757\uff08column block\uff09\u3002\u4e0d\u7ba1\u662f\u5185\u5b58\u8fd8\u662f\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u90fd\u4f1a\u6709\u4e00\u4e2a\u989d\u5916\u7684\u4ece `(row_offset, timestamp)` \u5230 RowChangeList \u7684\u6620\u5c04\uff0c`row_offset` \u662f\u67d0\u4e00\u884c\u5728\u4e00\u4e2a RowSet \u4e2d\u7684\u504f\u79fb\uff0cRowChangList \u662f\u4e8c\u8fdb\u5236\u7f16\u7801\u4ee5\u540e\u7684\u589e\u91cf\u64cd\u4f5c\uff08\u5982\u66f4\u65b0\u67d0\u4e00\u5217\u3001\u5220\u9664\u67d0\u4e00\u884c\uff09\u5217\u8868\u3002\u540c\u6837\u7684\uff0cDeltaMemStores \u4e5f\u4f1a\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\u53d8\u6210 DeltaFiles\u3002\\n\\n\u8fd9\u4e9b\u589e\u91cf\u6570\u636e\u4f1a\u5b9a\u671f\u8ddf\u57fa\u7840\u6570\u636e\u8fdb\u884c\u5408\u5e76\uff08compation\uff09\uff0c\u4ee5\u9632\u6b62\u8fc7\u591a\u7684\u589e\u91cf\u6587\u4ef6\u3002\u540c\u65f6 DiskRowSets \u4e4b\u95f4\u4e5f\u4f1a\u8fdb\u884c\u5408\u5e76\uff0c\u76ee\u7684\u662f\u6e05\u7406\u5df2\u7ecf\u88ab\u5220\u9664\u7684\u884c\u4ee5\u53ca\u51cf\u5c11 DiskRowSets \u4e4b\u95f4\u7684\u4e3b\u952e\u4ea4\u53c9\u8303\u56f4\u3002\\n\\n\u524d\u9762\u63d0\u5230\u7684\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u6301\u4e45\u5316\u5230\u78c1\u76d8\u53ca\u5bf9\u6570\u636e\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c\uff0c\u90fd\u662f\u7531\u4e00\u7ec4\u5355\u72ec\u7684\u540e\u53f0\u4efb\u52a1\u6765\u5b8c\u6210\uff0c\u4f46\u662f\u4ec0\u4e48\u65f6\u5019\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c\u662f\u7531\u4e00\u4e2a\u8c03\u5ea6\u5668\u6765\u63a7\u5236\u7684\u3002\u6709\u8da3\u7684\u662f Kudu \u5c06\u8c03\u5ea6\u5668\u7684\u903b\u8f91\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a[\u80cc\u5305\u95ee\u9898](https://en.wikipedia.org/wiki/Knapsack_problem)\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u6743\u8861\u7684\u4e0d\u662f\u80cc\u5305\u5bb9\u91cf\uff0c\u800c\u662f I/O \u5e26\u5bbd\u3002\\n\\nKudu \u672c\u8eab\u53ea\u63d0\u4f9b\u7f16\u7a0b\u8bed\u8a00\u7ea7\u522b\u7684 API\uff08\u5982 Java\u3001C++\uff09\uff0c\u800c OLAP \u7cfb\u7edf\u4e2d\u5e38\u7528\u7684 SQL \u9700\u8981\u914d\u5408\u5176\u5b83\u9879\u76ee\u6765\u5b9e\u73b0\u3002Kudu \u539f\u751f\u5df2\u7ecf\u8ddf Spark \u548c Impala \u96c6\u6210\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u5728\u8fd9\u4e24\u4e2a\u7cfb\u7edf\u4e2d\u901a\u8fc7 SQL \u6765\u67e5\u8be2\u3002\\n\\n\u6700\u540e\u662f\u6027\u80fd\u8bc4\u6d4b\u3002\u5728 [TPC-H](http://www.tpc.org/tpch) \u6570\u636e\u96c6\u4e0a\u4e0e Parquet \u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\uff0cKudu \u5e73\u5747\u6709 31% \u7684\u6027\u80fd\u63d0\u5347\uff0c\u5c3d\u7ba1\u5982\u6b64 Kudu \u56e2\u961f\u8ba4\u4e3a\u968f\u7740 Parquet \u7684\u8fed\u4ee3\u8fd9\u4e2a\u5dee\u8ddd\u53ef\u80fd\u4f1a\u9010\u6e10\u7f29\u5c0f\u3002\u5728\u4e0e [Phoenix](http://phoenix.apache.org) \u7684\u5bf9\u6bd4\u6d4b\u8bd5\u4e2d\u4e5f\u6709 16~187 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\u6700\u540e\u4e0e HBase \u8fdb\u884c\u7684 [YCSB](https://github.com/brianfrankcooper/YCSB) \u6d4b\u8bd5\u662f\u4e3a\u4e86\u770b\u770b Kudu \u5728 OLTP \u573a\u666f\u7684\u6027\u80fd\uff0c\u867d\u7136\u5b83\u672c\u8eab\u5e76\u4e0d\u662f\u4e3a OLTP \u573a\u666f\u800c\u8bbe\u8ba1\uff0c\u7ed3\u679c\u4e0a\u7684\u786e\u4e5f\u662f HBase \u8868\u73b0\u66f4\u597d\uff0c\u4f46 Kudu P99 6 \u6beb\u79d2\u7684\u54cd\u5e94\u65f6\u95f4\u5728\u67d0\u4e9b\u65f6\u5019\u4e5f\u8bb8\u53ef\u4ee5\u4ee3\u66ff OLTP \u7cfb\u7edf\u3002\\n\\nKudu \u7531 Cloudera \u516c\u53f8\u5f00\u53d1\u5e76\u4e8e 2016 \u5e74\u6b63\u5f0f\u53d1\u5e03\uff0c\u73b0\u5df2\u6350\u732e\u7ed9 Apache \u57fa\u91d1\u4f1a\uff0c\u6574\u4e2a\u7cfb\u7edf\u4f7f\u7528 C++ \u8bed\u8a00\u7f16\u5199\u3002\\n\\n\u987a\u5e26\u8bf4\u4e2a\u9898\u5916\u8bdd\u8fd9\u4e24\u5e74\u7092\u5f97\u6bd4\u8f83\u706b\u7684 [HTAP](https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing)\uff08Hybrid Transactional/Analytical Processing\uff09\uff0c\u672c\u8d28\u4e0a\u662f\u5e0c\u671b\u5728\u4e00\u4e2a\u5f15\u64ce\u4e2d\u540c\u65f6\u9002\u914d OLTP \u548c OLAP \u8fd9\u4e24\u4e2a\u573a\u666f\u3002\u4f46\u5728\u6211\u770b\u6765\u5c31\u76ee\u524d\u7684\u6280\u672f\u73b0\u72b6\u8fd9\u4e2a\u613f\u666f\u5b9e\u73b0\u8d77\u6765\u8fd8\u662f\u6bd4\u8f83\u56f0\u96be\uff0c\u8f6f\u4ef6\u5de5\u7a0b\u754c\u7684\u540d\u8a00[\u300c\u6ca1\u6709\u94f6\u5f39\u300d](https://en.wikipedia.org/wiki/No_Silver_Bullet)\u544a\u8bc9\u6211\u4eec\u4e0d\u5b58\u5728\u4e00\u4e2a\u53ef\u4ee5\u901a\u5403\u7684\u3001\u5b8c\u7f8e\u7684\u65b9\u6848\uff0c\u56e0\u6b64 HTAP \u76ee\u524d\u66f4\u591a\u8fd8\u53ea\u662f\u4e00\u4e2a\u8425\u9500\u6982\u5ff5\u5427\u3002\\n\\n## \u5b57\u8282\u8df3\u52a8\u81ea\u7814\u5f3a\u4e00\u81f4\u5728\u7ebf KV & \u8868\u683c\u5b58\u50a8\u5b9e\u8df5\\n\\n[[\u4e0a\u7bc7]](https://mp.weixin.qq.com/s/jdPE9WClBuimIHVxJnwwUw) [[\u4e0b\u7bc7]](https://mp.weixin.qq.com/s/DvUBnWBqb0XGnicKUb-iqg)\\n\\n[\u53c8](https://github.com/cockroachdb/cockroach)[\u53c8](https://github.com/pingcap/tidb)[\u53c8](https://github.com/dgraph-io/dgraph)[\u53c8](https://kudu.apache.org)[\u53c8](https://github.com/vesoft-inc/nebula)\u4e00\u4e2a\u53d7 Spanner \u542f\u53d1\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\uff08Google \u529f\u5fb7\u65e0\u91cf\uff01Jeff Dean \u4e07\u5bff\u65e0\u7586\uff01\uff09\uff0c\u8fd9\u6b21\u7684\u9879\u76ee\u6765\u81ea\u5b57\u8282\u8df3\u52a8\u3002\u5173\u952e\u8bcd\uff1arange \u5206\u5272\u3001Raft\u3001RocksDB\u3001MVCC\u3001\u5206\u5e03\u5f0f\u4e8b\u52a1\u3001SQL \u5c42\uff0c\u770b\u770b\u8fd9\u4e9b\u4e5f\u57fa\u672c\u80fd\u5bf9\u6574\u4f53\u8bbe\u8ba1\u731c\u4e2a\u516b\u4e5d\u4e0d\u79bb\u5341\u4e86\uff0c\u6bd4\u8f83\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u662f\u5b66\u4e60\u5b66\u4e60\u5b57\u8282\u8df3\u52a8\u5728\u4ed6\u4eec\u7684\u5b9e\u8df5\u4e2d\u7684\u4e00\u4e9b\u7ecf\u9a8c\u3002\u9879\u76ee\u4f7f\u7528 C++ \u8bed\u8a00\u7f16\u5199\uff0c\u76ee\u524d\u6ca1\u6709\u5f00\u6e90\u3002\\n\\n## Challenges Supporting MIG in Kubernetes\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/1Dxx5MwG_GiBeKOuMNwv4QbO8OqA7XFdzn7fzzI7AQDg)\\n\\n\u968f\u7740\u6df1\u5ea6\u5b66\u4e60\u7684\u84ec\u52c3\u53d1\u5c55\uff0cGPU \u5171\u4eab\u9010\u6e10\u6210\u4e3a\u4e86 K8s \u793e\u533a\u7684\u4e00\u4e2a[\u70ed\u95e8\u8bdd\u9898](https://github.com/kubernetes/kubernetes/issues/52757)\u3002\u76ee\u524d NVIDIA \u5b98\u65b9\u63d0\u4f9b\u7684[\u8bbe\u5907\u63d2\u4ef6](https://github.com/NVIDIA/k8s-device-plugin)\u53ef\u4ee5\u7533\u8bf7\u7684\u6700\u5c0f\u8d44\u6e90\u7c92\u5ea6\u8fd8\u662f 1 \u4e2a GPU\uff0c\u4f46\u5f88\u591a\u65f6\u5019\u8d44\u6e90\u662f\u6d6a\u8d39\u7684\u3002\u4e3a\u4e86\u63d0\u5347 GPU \u7684\u8d44\u6e90\u5229\u7528\u7387\uff0c\u793e\u533a\u5df2\u7ecf\u51fa\u73b0\u4e86\u591a\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4f8b\u5982\u5206\u522b\u6765\u81ea[\u963f\u91cc\u4e91](https://github.com/AliyunContainerService/gpushare-scheduler-extender)\u3001[\u817e\u8baf\u4e91](https://github.com/tkestack/gpu-manager)\u4ee5\u53ca [AWS](https://github.com/awslabs/aws-virtual-gpu-device-plugin) \u7684\u5b9e\u73b0\u3002\u73b0\u5728 NVIDIA \u5b98\u65b9\u7ec8\u4e8e\u5728\u65b0\u4e00\u4ee3\u7684 Ampere \u67b6\u6784\u786c\u4ef6\u4e0a\u539f\u751f\u652f\u6301\u4e86\u5171\u4eab\uff0c\u4e5f\u5c31\u662f\u6807\u9898\u4e2d\u7684 MIG\uff08Multi-Instance GPUs\uff09\u3002\u8fd9\u7bc7\u6587\u6863\u6765\u81ea NVIDIA \u56e2\u961f\uff0c\u9996\u5148\u4ecb\u7ecd\u4e86\u5f53\u524d\u662f\u5982\u4f55\u5728 K8s \u4e2d\u7ba1\u7406 GPU \u8d44\u6e90\u7684\uff0c\u7136\u540e\u4ecb\u7ecd\u4e86 MIG \u7684\u4e00\u4e9b\u6982\u5ff5\uff0c\u6700\u540e\u63d0\u8bae\u4e86 4 \u4e2a\u652f\u6301 MIG \u7684\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u3002\u6574\u4f53\u611f\u89c9 GPU \u5171\u4eab\u8fd8\u662f\u6ca1\u6709 CPU \u7075\u6d3b\uff0c\u4e0d\u5c11\u5730\u65b9\u8bbe\u7f6e\u4e86\u9650\u5236\uff0c\u4f46\u6bd5\u7adf\u8fd9\u662f NVIDIA \u5b98\u65b9\u8fc8\u51fa\u7684\u7b2c\u4e00\u6b65\u3002\\n\\n## How to read deep learning papers?\\n\\n[[\u94fe\u63a5]](https://www.reddit.com/r/MachineLearning/comments/gi3ihe/d_how_to_read_deep_learning_papers)\\n\\nReddit \u4e0a\u4e00\u4e2a\u6709\u8da3\u7684\u8ba8\u8bba\uff1a\u5982\u4f55\u9605\u8bfb\u6df1\u5ea6\u5b66\u4e60\u7684\u8bba\u6587\uff1f\u6211\u4eec\u5e38\u5e38\u8c03\u4f83\u673a\u5668\u5b66\u4e60\u5c31\u662f\u5728\u300c\u70bc\u4e39\u300d\uff0c\u6ca1\u6709\u4eba\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u7ed3\u679c\u5c31\u662f\u6709\u6548\u7684\uff0c\u53cd\u6b63[\u300cit just works\u300d](https://www.youtube.com/watch?v=YPN0qhSyWy8)\u3002\u6700\u9ad8\u7968\u7684\u8bc4\u8bba\u8bf4\u4f60\u4e0d\u9700\u8981\u63a5\u53d7\u8bba\u6587\u4e2d\u7684\u6bcf\u4e00\u4e2a\u89c2\u70b9\uff0c\u53ea\u8981\u628a\u6ce8\u610f\u529b\u96c6\u4e2d\u5728\u4f5c\u8005\u63d0\u4f9b\u7684\u8bc1\u636e\u5e76\u6709\u9009\u62e9\u6027\u5730\u8c03\u6574\u4f60\u7684\u60f3\u6cd5\u5c31\u597d\u4e86\u3002\u6b63\u597d\u524d\u6bb5\u65f6\u95f4\u524d\u5fae\u8f6f\u6267\u884c\u526f\u603b\u88c1\u6c88\u5411\u6d0b\u535a\u58eb\u505a\u4e86\u4e00\u4e2a\u4e3b\u9898\u540d\u4e3a[\u300cYou are how you read\u300d](https://www.bilibili.com/video/BV1df4y1m74k)\u7684\u6f14\u8bb2\uff0c\u4e3b\u8981\u5185\u5bb9\u5c31\u662f\u4e00\u4e9b\u9605\u8bfb\u8bba\u6587\u7684\u7ecf\u9a8c\uff08\u6709\u8da3\u7684\u662f\u6c88\u535a\u58eb\u5728\u51e0\u5e74\u524d\u8fd8\u5199\u8fc7\u4e00\u7bc7\u53eb\u505a[\u300cYou are what you write\u300d](https://www.linkedin.com/pulse/you-what-write-harry-shum)\u7684\u535a\u5ba2\uff09\u3002\\n\\n## Farewell, TensorFlow\\n\\n[[\u94fe\u63a5]](https://mrry.github.io/2020/05/10/farewell-tensorflow.html)\\n\\nTensorFlow \u6838\u5fc3\u5f00\u53d1\u8005\u3001Google Brain \u56e2\u961f\u7684 Derek Murray \u5ba3\u5e03\u79bb\u5f00\uff0c\u8fd9\u4f4d\u5927\u54e5\u5728 GitHub \u548c Stack Overflow \u4e0a\u90fd\u5f88\u6d3b\u8dc3\uff0c\u5982\u679c\u4f60\u7ecf\u5e38\u6d4f\u89c8\u793e\u533a\u5e94\u8be5\u5bf9\u4ed6\u7684\u5934\u50cf\u4e0d\u964c\u751f\u3002\u5728\u8fd9\u7bc7\u544a\u522b\u6587\u4e2d Murray \u63d0\u5230\u4e86\u5f88\u591a Google \u5185\u90e8\u5e2e\u52a9\u5de5\u7a0b\u5e08\u89e3\u51b3\u95ee\u9898\u7684\u5de5\u5177\uff0c\u5e76\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u8fd1\u671f\u5bf9 TensorFlow \u5e95\u5c42\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u4e00\u9879\u6027\u80fd\u4f18\u5316\u7684\u8fc7\u7a0b\uff0c\u5728\u90e8\u5206\u8bc4\u6d4b\u4e2d\u53ef\u4ee5\u63d0\u5347 10% \u7684\u63a8\u7406\u6027\u80fd\u3002\u8fd9\u4e2a\u4f18\u5316\u76ee\u524d\u5df2\u7ecf\u5408\u5165 master\uff0c\u5e76\u5c06\u5728 TensorFlow 2.3 \u53d1\u5e03\u3002"},{"id":"/2","metadata":{"permalink":"/issues/2","source":"@site/blog/2.md","title":"Issue #2","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aRaft\u3001Generics\u3001OAM\u3001K8s Scheduling","date":"2020-06-02T09:25:45.000Z","formattedDate":"June 2, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":10.94,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #2","date":"2020-06-02 09:25:45 +0800","tags":["issue"]},"prevItem":{"title":"Issue #3","permalink":"/issues/3"},"nextItem":{"title":"Issue #1","permalink":"/issues/1"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aRaft\u3001Generics\u3001OAM\u3001K8s Scheduling\\n\\n\x3c!--truncate--\x3e\\n\\n## In Search of an Understandable Consensus Algorithm (Extended Version)\\n\\n[[\u94fe\u63a5]](https://raft.github.io/raft.pdf)\\n\\n\u7ec8\u4e8e\u6709\u673a\u4f1a\u4ed4\u7ec6\u9605\u8bfb\u4e00\u904d Raft \u7684\u8bba\u6587\uff0c\u5982\u679c\u4f60\u8fd8\u4e0d\u4e86\u89e3 Raft \u662f\u4ec0\u4e48\u53ef\u4ee5\u770b\u770b\u6211\u8fc7\u53bb\u7684\u4e00\u7bc7\u4ecb\u7ecd\u5206\u5e03\u5f0f\u7cfb\u7edf\u57fa\u7840\u6982\u5ff5\u7684[\u6587\u7ae0](https://xiaogaozi.org/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\u3002\\n\\nRaft \u4e3a\u8282\u70b9\u5b9a\u4e49\u4e86\u4e09\u79cd\u72b6\u6001\uff1aleader\u3001follower \u548c candidate\uff08\u4ee5\u53ca\u4e00\u4e2a\u975e\u6b63\u5f0f\u72b6\u6001 learner \u6216\u8005\u53eb\u505a non-voting member\uff09\u3002\u4e00\u4e2a\u96c6\u7fa4\u53ea\u4f1a\u6709 1 \u4e2a leader\uff0c\u5176\u4f59\u8282\u70b9\u90fd\u662f follower\u3002Leader \u8d1f\u8d23\u5904\u7406\u6240\u6709\u7684\u8bfb\u5199\u8bf7\u6c42\uff0c\u5982\u679c\u8bf7\u6c42 follower \u4f1a\u5931\u8d25\u5e76\u544a\u77e5\u5ba2\u6237\u7aef leader \u7684\u5730\u5740\u3002\\n\\n\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u81ea\u5df1\u7684 log\uff0clog \u4e2d\u6bcf\u4e2a\u6761\u76ee\u90fd\u6709\u4e00\u4e2a\u4e0b\u6807\uff08index\uff09\u3002\u8fd9\u4e2a log \u57fa\u672c\u7b97\u662f append-only \u7684\uff0c\u901a\u5e38\u4e5f\u9700\u8981\u6301\u4e45\u5316\u5230\u53ef\u9760\u7684\u5b58\u50a8\u4e0a\uff08\u4f8b\u5982\u78c1\u76d8\uff09\u3002\u5f53\u5904\u7406\u5199\u8bf7\u6c42\u65f6 leader \u4f1a\u9996\u5148\u66f4\u65b0\u81ea\u5df1\u7684 log\uff0c\u7136\u540e\u901a\u8fc7 RPC \u590d\u5236\u5230\u5176\u5b83\u8282\u70b9\uff0c\u53ea\u8981\u5927\u591a\u6570\uff08majority\uff09\u8282\u70b9\u66f4\u65b0\u6210\u529f leader \u5c31\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u8bf7\u6c42\u5df2\u7ecf committed\uff0c\u6b64\u65f6\u4f1a\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\u673a\uff08state machine\uff09\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u5982\u679c RPC \u8bf7\u6c42\u5931\u8d25 leader \u4f1a\u4e0d\u65ad\u91cd\u8bd5\u76f4\u5230\u6210\u529f\u3002\\n\\n\u5982\u679c\u51fa\u73b0\u5f02\u5e38\uff0c\u5982 leader \u5b95\u673a\u3001\u7f51\u7edc\u6545\u969c\u7b49\uff0c\u5c31\u53ef\u80fd\u89e6\u53d1 leader \u91cd\u65b0\u9009\u4e3e\u3002\u9009\u4e3e\u8fc7\u7a0b\u662f\u6240\u6709 follower \u4e3a candidate \u6295\u7968\uff0c\u53ea\u8981\u83b7\u5f97\u591a\u6570\u7968 candidate \u5c31\u4f1a\u5347\u7ea7\u4e3a leader\u3002\u5982\u679c\u6295\u7968\u5931\u8d25\u4f1a\u7ee7\u7eed\u65b0\u4e00\u8f6e\u9009\u4e3e\uff0c\u9009\u4e3e\u8fc7\u7a0b\u901a\u5e38\u662f\u6beb\u79d2\u7ea7\u7684\u3002\u6bcf\u4e00\u8f6e\u65b0\u7684\u9009\u4e3e\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u5bf9\u5e94\u7684 term\uff08\u4efb\u671f\uff09\uff0cRaft \u5728\u534f\u8bae\u4e0a\u4fdd\u8bc1\u4e86\u91cd\u65b0\u9009\u4e3e\u540e\u7684\u65b0 leader \u4e00\u5b9a\u662f\u5305\u542b\u4e4b\u524d\u6240\u6709 term \u5df2\u7ecf committed \u7684 log\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u65b0 leader \u9009\u4e3e\u6210\u529f\u4ee5\u540e\u9700\u8981\u9996\u5148\u8865\u4e0a\u7f3a\u5931\u7684\u6570\u636e\u3002\\n\\n\u5f53\u96c6\u7fa4\u9700\u8981\u4f38\u7f29\u65f6\uff0cleader \u4f1a\u9996\u5148\u5c06\u65e7\u96c6\u7fa4\u914d\u7f6e\uff08configuration\uff09\u548c\u65b0\u96c6\u7fa4\u914d\u7f6e\u5408\u5e76\u5230\u4e00\u8d77\u5e76\u901a\u8fc7 log \u7684\u5f62\u5f0f\u590d\u5236\u5230 follower\u3002\u6210\u529f\u6536\u5230\u8fd9\u4e2a\u5408\u5e76\u540e\u914d\u7f6e\u7684\u8282\u70b9\u4f1a\u7528\u8fd9\u4e2a\u914d\u7f6e\u66ff\u4ee3\u8001\u7684\u914d\u7f6e\u3002\u4e00\u65e6\u8fd9\u4e2a\u5408\u5e76\u540e\u7684\u914d\u7f6e committed\uff0cleader \u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u53ea\u5305\u542b\u65b0\u914d\u7f6e\u7684 log \u7ee7\u7eed\u590d\u5236\u5230 follower\u3002\u7b49\u5230\u65b0\u7684\u914d\u7f6e committed\uff0c\u65e7\u914d\u7f6e\u5c06\u4e0d\u518d\u751f\u6548\uff0c\u9700\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\u4e5f\u53ef\u4ee5\u88ab\u5b89\u5168\u5173\u95ed\u3002\\n\\n\u968f\u7740\u65f6\u95f4\u589e\u957f\uff0clog \u7684\u5bb9\u91cf\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0cRaft \u5f15\u5165\u4e86\u5feb\u7167\uff08snapshot\uff09\u673a\u5236\uff0c\u5b9a\u671f\u5c06 log \u538b\u7f29\u5230\u5feb\u7167\u6587\u4ef6\u3002\u8fd9\u4e2a\u5feb\u7167\u6587\u4ef6\u540c\u65f6\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u65b0\u52a0\u5165\u7684\u8282\u70b9\u5feb\u901f\u8865\u4e0a\u7f3a\u5931\u7684\u6570\u636e\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b Raft \u7b97\u6cd5\u4fdd\u8bc1\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u5c5e\u6027\u59cb\u7ec8\u6210\u7acb\uff1a\\n\\n- **Election Safety**\uff1a\u5728\u4e00\u4e2a\u7279\u5b9a\u7684\u4efb\u671f\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a leader \u88ab\u9009\u4e3e\u51fa\u6765\\n- **Leader Append-Only**\uff1aleader \u6c38\u8fdc\u4e0d\u4f1a\u8986\u76d6\u6216\u8005\u5220\u9664 log \u4e2d\u7684\u6761\u76ee\uff0c\u53ea\u4f1a\u8ffd\u52a0\u65b0\u7684\u6761\u76ee\u3002\\n- **Log Matching**\uff1a\u5982\u679c\u4e24\u4efd log \u540c\u65f6\u5305\u542b\u4e00\u4e2a\u5177\u6709\u76f8\u540c\u4efb\u671f\u6570\u548c\u4e0b\u6807\u7684\u6761\u76ee\uff0c\u90a3\u4e48\u8fd9\u4e24\u4efd log \u4e2d\u8fd9\u4e2a\u4e0b\u6807\u4e4b\u524d\u7684\u6240\u6709\u6761\u76ee\u90fd\u5e94\u8be5\u662f\u4e00\u81f4\u7684\u3002\\n- **Leader Completeness**\uff1a\u5982\u679c\u67d0\u4e2a\u4efb\u671f\u4e2d\u7684\u4e00\u4e2a log \u6761\u76ee\u5df2\u7ecf committed\uff0c\u90a3\u4e48\u5728\u4e4b\u540e\u4efb\u671f\u4e2d\u9009\u4e3e\u51fa\u7684\u65b0 leader \u4e00\u5b9a\u5305\u542b\u8fd9\u4e2a\u6761\u76ee\u3002\\n- **State Machine Safety**\uff1a\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u5df2\u7ecf\u5c06\u4e00\u4e2a\u7ed9\u5b9a\u4e0b\u6807\u7684 log \u6761\u76ee\u66f4\u65b0\u5230\u81ea\u5df1\u7684\u72b6\u6001\u673a\uff0c\u90a3\u4e48\u5176\u5b83\u8282\u70b9\u4e0a\u540c\u6837\u7684\u4e0b\u6807\u4e00\u5b9a\u4e0d\u4f1a\u662f\u4e0d\u540c\u7684\u6761\u76ee\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u4f1a\u66f4\u65b0\u4e00\u4e2a\u4e0d\u540c\u7684\u6761\u76ee\u5230\u81ea\u5df1\u7684\u72b6\u6001\u673a\u3002\\n\\n\u66f4\u591a\u6709\u5173 Raft \u7684\u4fe1\u606f\u53ef\u4ee5\u67e5\u770b\u5b83\u7684[\u5b98\u7f51](https://raft.github.io)\uff0c\u5f3a\u70c8\u5efa\u8bae\u521d\u6b21\u63a5\u89e6\u4e00\u81f4\u6027\u534f\u8bae\u7684\u670b\u53cb\u770b\u770b\u7f51\u7ad9\u4e0a\u7684\u52a8\u753b\u6f14\u793a\uff0c\u975e\u5e38\u6709\u52a9\u4e8e\u5efa\u7acb\u4e00\u4e2a\u5f62\u8c61\u76f4\u89c2\u7684\u8ba4\u77e5\u3002\\n\\n## Scaling Raft\\n\\n[[\u94fe\u63a5]](https://www.cockroachlabs.com/blog/scaling-raft)\\n\\n\u4f5c\u4e3a\u524d\u9762\u4ecb\u7ecd Raft \u7684\u4e00\u7bc7\u884d\u751f\u9605\u8bfb\uff0c\u539f\u59cb\u7684 Raft \u5b9e\u73b0\u662f\u5c06\u6240\u6709\u8282\u70b9\u770b\u4f5c\u4e00\u4e2a group\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u5728\u67d0\u4e9b\u573a\u666f\uff08\u4f8b\u5982\u96c6\u7fa4\u89c4\u6a21\u5f88\u5c0f\uff09\u662f\u53ef\u884c\u7684\u3002\u4f46\u662f\u5f53\u96c6\u7fa4\u89c4\u6a21\u5927\u5230\u4e00\u5b9a\u7a0b\u5ea6\uff0c\u6216\u8005\u7c7b\u4f3c [CockroachDB](https://github.com/cockroachdb/cockroach) \u548c [TiKV](https://github.com/tikv/tikv) \u8fd9\u79cd\u5c06\u6570\u636e\u5212\u5206\u4e3a\u975e\u5e38\u591a\u7684 range\uff0c\u591a\u4e2a range \u7ec4\u6210\u4e00\u4e2a Raft group \u7684\u573a\u666f\uff08\u901a\u5e38\u53eb\u505a Multi-Raft\uff09\uff0c\u5c31\u4f1a\u53d1\u73b0 Raft \u7684\u57fa\u7840\u7f51\u7edc\u901a\u4fe1\u5df2\u7ecf\u8db3\u4ee5\u5f71\u54cd\u5355\u8282\u70b9\u7684\u6027\u80fd\uff08\u6bd4\u5982\u8fc7\u591a\u7684\u5fc3\u8df3\u8bf7\u6c42\uff09\u3002\u56e0\u6b64\u793e\u533a\u5df2\u7ecf\u9488\u5bf9\u8fd9\u6837\u7684\u95ee\u9898\u6709\u4e86\u4e00\u4e9b\u4f18\u5316\u65b9\u6848\uff0c\u6bd4\u5982 [CockroachDB \u7684\u65b9\u6848](https://github.com/cockroachdb/cockroach/issues/357)\u548c [TiKV \u7684\u65b9\u6848](https://github.com/tikv/tikv/pull/4591)\u3002\u8fd9\u4e24\u4e2a\u65b9\u6848\u90fd\u5f88\u7c7b\u4f3c\uff0c\u57fa\u672c\u601d\u60f3\u662f\u6682\u505c\u90a3\u4e9b\u4e0d\u6d3b\u8dc3\u7684 Raft group \u7684\u7f51\u7edc\u901a\u4fe1\uff0c\u7b49\u5230\u9700\u8981\u7684\u65f6\u5019\u518d\u5524\u9192\u3002\\n\\n## Why Generics?\\n\\n[[\u94fe\u63a5]](https://blog.golang.org/why-generics)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u662f Ian Lance Taylor \u5728 GopherCon 2019 \u6f14\u8bb2\u7684\u6587\u5b57\u7248\uff08\u6587\u7ae0\u4e2d\u4e5f\u9644\u5e26\u4e86\u89c6\u9891\uff09\uff0c\u4e3b\u8981\u4ecb\u7ecd\u4e86\u76ee\u524d Go \u7684\u6838\u5fc3\u5f00\u53d1\u8005\u5173\u4e8e\u6cdb\u578b\uff08generics\uff09\u7684\u4e00\u4e9b\u601d\u8003\u3002\u603b\u7684\u6765\u8bf4 Go \u6838\u5fc3\u56e2\u961f\u7684\u8bbe\u8ba1\u601d\u60f3\u8fd8\u662f\u4fdd\u6301 Go \u8bed\u8a00\u4e00\u8d2f\u7684\u7b80\u6d01\uff0c\u4e0d\u5e0c\u671b\u5f15\u5165\u8fc7\u591a\u7684\u6982\u5ff5\u548c\u590d\u6742\u6027\u3002\u5927\u90e8\u5206\u65b0\u589e\u7684\u8bed\u6cd5\u7279\u6027\u90fd\u7531\u63d0\u4f9b\u6cdb\u578b\u63a5\u53e3\u7684\u5f00\u53d1\u8005\u6765\u5b66\u4e60\uff0c\u5bf9\u4e8e\u4f7f\u7528\u8005\u6765\u8bf4\u548c\u8c03\u7528\u666e\u901a\u63a5\u53e3\u51e0\u4e4e\u6ca1\u6709\u533a\u522b\u3002\u65e9\u5728 2016 \u5e74\u793e\u533a\u5c31\u5df2\u7ecf\u6709\u4e86 [#15292](https://github.com/golang/go/issues/15292) \u8fd9\u4e2a\u5173\u4e8e\u6cdb\u578b\u7684\u8ba8\u8bba\uff0c\u5e76\u4e14\u8fd8\u5728\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u76ee\u524d\u5df2\u7ecf\u6709\u4e86 710 \u6761\u8bc4\u8bba\uff0cIan Lance Taylor \u4e5f\u5728\u5176\u4e2d\u79ef\u6781\u56de\u590d\u3002\u867d\u7136\u8fd9\u4e2a issue \u6253\u4e0a\u4e86 Go2 \u7684\u6807\u7b7e\uff0c\u4f46\u6cdb\u578b\u7279\u6027\u662f\u5426\u80fd\u5728 Go \u8bed\u8a00\u7684 2.0 \u7248\u672c\u4e2d\u51fa\u73b0\u73b0\u5728\u8fd8\u662f\u4e2a\u672a\u77e5\u6570\u3002\\n\\n## The Open Application Model from Alibaba\u2019s Perspective\\n\\n[[\u94fe\u63a5]](https://www.infoq.com/articles/oam-alibaba)\\n\\n\u963f\u91cc\u4e91\u548c\u5fae\u8f6f\u5728\u53bb\u5e74[\u5171\u540c\u5ba3\u5e03](https://cloudblogs.microsoft.com/opensource/2019/10/16/announcing-open-application-model)\u4e86 Open Application Model\uff08OAM\uff09\uff0cOAM \u7ec4\u7ec7\u7684[\u6838\u5fc3\u6210\u5458](https://github.com/orgs/oam-dev/people)\u540c\u65f6\u4e5f\u662f\u524d CoreOS \u56e2\u961f\u6210\u5458\u4ee5\u53ca etcd\u3001K8s Operator \u7684\u521b\u9020\u8005\u3002\u7b80\u5355\u7406\u89e3 OAM \u5c31\u662f\u5e0c\u671b\u5c06\u4f20\u7edf\u7684 K8s YAML \u914d\u7f6e\u62bd\u8c61\u6210\u4e24\u90e8\u5206\uff1a\u5f00\u53d1\u8005\u548c\u8fd0\u7ef4\uff0c\u5f00\u53d1\u8005\u7684\u914d\u7f6e\u4e2d\u53ea\u5305\u542b\u4e0e\u4e1a\u52a1\u6700\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u800c\u8fd0\u7ef4\u7684\u914d\u7f6e\u4e2d\u5219\u5305\u542b\u4e0e\u8fd0\u884c\u73af\u5883\u76f8\u5173\u7684\u5185\u5bb9\u3002\u672c\u8d28\u4e0a\u662f\u5e0c\u671b\u5c06\u5f00\u53d1\u8005\u548c\u8fd0\u7ef4\u7684\u754c\u7ebf\u5206\u5f97\u66f4\u6e05\u695a\uff0c\u8ba9\u4e0d\u540c\u7684\u89d2\u8272\u66f4\u4e13\u6ce8\u4e8e\u81ea\u5df1\u7684\u9886\u57df\u3002\u5728\u6211\u770b\u6765 OAM \u7684\u597d\u5904\u5f53\u7136\u662f\u964d\u4f4e\u4e86\u666e\u901a\u5f00\u53d1\u8005\u63a5\u5165 K8s \u7684\u95e8\u69db\uff0c\u6240\u8c13\u5927\u9053\u81f3\u7b80\uff0c\u4f46\u8fd9\u79cd\u8868\u9762\u4e0a\u7684\u300c\u7b80\u300d\u80cc\u540e\u9690\u85cf\u7684\u590d\u6742\u6027\u4e5f\u662f\u4e0d\u80fd\u5ffd\u7565\u7684\u3002\u7406\u60f3\u60c5\u51b5\u662f\u67d0\u4e2a\u4e91\u670d\u52a1\u5546\u80fd\u591f\u5b8c\u5168\u5305\u529e\u6240\u6709\u8ddf\u8fd0\u7ef4\u6709\u5173\u7684\u4e8b\u60c5\uff0c\u7528\u6237\u53ea\u9700\u8981\u8d1f\u8d23\u4e1a\u52a1\u5f00\u53d1\u5c31\u597d\u4e86\u3002\u4f46\u73b0\u72b6\u8fd8\u662f\u4e0d\u7ba1\u591a\u5c0f\u7684\u516c\u53f8\u90fd\u80af\u5b9a\u4f1a\u6709\u4e13\u4eba\u5728\u8d1f\u8d23\u8fd0\u7ef4\u5de5\u4f5c\u3002\u5f88\u591a\u5e74\u524d Google App Engine \u521a\u8bde\u751f\u65f6\u8ba9\u6240\u6709\u4eba\u90fd\u773c\u524d\u4e00\u4eae\uff0c\u90fd\u8ba4\u4e3a\u8fd9\u624d\u662f\u8f6f\u4ef6\u5f00\u53d1\u7684\u672a\u6765\u554a\uff0c\u4f46\u5373\u4f7f\u662f Google \u4e5f\u6ca1\u80fd\u8ba9\u8fd9\u4e2a\u8d8b\u52bf\u6301\u7eed\u4e0b\u53bb\u3002\u6700\u8fd1\u51e0\u5e74\u8fd9\u4e2a\u8d8b\u52bf\u53c8\u5f00\u59cb\u56de\u6f6e\uff0c\u53ea\u4e0d\u8fc7\u6362\u4e86\u4e00\u4e2a\u540d\u5b57\u53eb\u505a\u300cServerless\u300d\uff0c\u5e0c\u671b\u8fd9\u4e00\u6b21\u80fd\u591f\u6301\u7eed\u4e0b\u53bb\uff0c\u867d\u7136\u8fd8\u6709\u5f88\u957f\u7684\u8def\u8981\u8d70\u3002\\n\\n## Lightweight coscheduling based on back-to-back queue sorting\\n\\n[[\u94fe\u63a5]](https://github.com/kubernetes-sigs/scheduler-plugins/blob/master/kep/20200116-lightweight-coscheduling-based-on-back-to-back-queue-sorting.md)\\n\\n\u81ea\u4ece K8s 1.15 \u65b0\u589e\u4e86 [Scheduling Framework](https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework) \u4ee5\u540e\uff0c\u539f\u751f\u8c03\u5ea6\u5668\u7684\u6269\u5c55\u6027\u6709\u4e86\u5f88\u5927\u7a0b\u5ea6\u7684\u589e\u5f3a\u3002\u8fd9\u4e2a KEP \u6765\u81ea\u963f\u91cc\u4e91\u56e2\u961f\uff0c\u63d0\u51fa\u4e86\u57fa\u4e8e Scheduling Framework \u6765\u5b9e\u73b0 coscheduling\uff08\u6216\u8005\u53eb\u505a gang scheduling\uff09\u3002Coscheduling \u8fd9\u4e2a\u7279\u6027\u5bf9\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u6765\u8bf4\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u4e00\u4e2a\u4efb\u52a1\u901a\u5e38\u5305\u542b\u591a\u4e2a pod\uff0c\u53ea\u6709\u5f53\u591a\u4e2a pod \u80fd\u591f\u540c\u65f6\u8fd0\u884c\u65f6\u8fd9\u4e2a\u4efb\u52a1\u624d\u7b97\u662f\u6b63\u5e38\u8fd0\u884c\uff0c\u5982\u679c\u53ea\u6709\u90e8\u5206 pod \u53ef\u4ee5\u8fd0\u884c\u5176\u5b9e\u662f\u4e00\u79cd\u8d44\u6e90\u7684\u6d6a\u8d39\u3002\u56e0\u6b64 coscheduling \u4fdd\u8bc1\u7684\u5c31\u662f\u4e00\u4e2a\u4efb\u52a1\u5fc5\u987b\u6ee1\u8db3\u4e00\u5b9a\u6570\u91cf\u7684 pod \u90fd\u80fd\u591f\u88ab\u8c03\u5ea6\u65f6\u624d\u4f1a\u5b9e\u9645\u5206\u914d\u8d44\u6e90\u3002\u8fd9\u4e2a\u7279\u6027\u5728 K8s \u793e\u533a\u65e9\u6709\u8ba8\u8bba\uff0c\u4e5f\u8bde\u751f\u4e86\u4e00\u4e9b\u76f8\u5173\u8054\u7684\u9879\u76ee\uff0c\u5982 [Volcano](https://volcano.sh)\uff08\u524d\u8eab\u662f [kube-batch](https://github.com/kubernetes-sigs/kube-batch)\uff09\u30025 \u6708\u521d\u8fd9\u4e2a\u63d2\u4ef6\u7684\u7b2c\u4e00\u7248\u5df2\u7ecf\u88ab [merge](https://github.com/kubernetes-sigs/scheduler-plugins/pull/4) \u5230 scheduler-plugins \u9879\u76ee\u3002\\n\\n## Scheduler Support for Elastic Quota Management\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/1ViujTXLP1XX3WKYUTk6u5LTdJ1sX-tVIw9_t9_mLpIc/edit?usp=sharing)\\n\\n\u540c\u6837\u662f\u4e0e K8s \u76f8\u5173\u7684\u4e00\u4e2a\u8ba8\u8bba\uff0c\u4e5f\u540c\u6837\u6765\u81ea\u963f\u91cc\u4e91\u56e2\u961f\u3002`ResourceQuota` \u662f K8s \u76ee\u524d\u63d0\u4f9b\u7684\u4e00\u79cd\u9650\u5236\u67d0\u4e2a namespace \u6700\u5927\u8d44\u6e90\u4f7f\u7528\u91cf\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u7684\u591a\u79df\u6237\u573a\u666f\u4e2d\uff0c`ResourceQuota` \u5f80\u5f80\u663e\u5f97\u4e0d\u591f\u7075\u6d3b\u3002\u5f88\u591a\u65f6\u5019\u6211\u4eec\u662f\u5e0c\u671b\u7ed9\u6bcf\u4e2a\u79df\u6237\u4e00\u4e2a\u53ef\u4ee5\u4fdd\u8bc1\uff08guarantee\uff09\u7684\u6700\u5c0f\u8d44\u6e90\u91cf\uff0c\u4ee5\u53ca\u4e00\u4e2a\u8d85\u5356\u7684\u6700\u5927\u8d44\u6e90\u91cf\u3002\u5f53\u67d0\u4e2a\u79df\u6237\u7684\u8d44\u6e90\u6bd4\u8f83\u7a7a\u95f2\u65f6\uff0c\u5c31\u5141\u8bb8\u5176\u5b83\u79df\u6237\u4e34\u65f6\u79df\u7528\u3002\u4f46\u662f\u8c03\u5ea6\u5668\u4e5f\u8981\u4fdd\u969c\u8fd9\u4e2a\u79df\u6237\u6709\u80fd\u529b\u5728\u5fc5\u8981\u7684\u65f6\u5019\u53ef\u4ee5\u62ff\u56de\u8fd9\u4e9b\u88ab\u79df\u7528\u7684\u8d44\u6e90\uff0c\u8fd9\u901a\u5e38\u662f\u901a\u8fc7\u62a2\u5360\uff08preemption\uff09\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002\u8fd9\u4e2a\u63d0\u6848\u5c31\u63d0\u51fa\u4e86\u6269\u5c55 `ResourceQuota` \u6765\u5b9e\u73b0\u7c7b\u4f3c\u529f\u80fd\u7684\u60f3\u6cd5\u3002"},{"id":"/1","metadata":{"permalink":"/issues/1","source":"@site/blog/1.md","title":"Issue #1","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aCFS\u3001TensorFlow\u3001Alluxio\u3001Rob Pike\u3001Shoegaze","date":"2020-05-21T17:34:22.000Z","formattedDate":"May 21, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":8.005,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #1","date":"2020-05-21 17:34:22 +0800","tags":["issue"]},"prevItem":{"title":"Issue #2","permalink":"/issues/2"},"nextItem":{"title":"Issue #0","permalink":"/issues/0"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aCFS\u3001TensorFlow\u3001Alluxio\u3001Rob Pike\u3001Shoegaze\\n\\n\x3c!--truncate--\x3e\\n\\n## CFS: A Distributed File System for Large Scale Container Platforms\\n\\n[[\u94fe\u63a5]](https://dl.acm.org/doi/10.1145/3299869.3314046)\\n\\n\u8ddf[\u4e0a\u6b21\u4ecb\u7ecd](https://xiaogaozi.org/blog/2020/04/26/weekly-reading-list-issue-1)\u7684 FoundationDB Record Layer \u4e00\u6837\uff0c\u8fd9\u7bc7\u6765\u81ea\u4eac\u4e1c\u56e2\u961f\u7684\u8bba\u6587\u4e5f\u662f\u53d1\u8868\u5728 SIGMOD 2019\uff0c\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u4e3a\u5927\u89c4\u6a21\u5bb9\u5668\u5e73\u53f0\u8bbe\u8ba1\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n\u7cfb\u7edf\u6574\u4f53\u7531 3 \u90e8\u5206\u7ec4\u6210\uff1a\u5143\u6570\u636e\u5b50\u7cfb\u7edf\uff08metadata subsystem\uff09\u3001\u6570\u636e\u5b50\u7cfb\u7edf\uff08data subsystem\uff09\u3001\u8d44\u6e90\u7ba1\u7406\u5668\uff08resource manager\uff09\u3002\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4 inode \u548c dentry\uff08directory entry\uff09\uff0c\u6570\u636e\u5b50\u7cfb\u7edf\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\u5757\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u8d1f\u8d23\u5904\u7406\u5ba2\u6237\u7aef\u7684\u5404\u79cd\u6587\u4ef6\u64cd\u4f5c\u8bf7\u6c42\u4ee5\u53ca\u7ef4\u62a4\u524d\u9762\u4e24\u4e2a\u5b50\u7cfb\u7edf\u7684\u72b6\u6001\u3002\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u548c\u6570\u636e\u5b50\u7cfb\u7edf\u90fd\u662f\u591a partition \u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u591a\u4e2a\u5143\u6570\u636e\u548c\u6570\u636e\u7684 partition \u903b\u8f91\u4e0a\u5171\u540c\u7ec4\u6210\u4e00\u4e2a\u5377\uff08volume\uff09\uff0c\u8fd9\u4e2a\u5377\u5373\u662f\u5bf9\u5ba2\u6237\u7aef\uff08\u5bb9\u5668\uff09\u53ef\u89c1\u7684\u5b58\u50a8\u5355\u5143\u5e76\u4e14\u53ef\u4ee5\u88ab\u6302\u8f7d\uff0c\u901a\u8fc7\u4f20\u7edf\u7684 POSIX \u63a5\u53e3\u8bbf\u95ee\u3002\\n\\n\u56e0\u4e3a\u4e0a\u8ff0 3 \u90e8\u5206\u7ec4\u4ef6\u5185\u90e8\u5176\u5b9e\u90fd\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u56e0\u6b64\u90fd\u7528\u5230\u4e86 Raft \u4f5c\u4e3a\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u8fd8\u7528\u5230\u4e86 RocksDB \u4f5c\u4e3a\u672c\u5730\u6301\u4e45\u5316\u5b58\u50a8\u3002\u7a0d\u5fae\u7279\u6b8a\u7684\u662f\u6570\u636e\u5b50\u7cfb\u7edf\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u7684\u5199\u64cd\u4f5c\u9009\u62e9\u4e86\u4e0d\u540c\u7684\u590d\u5236\u65b9\u6848\uff0c\u8bba\u6587\u91cc\u628a\u8fd9\u4e2a\u53eb\u505a Scenario-Aware Replication\uff0c\u5177\u4f53\u8bb2\u5c31\u662f\u987a\u5e8f\u5199\u64cd\u4f5c\uff08\u6bd4\u5982 append\uff09\u7528\u7684\u662f primary-backup\uff0c\u800c\u8986\u76d6\uff08overwrite\uff09\u64cd\u4f5c\u7528\u7684\u662f Raft\u3002\\n\\n\u7cfb\u7edf\u7684\u53e6\u4e00\u4e2a\u4eae\u70b9\u662f\u57fa\u4e8e\u8d44\u6e90\u5229\u7528\u7387\u7684 partition \u5206\u914d\u7b56\u7565\uff0c\u8bba\u6587\u4e2d\u53eb\u505a Utilization-Based Placement\u3002\u4f20\u7edf\u7684 partition \u5206\u914d\u7b56\u7565\u901a\u5e38\u662f\u54c8\u5e0c\uff0c\u8fd9\u79cd\u7b56\u7565\u7684\u4f18\u70b9\u662f\u7b80\u5355\u4f46\u662f\u5f53\u6269\u7f29\u5bb9\u65f6\u5fc5\u987b\u8fdb\u884c rebalance\u3002CFS \u7684\u505a\u6cd5\u662f\u5143\u6570\u636e\u548c\u6570\u636e\u5b50\u7cfb\u7edf\u5b9a\u671f\u4e0a\u62a5\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u7387\u5230\u8d44\u6e90\u7ba1\u7406\u5668\uff0c\u5f53\u9700\u8981\u521b\u5efa\u65b0\u7684 partition \u65f6\u6839\u636e\u8d44\u6e90\u5229\u7528\u7387\u9009\u62e9\u6700\u4f4e\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u662f\u4e0d\u518d\u9700\u8981 rebalance\u3002\u4f46\u662f\u5bf9\u4e8e\u8fd9\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u5426\u4f1a\u9020\u6210\u6570\u636e\u4e0d\u5747\u8861\u8868\u793a\u5b58\u7591\uff0c\u8bba\u6587\u4e2d\u4e5f\u6ca1\u6709\u505a\u8fc7\u591a\u8bba\u8ff0\u3002\\n\\n\u4e3a\u4e86\u5c3d\u91cf\u51cf\u5c11\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u4ea4\u4e92\uff0c\u4e0d\u8ba9\u67d0\u4e2a\u7cfb\u7edf\u7ec4\u4ef6\u6210\u4e3a\u74f6\u9888\uff0c\u5ba2\u6237\u7aef\u4f1a\u7f13\u5b58\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u3001\u6570\u636e\u5b50\u7cfb\u7edf\u548c\u8d44\u6e90\u7ba1\u7406\u5668\u7684\u4fe1\u606f\u5230\u672c\u5730\uff0c\u5f53\u6267\u884c\u6587\u4ef6\u64cd\u4f5c\u65f6\u4f1a\u4f18\u5148\u8bfb\u53d6\u672c\u5730\u7f13\u5b58\u3002\u5f53\u7136\u67d0\u4e9b\u7ec4\u4ef6\uff08\u6bd4\u5982\u8d44\u6e90\u7ba1\u7406\u5668\uff09\u8fd8\u662f\u6709\u53ef\u80fd\u5728\u67d0\u4e00\u5929\u6210\u4e3a\u74f6\u9888\uff0c\u4f46\u662f\u57fa\u4e8e\u4eac\u4e1c\u7684\u7ecf\u9a8c\u8fd9\u4ef6\u4e8b\u60c5\u57fa\u672c\u4e0a\u4e0d\u4f1a\u53d1\u751f\u3002\\n\\n\u5728\u4e0e Ceph \u7684\u8bc4\u6d4b\u4e2d\uff0cCFS \u5e73\u5747\u6709 3 \u500d\u7684 IOPS \u63d0\u5347\uff0c\u7279\u522b\u662f\u591a\u5ba2\u6237\u7aef\u548c\u968f\u673a\u8bfb\u5199\u7684\u573a\u666f\u3002\u8fd9\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f97\u76ca\u4e8e\u5143\u6570\u636e\u548c\u6570\u636e\u8282\u70b9\u5206\u79bb\u7684\u8bbe\u8ba1\uff0c\u4e14 CFS \u7684\u5143\u6570\u636e\u662f\u5168\u5185\u5b58\u5b58\u50a8\uff0c\u800c Ceph \u5e76\u4e0d\u662f\u3002\\n\\n\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e00\u76f4\u90fd\u662f\u6bd4\u8f83\u91cd\u8981\u7684\u57fa\u7840\u7ec4\u4ef6\uff0c\u5728\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u3001\u5927\u6570\u636e\u3001\u673a\u5668\u5b66\u4e60\u9886\u57df\u6709\u5e7f\u6cdb\u5e94\u7528\u3002\u5e38\u89c1\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5982 HDFS\u3001Ceph\uff0c\u5728\u5982\u4eca\u8fd9\u4e2a\u5168\u9762\u63a8\u884c\u5bb9\u5668\u5316\u7684\u65f6\u4ee3\u8d8a\u6765\u8d8a\u663e\u5f97\u6349\u895f\u89c1\u8098\u3002\u5bb9\u5668\u5316\u4e00\u4e2a\u5f88\u5927\u7684\u7279\u70b9\u662f\u5feb\u901f\u6269\u7f29\u5bb9\uff0c\u4f20\u7edf\u7684\u5b58\u50a8\u7cfb\u7edf\u5728\u8fd9\u4e00\u70b9\u4e0a\u662f\u975e\u5e38\u4e0d\u53cb\u597d\u7684\uff0c\u56e0\u6b64\u624d\u4f1a\u6709\u8d8a\u6765\u8d8a\u591a\u9488\u5bf9\u5bb9\u5668\u5316\u573a\u666f\u7684\u57fa\u7840\u7ec4\u4ef6\u8bde\u751f\uff08\u5177\u4f53\u53ef\u4ee5\u8bbf\u95ee [CNCF](https://www.cncf.io) \u67e5\u770b\uff09\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u7684 CFS \u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u7684\u662f [JuiceFS](https://juicefs.com)\u3002\\n\\nCFS \u76ee\u524d\u5c5e\u4e8e CNCF \u4e0b\u7684 [sandbox \u9879\u76ee](https://www.cncf.io/sandbox-projects)\uff0c\u4e14\u5df2\u7ecf[\u5f00\u6e90](https://github.com/chubaofs/chubaofs)\uff0c\u4f7f\u7528 Go \u8bed\u8a00\u7f16\u5199\u3002\\n\\n## tensorflow/community #237: RFC: Sparse Domain Isolation for Supporting large-scale Sparse Weights Training\\n\\n[[\u94fe\u63a5]](https://github.com/tensorflow/community/pull/237)\\n\\n\u63a8\u8350\u7cfb\u7edf\u5927\u89c4\u6a21\u7a00\u758f\u7279\u5f81\u5206\u5e03\u5f0f\u8bad\u7ec3\u4e00\u76f4\u662f\u5de5\u4e1a\u754c\u4e00\u4ef6\u6709\u6311\u6218\u7684\u4e8b\u60c5\uff0c\u5927\u516c\u53f8\u5185\u90e8\u81ea\u7814\u7684\u8bad\u7ec3\u6846\u67b6\u5927\u591a\u5df2\u7ecf\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u5728\u5f00\u6e90\u793e\u533a\u95ee\u9898\u4ecd\u7136\u5b58\u5728\u3002TensorFlow \u4f5c\u4e3a\u4e5f\u8bb8\u76ee\u524d\u6700\u6d41\u884c\u7684\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\u6846\u67b6\uff0c\u793e\u533a\u91cc\u4e5f\u65e9\u6709\u76f8\u5173\u7684\u8ba8\u8bba\uff08\u6bd4\u5982 [#19324](https://github.com/tensorflow/tensorflow/issues/19324)\u3001[#24539](https://github.com/tensorflow/tensorflow/issues/24539)\u3001[#24915](https://github.com/tensorflow/tensorflow/pull/24915)\uff09\uff0c\u4f46\u57fa\u672c\u90fd\u4ee5\u70c2\u5c3e\u544a\u7ec8\u3002\u6700\u65b0\u7684 RFC #237 \u6765\u81ea\u817e\u8baf\uff0c\u533a\u522b\u4e8e\u73b0\u6709\u7684\u4e00\u4e9b\u5f00\u6e90\u5b9e\u73b0\uff08\u6bd4\u5982\u963f\u91cc\u5df4\u5df4\u7684 [XDL](https://github.com/alibaba/x-deeplearning)\u3001\u5b57\u8282\u8df3\u52a8\u7684 [BytePS](https://github.com/bytedance/byteps)\u3001\u8682\u8681\u91d1\u670d\u7684 [ElasticDL](https://github.com/sql-machine-learning/elasticdl)\uff09\u5b8c\u5168\u81ea\u5df1\u91cd\u65b0\u9020\u4e86\u4e00\u4e2a parameter server\uff0c\u817e\u8baf\u7684\u65b9\u6848\u6700\u5927\u9650\u5ea6\u590d\u7528\u4e86 TensorFlow \u73b0\u6709\u7684\u7ec4\u4ef6\uff0c\u5bf9\u7528\u6237\u7684\u4ee3\u7801\u4fb5\u5165\u4e5f\u6700\u5c0f\u3002\u76ee\u524d\u8fd9\u4e2a RFC \u8fd8\u5728\u8ba8\u8bba\u4e2d\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u8ba2\u9605 PR\u3002\\n\\n## \u6df1\u5165\u4e91\u539f\u751f AI\uff1a\u57fa\u4e8e Alluxio \u6570\u636e\u7f13\u5b58\u7684\u5927\u89c4\u6a21\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\u6027\u80fd\u4f18\u5316\\n\\n[[\u94fe\u63a5]](https://mp.weixin.qq.com/s/2Pj8erPbYuMo7mBJvweJgQ)\\n\\n\u673a\u5668\u5b66\u4e60\u6a21\u578b\u8bad\u7ec3\u7531\u4e8e\u4f9d\u8d56\u5927\u91cf\u7684\u6570\u636e\u4f5c\u4e3a\u8f93\u5165\uff0c\u56e0\u6b64\u6570\u636e I/O \u7684\u6027\u80fd\u4f1a\u76f4\u63a5\u5f71\u54cd\u6a21\u578b\u8bad\u7ec3\u7684\u6548\u7387\u3002\u6709\u65f6\u95f4\u4f1a\u53d1\u73b0\u8ba1\u7b97\u8bbe\u5907\u7684\u7b97\u529b\u5347\u7ea7\u4e86\uff0c\u4f46\u662f\u6570\u636e I/O \u8ddf\u4e0d\u4e0a\u4e86\uff0c\u53cd\u800c\u62d6\u6162\u4e86\u6574\u4e2a\u8bad\u7ec3\u6d41\u7a0b\u3002\u963f\u91cc\u4e91\u56e2\u961f\u5206\u4eab\u7684\u8fd9\u7bc7\u6587\u7ae0\u4fbf\u662f\u4ed6\u4eec\u5728\u4f7f\u7528 Alluxio\uff08\u8bd5\u56fe\uff09\u52a0\u901f\u6570\u636e I/O \u7684\u8fc7\u7a0b\u4e2d\u7684\u7ecf\u9a8c\uff0c\u867d\u7136\u6700\u540e\u7684\u4f18\u5316\u7ed3\u679c\u6027\u80fd\u6307\u6807\u5176\u5b9e\u4e5f\u53ea\u662f\u57fa\u672c\u8ddf\u672c\u5730\u8bfb\u53d6\u6301\u5e73\u3002\\n\\n## Rob Pike interview: \u201cGo has indeed become the language of cloud infrastructure\u201d\\n\\n[[\u94fe\u63a5]](https://evrone.com/rob-pike-interview)\\n\\n\u6ca1\u5565\u597d\u4ecb\u7ecd\u7684\u4e86\uff0c\u503c\u5f97\u4e00\u8bfb\u7684\u4e00\u7bc7\u91c7\u8bbf\u3002\u6587\u4e2d\u6709\u4e24\u4e2a\u6709\u8da3\u7684\u95ee\u9898\uff1a\\n\\n- **\u5bf9\u4e8e Rust \u5ba3\u79f0\u7684\u300c\u6ca1\u6709 GC\u300d\u7684\u8bbe\u8ba1\u6709\u4ec0\u4e48\u770b\u6cd5**\uff1aRob Pike \u53ea\u662f\u8868\u793a\u4e86\u4ed6\u5bf9 Rust \u5f88\u611f\u5174\u8da3\uff0c\u5176\u5b83\u610f\u89c1\u4e0d\u4fbf\u53d1\u8868\u3002\\n- **\u5982\u679c\u53ef\u4ee5\u65f6\u95f4\u65c5\u884c\u5230\u6700\u521d\u8bbe\u8ba1 Go \u7684\u65f6\u5019\u60f3\u7ed9\u81ea\u5df1\u4e00\u4e2a\u4ec0\u4e48\u5fe0\u544a**\uff1a\u65e0\u89c6\u90a3\u4e9b\u4ec7\u6068\u8005\uff08haters\uff09\uff0c\u53ea\u9700\u8981\u8046\u542c\u90a3\u4e9b\u7406\u89e3\u4ee5\u53ca\u548c\u4f60\u6709\u5171\u540c\u76ee\u6807\u7684\u4eba\u7684\u58f0\u97f3\u3002\u4e0d\u53ef\u80fd\u6bcf\u4e00\u4e2a\u4eba\u90fd\u8ba4\u540c\u4f60\u6b63\u5728\u505a\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u90a3\u4e9b\u9f13\u52b1\u4f60\u524d\u8fdb\u7684\u4eba\u4f1a\u662f\u63d0\u4f9b\u7ed9\u4f60\u975e\u5e38\u68d2\uff08fantastic\uff09\u7684\u60f3\u6cd5\u3001\u80fd\u91cf\u548c\u7075\u611f\u7684\u6e90\u6cc9\u3002\\n\\n## \u5b64\u82b3\u300c\u81ea\u8d4f\u300d\uff1a\u76ef\u978b\u97f3\u4e50\u7684\u524d\u4e16\u4e0e\u4eca\u751f\\n\\n[[\u4e0a]](https://www.gcores.com/articles/121368) [[\u4e0b]](https://www.gcores.com/articles/123770)\\n\\n\u8fd9\u4e24\u7bc7\u6587\u7ae0\u6765\u81ea\u300c\u7adf\u7136\u8fd8\u80fd\u804a\u6e38\u620f\u300d\u7684\u673a\u6838\uff0c\u76f8\u5bf9\u7cfb\u7edf\u5730\u4ecb\u7ecd\u4e86\u300c\u76ef\u978b\uff08shoegaze\uff09\u300d\u8fd9\u79cd\u97f3\u4e50\u98ce\u683c\uff0c\u4f5c\u4e3a\u76ee\u524d\u53ef\u80fd\u662f\u9664\u4e86\u540e\u670b\u514b\u4ee5\u5916\u6211\u6700\u559c\u6b22\u7684\u97f3\u4e50\u98ce\u683c\u975e\u5e38\u9ad8\u5174\u80fd\u591f\u6709\u4eba\u79d1\u666e\uff0c\u7a0d\u5fae\u6b20\u7f3a\u7684\u662f\u6587\u4e2d\u6ca1\u6709\u63d0\u5230\u4efb\u4f55\u4e2d\u56fd\u7684\u4e50\u961f\u3002"},{"id":"/0","metadata":{"permalink":"/issues/0","source":"@site/blog/0.md","title":"Issue #0","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aLightRec\u3001TFRT\u3001MLOps\u3001Mid-stack inlining\u3001Uber\u2019s Microservice","date":"2020-05-11T14:44:52.000Z","formattedDate":"May 11, 2020","tags":[{"label":"issue","permalink":"/issues/tags/issue"}],"readingTime":5.99,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Issue #0","date":"2020-05-11 14:44:52 +0800","tags":["issue"]},"prevItem":{"title":"Issue #1","permalink":"/issues/1"}},"content":"> \u672c\u671f\u5173\u952e\u8bcd\uff1aLightRec\u3001TFRT\u3001MLOps\u3001Mid-stack inlining\u3001Uber\u2019s Microservice\\n\\n\x3c!--truncate--\x3e\\n\\n## LightRec: a Memory and Search-Efficient Recommender System\\n\\n[[\u94fe\u63a5]](http://staff.ustc.edu.cn/~liandefu/paper/lightrec.pdf)\\n\\n\u8fd9\u7bc7\u8bba\u6587\u7531\u5fae\u8f6f\u4e9a\u6d32\u7814\u7a76\u9662\u4e0e\u4e2d\u79d1\u5927\u5171\u540c\u53d1\u8868\u5728 [WWW 2020](https://www2020.thewebconf.org) \u4f1a\u8bae\u4e0a\uff0c\u63d0\u51fa\u4e86\u4e00\u79cd\u65b0\u7684\u8868\u793a\u7269\u54c1\u5411\u91cf\u7684\u65b9\u6cd5\uff0c\u5927\u5e45\u964d\u4f4e\u5b58\u50a8\u5411\u91cf\u6240\u9700\u7a7a\u95f4\u7684\u540c\u65f6\u8fd8\u663e\u8457\u63d0\u5347\u4e86\u53ec\u56de\u6548\u679c\u3002\u4e00\u4e2a\u76f4\u89c2\u7684\u6570\u636e\uff1aLightRec \u5c06 1 \u5343\u4ebf 256 \u7ef4\u53cc\u7cbe\u5ea6\u5411\u91cf\u7684\u5185\u5b58\u5360\u7528\u4ece 9.5 GB \u964d\u5230\u4e86 337 MB\uff0c\u8fd9\u662f\u975e\u5e38\u60ca\u4eba\u7684\uff01\u73b0\u5728\u5de5\u4e1a\u754c\u5e38\u7528\u7684 [nmslib](https://github.com/nmslib/nmslib) \u548c [Faiss](https://github.com/facebookresearch/faiss) \u90fd\u65e0\u6cd5\u5b9e\u73b0\u5982\u6b64\u9ad8\u7684\u538b\u7f29\u6bd4\uff0c\u56e0\u6b64\u5f88\u591a\u65f6\u5019\u90fd\u9700\u8981\u501f\u52a9\u5206\u5e03\u5f0f\u5b58\u50a8\u6765\u6ee1\u8db3\u4e1a\u52a1\u573a\u666f\uff0c\u5982\u679c\u771f\u7684\u5982\u8bba\u6587\u4e2d\u6240\u63cf\u8ff0\u7684\u4e00\u6837\u90a3\u5355\u673a\u5b58\u50a8\u5728\u672a\u6765\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u6765\u8bf4\u90fd\u662f\u5b8c\u5168\u8db3\u591f\u7684\u3002\\n\\n\u8fd9\u91cc\u7b80\u5355\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u5411\u91cf\u53ec\u56de\u5bf9\u4e8e\u5f53\u4e0b\u7684\u63a8\u8350\u7cfb\u7edf\u5982\u6b64\u91cd\u8981\uff0c\u4f20\u7edf\u7684\u53ec\u56de\u662f\u57fa\u4e8e\u5012\u6392\u7d22\u5f15\u7684\u65b9\u5f0f\uff0c\u6b63\u5982\u6211\u5728[\u4e4b\u524d\u7684\u4e00\u7bc7\u6587\u7ae0](https://xiaogaozi.org/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1)\u4e2d\u4ecb\u7ecd\u7684\u90a3\u6837\uff0c\u53ec\u56de\u4e0e\u6a21\u578b\u4f18\u5316\u76ee\u6807\u4e4b\u95f4\u7684\u5dee\u5f02\u8f83\u5927\u5bfc\u81f4\u53ec\u56de\u6548\u679c\u59cb\u7ec8\u8f83\u5dee\u3002\u81ea\u4ece [Learning Deep Structured Semantic Models for Web Search using Clickthrough Data](https://www.microsoft.com/en-us/research/publication/learning-deep-structured-semantic-models-for-web-search-using-clickthrough-data) \u8fd9\u7bc7\u8bba\u6587\uff08\u540c\u6837\u4e5f\u662f\u7531\u5fae\u8f6f\u7814\u7a76\u9662\u53d1\u8868\uff09\u63d0\u51fa DSSM\uff08Deep Structured Semantic Models\uff09\u4ee5\u540e\uff0c\u5c06\u53ec\u56de\u4e0e DNN \u8fdb\u884c\u7ed3\u5408\uff0c\u663e\u8457\u63d0\u5347\u4e86\u53ec\u56de\u7684\u6548\u679c\uff0c\u5728\u5f88\u591a\u516c\u53f8\u7684\u5b9e\u8df5\u4e2d\u4e5f\u7684\u786e\u8bba\u8bc1\u4e86 DSSM \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u6548\u7684\u53ec\u56de\u65b9\u5f0f\u3002DSSM \u7684\u6838\u5fc3\u662f\u5206\u522b\u4e3a\u7269\u54c1\u548c\u7528\u6237\u751f\u6210\u5411\u91cf\uff0c\u518d\u901a\u8fc7 ANN\uff08Approximate Nearest Neighbors\uff09\u67e5\u8be2\u76f8\u4f3c\u5411\u91cf\u4ece\u800c\u5b9e\u73b0\u53ec\u56de\u3002\u56e0\u6b64\u5411\u91cf\u7684\u5b58\u50a8\u548c\u67e5\u8be2\u6548\u7387\u51b3\u5b9a\u4e86\u5728\u7ebf\u8bf7\u6c42\u7684\u6548\u679c\u548c\u6027\u80fd\uff0c\u5982\u4f55\u5e73\u8861\u5411\u91cf\u7d22\u5f15\u7684\u7a7a\u95f4\u5360\u7528\u548c\u53ec\u56de\u6548\u679c\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\\n\\n\u5fae\u8f6f\u7814\u7a76\u9662\u7684\u5fae\u4fe1\u516c\u4f17\u53f7\u6709\u4e00\u7bc7\u7b80\u77ed\u7684\u9488\u5bf9\u8fd9\u7bc7\u8bba\u6587\u7684[\u4e2d\u6587\u7248\u4ecb\u7ecd](https://mp.weixin.qq.com/s/E43gc16A3OVWgxyfdUxr7g)\uff0c\u6709\u5174\u8da3\u4e5f\u53ef\u4ee5\u5148\u770b\u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## TFRT: A new TensorFlow runtime\\n\\n[[\u94fe\u63a5]](https://blog.tensorflow.org/2020/04/tfrt-new-tensorflow-runtime.html)\\n\\nGoogle \u8fd1\u671f\u5f00\u6e90\u4e86\u65b0\u7684 TensorFlow \u8fd0\u884c\u65f6 TFRT\uff08TensorFlow Runtime\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u4ecb\u4e8e\u4e0a\u5c42\u7528\u6237\u4ee3\u7801\u548c\u5e95\u5c42\u8bbe\u5907\u4e4b\u95f4\u7684\u6267\u884c\u73af\u5883\u3002\u9879\u76ee\u7684\u613f\u666f\u662f\u5b9e\u73b0\u4e00\u4e2a\u7edf\u4e00\u7684\u3001\u53ef\u6269\u5c55\u7684\u3001\u6027\u80fd\u9996\u5c48\u4e00\u6307\uff08best-in-class\uff09\u7684\uff0c\u540c\u65f6\u53ef\u8de8\u8d8a\u591a\u79cd\u9886\u57df\u786c\u4ef6\uff08domain specific hardware\uff09\u7684\u8fd0\u884c\u65f6\u3002\u672a\u6765 TFRT \u4f1a\u6210\u4e3a TensorFlow \u9ed8\u8ba4\u7684\u8fd0\u884c\u65f6\uff0c\u76ee\u524d\u8fd8\u5728\u96c6\u6210\u4e2d\u3002\u4ece ResNet-50 \u7684 inference \u6d4b\u8bd5\u7ed3\u679c\u4e0a\u770b\u5e73\u5747\u63d0\u5347\u4e86 28% \u7684\u6027\u80fd\u3002\\n\\n## Why We Need DevOps for ML Data\\n\\n[[\u94fe\u63a5]](https://tecton.ai/blog/devops-ml-data)\\n\\n\u867d\u7136\u8fd9\u662f\u4e00\u7bc7\u4ea7\u54c1\u63a8\u5e7f\u8f6f\u6587\uff08\u5728\u6587\u7ae0\u6700\u540e\u4e00\u8282\uff09\uff0c\u4f46\u662f\u6587\u7ae0\u4e2d\u666e\u53ca\u7684\u5173\u4e8e DevOps \u4e0e\u673a\u5668\u5b66\u4e60\u4e4b\u95f4\u7684\u5173\u7cfb\u8fd8\u662f\u975e\u5e38\u6709\u4ef7\u503c\u7684\u3002\u5f88\u591a\u4eba\u53ef\u80fd\u4ee5\u4e3a\u673a\u5668\u5b66\u4e60\u5c31\u53ea\u662f\u6a21\u578b\u7b97\u6cd5\u800c\u5df2\uff0c\u8bda\u7136\u8fd9\u662f\u5b66\u672f\u7814\u7a76\u7684\u57fa\u77f3\uff0c\u4f46\u662f\u8981\u771f\u6b63\u628a\u673a\u5668\u5b66\u4e60\u5e94\u7528\u5230\u5de5\u4e1a\u754c\u5149\u6709\u7b97\u6cd5\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\u3002Google \u8457\u540d\u7684 [Hidden Technical Debt in Machine Learning Systems](https://papers.nips.cc/paper/5656-hidden-technical-debt-in-machine-learning-systems.pdf.) \u8bba\u6587\u5df2\u7ecf\u8bba\u8ff0\u4e86\u90a3\u4e9b\u9690\u85cf\u5728\u6a21\u578b\u80cc\u540e\u7684\u5f80\u5f80\u88ab\u4eba\u5ffd\u7565\u7684\u6280\u672f\uff0c\u6a21\u578b\u89c4\u6a21\u8d8a\u5927\u9700\u8981\u4ed8\u51fa\u7684\u5de5\u7a0b\u52aa\u529b\u4e5f\u662f\u8d8a\u5927\u7684\uff08\u6240\u4ee5\u5f88\u591a\u65f6\u5019\u5927\u516c\u53f8\u624d\u9700\u8981\u81ea\u5df1\u9020\u8f6e\u5b50\uff09\u3002\u4f5c\u4e3a\u884d\u751f\u9605\u8bfb\u4e5f\u53ef\u4ee5\u540c\u65f6\u770b\u770b [How LinkedIn, Uber, Lyft, Airbnb and Netflix are Solving Data Management and Discovery for Machine Learning Solutions](https://towardsdatascience.com/how-linkedin-uber-lyft-airbnb-and-netflix-are-solving-data-management-and-discovery-for-machine-9b79ee9184bb) \u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## Mid-stack inlining in Go\\n\\n[[\u94fe\u63a5]](https://dave.cheney.net/2020/05/02/mid-stack-inlining-in-go)\\n\\nDave Cheney \u7ee7\u7eed\u79d1\u666e Go \u7684\u4e00\u4e9b\u5b9e\u73b0\u7ec6\u8282\uff0c\u8fd9\u6b21\u7684\u4e3b\u9898\u662f\u7f16\u8bd1\u5668\u5982\u4f55\u5b9e\u73b0 mid-stack inlining\u3002\u6240\u8c13 mid-stack inlining \u5c31\u662f\u5c06\u90a3\u4e9b\u8c03\u7528\u4e86\u5176\u5b83\u51fd\u6570\u7684\u51fd\u6570\u53d8\u6210 inline\uff0c\u76f8\u5bf9\u7684\u8fd8\u6709 leaf inlining\uff0c\u5373\u4e0d\u8c03\u7528\u4efb\u4f55\u5176\u5b83\u51fd\u6570\u3002\u6709\u5174\u8da3\u4e86\u89e3 leaf inlining \u7684\u53ef\u4ee5\u770b Dave Cheney \u7684[\u4e0a\u4e00\u7bc7\u6587\u7ae0](https://dave.cheney.net/2020/04/25/inlining-optimisations-in-go)\u3002\\n\\n## Why We Leverage Multi-tenancy in Uber\u2019s Microservice Architecture\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/multitenancy-microservice-architecture)\\n\\nUber \u4ecb\u7ecd\u4e86\u4ed6\u4eec\u5728\u5fae\u670d\u52a1\u9886\u57df\u5b9e\u8df5\u7684\u4e00\u4e2a\u7ecf\u9a8c\u300c\u591a\u79df\u6237\u300d\uff0c\u7b80\u5355\u8bb2\u5c31\u662f\u8ba9\u8bf7\u6c42\u94fe\u8def\u4e0a\u7684\u6240\u6709\u7ec4\u4ef6\u548c\u7cfb\u7edf\u90fd\u80fd\u591f\u611f\u77e5\u300c\u79df\u6237\u300d\u8fd9\u4e2a\u6982\u5ff5\uff0c\u6bd4\u5982\u79df\u6237\u53ef\u4ee5\u5206\u4e3a\u751f\u4ea7\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\u3002Uber \u5217\u4e3e\u4e86\u4e24\u4e2a\u5e94\u7528\u573a\u666f\uff1a\u96c6\u6210\u6d4b\u8bd5\u548c Canary \u90e8\u7f72\uff0c\u8fd9\u4e24\u4e2a\u573a\u666f\u90fd\u4f9d\u8d56\u751f\u4ea7\u73af\u5883\u7684\u8bf7\u6c42\uff0c\u6709\u4e86\u79df\u6237\u7684\u6982\u5ff5\u5c31\u53ef\u4ee5\u81ea\u52a8\u8fdb\u884c\u8bf7\u6c42\u8def\u7531\u548c\u6570\u636e\u9694\u79bb\u3002\u613f\u666f\u5176\u5b9e\u633a\u7f8e\u597d\uff0c\u4f46\u300c\u4ee3\u4ef7\u300d\u4e5f\u662f\u4e0d\u5bb9\u5ffd\u89c6\uff0c\u524d\u9762\u8bb2\u4e86\u8981\u8ba9\u6240\u6709\u7ec4\u4ef6\u548c\u7cfb\u7edf\u90fd\u611f\u77e5\u5c31\u975e\u5e38\u4f9d\u8d56\u57fa\u7840\u7ec4\u4ef6\u7684\u7edf\u4e00\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5f88\u591a\u65f6\u5019\u5e76\u4e0d\u5355\u7eaf\u662f\u4e00\u4e2a\u6280\u672f\u95ee\u9898\u3002\u5982\u4f55\u505a\u597d\u4e0d\u540c\u73af\u5883\u7684\u6570\u636e\u9694\u79bb\u4e5f\u662f\u4e00\u4e2a\u96be\u9898\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u6587\u7ae0\u5e76\u6ca1\u6709\u505a\u7279\u522b\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002"}]}')}}]);